<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"    
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" >

    <f:metadata>
        <f:viewParam name="tipoProc" value="0" />
    </f:metadata>

    <h:body>
        <ui:composition template="../template/mainLayout.xhtml">
            <ui:define name="content">
                <script id="emo1608202301" type="text/javascript">
$(document).on('keyup keypress', 'form input[type="text"]', function(e) {
  if(e.which === 13) {
    e.preventDefault();
    return false;
  }
});
$(document).on('keyup keypress', 'form input[type="checkbox"]', function(e) {
  if(e.which === 13) {
    e.preventDefault();
    return false;
  }
});

                </script>
                <div class="mainPanelAmplio" >
                    <h:form id="mainForm">
                        <p:messages id="validaMsg" class="validaMsg" globalOnly="true" closable="true" >
                            <p:autoUpdate />
                        </p:messages>
                        <p:focus context="mainForm"/>

                        <div id="busqueda" style="height: 30px !important;">
                            <p:outputLabel value="#{registroSolucionMB.validaPrescripcion ? 'Órdenes de Mezclas ANT y ONC' : 'Prescripciones de Mezclas' }"
                                           style="color: #FFFFFF;font-size: 18px !important;font-weight: bold;margin-right: 50px;" />
                            <p:selectCheckboxMenu id="menu" value="#{registroSolucionMB.tipoPrescripcionSelectedList}" label="Tipo" title="Filtro por tipo de Prescripción"
                                                  filter="true" filterMatchMode="startsWith" panelStyle="width:110px" style="width: 110px;">
                                <f:selectItem value="#{N}" itemLabel="Normal" itemValue="N" />
                                <f:selectItem value="#{U}" itemLabel="Urgente" itemValue="U" />
                                <f:selectItem value="#{D}" itemLabel="Dosis Única" itemValue="D" />
                            </p:selectCheckboxMenu>
                            <p:spacer width="10px;" />
                            <p:inputText id="busqueda" 
                                         value="#{registroSolucionMB.cadenaBusqueda}" 
                                         class="textSearch"
                                         style="width: 30% !important;" 
                                         placeholder="Buscar..." title="Buscar por Número de Cama, Paciente o Servicio" />
                            <i class="fa fa-search" aria-hidden="true" style="position:absolute;  text-indent: 5px; margin-top: 3px; margin-left: -25px; color: #AAAAAA; font-size: 0.9em;" />
                            <p:spacer width="12px" />
                            <p:commandButton title="Buscar" value="Buscar" icon="ui-icon-search" 
                                             onclick="PF('statusProcess').show();"
                                             oncomplete="PF('statusProcess').hide();}"
                                             actionListener="#{registroSolucionMB.obtenerSurtimientos}"
                                             update="@form"  />
                        </div>

                        <p:commandButton title="Crear nuevo registro" value="#{registroSolucionMB.validaPrescripcion ? 'Nueva Orden' : 'Nueva Prescripción'}" styleClass="btnMusAzul"
                                         onclick="PF('statusProcess').show();" style="margin-top: 5px; margin-bottom: 5px;"
                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('modalNuevaOrden').show(); } "
                                         update=":formNuevaOrden" actionListener="#{registroSolucionMB.setNuevaOrden}"
                                         rendered="#{registroSolucionMB.permiso.puedeCrear}">
                            <p:resetInput target="formNuevaOrden"/>
                        </p:commandButton>&nbsp;&nbsp;&nbsp;&nbsp;
                        
                        <p:commandButton title="Crear nuevo registro múltiple" value="#{registroSolucionMB.validaPrescripcion ? 'Nueva Orden' : 'Nueva Prescripción Múltilpe'}" styleClass="btnMusAzul"
                                         onclick="PF('statusProcess').show();" style="margin-top: 5px; margin-bottom: 5px;"
                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('modalNuevaOrdenMultiple').show(); } "
                                         update=":formNuevaOrdenMultiple" actionListener="#{registroSolucionMB.setNuevaOrden}"
                                         rendered="#{registroSolucionMB.permiso.puedeCrear}">
                            <p:resetInput target="formNuevaOrdenMultiple"/>
                        </p:commandButton>
                        
                        <p:toolbar rendered="false">
                            <p:toolbarGroup id="toolbar"  >
                                <p:commandButton id="btnModificar" value="Modificar"
                                                 title="Modificar Rol" icon="ui-icon-pencil"
                                                 onclick="PF('statusProcess').show()"
                                                 oncomplete="PF('statusProcess').hide(); PF('modalSurtimiento').show();"
                                                 update=":formSurtimientoDetail"
                                                 disabled="#{!registroSolucionMB.permiso.puedeEditar or !registroSolucionMB.elementoSeleccionado}"
                                                 rendered="false" />
                            </p:toolbarGroup>
                        </p:toolbar>

                        <p:tabView>
                            <p:ajax event="tabChange" process="@this" update="mainForm:tblSurtimientos" listener="#{registroSolucionMB.onTabChange}"/>
                            <p:tab id="#{registroSolucionMB.porValidar}" title="#{registroSolucionMB.validaPrescripcion ? 'PROGRAMADAS' : 'SOLICITADAS' }" />
                            <p:tab id="#{registroSolucionMB.validada}" title="VALIDADAS"  />
                            <p:tab id="#{registroSolucionMB.rechazada}" title="CANCELADAS" />
                        </p:tabView>
                        <p:panel id="dataTable" style="margin:-28px 0px;">
                            <p:dataTable id="tblSurtimientos" 
                                         widgetVar="tblSurtimientos"         
                                         value="#{registroSolucionMB.dispensacionSolucionLazy}"
                                         lazy="true"
                                         selection="#{registroSolucionMB.surtimientoExtendedSelected}"
                                         var="item" 
                                         rowKey="#{item.idSurtimiento}"
                                         rowIndexVar="row"
                                         selectionMode="single"
                                         style="margin-bottom:5px;"
                                         styleClass="mystyle"
                                         scrollRows="10" scrollable="true" scrollHeight="350"
                                         emptyMessage="No se encontraron Registros"
                                         reflow="true"
                                         paginatorTemplate=" {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
                                         currentPageReportTemplate=" "
                                         paginator="true"
                                         rows="10"
                                         paginatorPosition="bottom"
                                         rowStyleClass="#{item.tipoPrescripcion eq 'U' ? 'urgente' : item.tipoPrescripcion eq 'D' ? 'unica': null}" >
                                <p:ajax event="rowDblselect" listener="#{registroSolucionMB.verSurtimiento}" 
                                        update=":formEditarOrden, :formEditarOrden:hrsInfusion"
                                        onstart="PF('statusProcess').show()"
                                        oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('modalEditarOrden').show(); } " />

                                <ui:remove>
                                    <f:facet name="{Exporters}">
                                        <div style="float:right">
                                            <h:commandLink >
                                                <img src="#{request.contextPath}/resources/img/btnxls.png" style="height: 25px !important; margin-left: 5px !important;" title="Exportar" />
                                                <p:dataExporter type="xls" target="tblSurtimientos" fileName="prescripcionesPorValidar" />
                                            </h:commandLink>
                                        </div>
                                    </f:facet>
                                </ui:remove>

                                <p:column style="text-align: left; width: 6% "
                                          sortBy="#{item.tipoPrescripcion}" exportable="false"
                                          rendered="false" >
                                    <f:facet name="header" >
                                        <h:outputText value="Tipo" />
                                    </f:facet>
                                    <p:outputPanel rendered="#{item.tipoPrescripcion eq 'N'}" >
                                        <img src="#{request.contextPath}/resources/img/cpnormal.png" style="height: 15px !important; margin-left: 0px !important;" />
                                        <p:spacer width="8px"/>
                                        <h:outputText value="Normal"/>
                                    </p:outputPanel>
                                    <p:outputPanel rendered="#{item.tipoPrescripcion eq 'U'}" >
                                        <img src="#{request.contextPath}/resources/img/cpurgente.png" style="height: 15px !important; margin-left: 0px !important;" />
                                        <p:spacer width="8px"/>
                                        <h:outputText value="Urgente"/>
                                    </p:outputPanel>
                                    <p:outputPanel rendered="#{item.tipoPrescripcion eq 'D'}" >
                                        <img src="#{request.contextPath}/resources/img/cpunica.png" style="height: 15px !important; margin-left: 0px !important;" />
                                        <p:spacer width="8px"/>
                                        <h:outputText value="Dosis Única"/>
                                    </p:outputPanel>
                                </p:column>

                                <p:column style="text-align: left; width: 6% "
                                          sortBy="#{item.tipoSolucion}" filterBy="#{item.tipoSolucion}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Solución" />
                                    </f:facet>
                                    <h:outputText value="#{item.tipoSolucion}" />
                                </p:column>

                                <p:column style="text-align: left; width: 10% "
                                          sortBy="#{item.fechaProgramada}" filterBy="#{item.fechaProgramada}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Fecha Programada" />
                                    </f:facet>
                                    <h:outputText styleClass="#{item.prioridad eq 'Alta' ? 'prioridadAlta' : item.prioridad eq 'Media' ? 'prioridadMedia' : item.prioridad eq 'Baja' ? 'prioridadBaja' : null}"  value="#{item.fechaProgramada}" >
                                        <f:convertDateTime pattern="yyyy-MM-dd HH:mm" />
                                    </h:outputText>
                                </p:column>
                                
                                <p:column style="text-align: left; width: 10% "
                                          sortBy="#{item.fechaParaEntregar}" rendered="false" >
                                    <f:facet name="header" >
                                        <h:outputText value="Fecha Entrega" />
                                    </f:facet>
                                    <h:outputText value="#{item.fechaParaEntregar}" >
                                        <f:convertDateTime pattern="yyyy-MM-dd HH:mm" />
                                    </h:outputText>
                                </p:column>

                                <p:column style="text-align: left; width: 8%"
                                          sortBy="#{item.folioPrescripcion}" filterBy="#{item.folioPrescripcion}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Prescripción" />
                                    </f:facet>
                                    <h:outputText value="#{item.folioPrescripcion}" />
                                </p:column>
                                
                                <p:column style="text-align: left; width: 8% "
                                          sortBy="#{item.folio}" filterBy="#{item.folio}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Mezcla" />
                                    </f:facet>
                                    <h:outputText value="#{item.folio}" />
                                </p:column>

                                <p:column style="text-align: left; width: 12% " 
                                          sortBy="#{item.nombrePaciente}" filterBy="#{item.nombrePaciente}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Paciente" />
                                    </f:facet>
                                    <h:outputText value="#{item.nombrePaciente}" />
                                </p:column>

                                <p:column style="text-align: left; width: 14% " 
                                           filterBy="#{item.descripcion}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Descripción Mezcla" />
                                    </f:facet>
                                    <h:outputText value="#{item.descripcion}" />
                                </p:column>
                                
                                <p:column style="text-align: left; width: 10% " 
                                          sortBy="#{item.nombreEstructura}" filterBy="#{item.nombreEstructura}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Servicio" />
                                    </f:facet>
                                    <h:outputText value="#{item.nombreEstructura}" />
                                </p:column>

                                <p:column style="text-align: left; width: 6% "
                                          sortBy="#{item.cama}" filterBy="#{item.cama}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Ubicación" />
                                    </f:facet>
                                    <h:outputText value="#{item.cama}" />
                                </p:column>

                                <p:column style="text-align: left; width: 10% " 
                                          sortBy="#{item.nombreMedico}" filterBy="#{item.nombreMedico}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Médico" />
                                    </f:facet>
                                    <h:outputText value="#{item.nombreMedico}" />
                                </p:column>
                                
                                <p:column style="text-align: left; width: 12% " 
                                          sortBy="#{item.estatusSolucion}" filterBy="#{item.estatusSolucion}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Estatus" />
                                    </f:facet>
                                    <h:outputText value="#{item.estatusSolucion}" title="#{item.comentariosRechazo}" />
                                </p:column>
                                
                                
                                <p:column style="text-align: left; width: 6% " exportable="false">
                                    <f:facet name="header" >
                                        <h:outputText value="Acciones" />
                                    </f:facet>
                                    <p:commandLink title="Ver/Modificar" onclick="PF('statusProcess').show()"
                                                   oncomplete="PF('statusProcess').hide(); PF('modalEditarOrden').show();"
                                                   action="#{registroSolucionMB.verSurtimiento}"
                                                   update=":formEditarOrden"
                                                   disabled="#{!registroSolucionMB.permiso.puedeEditar}">
                                        <f:actionListener binding="#{registroSolucionMB.setSurtimientoExtendedSelected(item)}" />
                                        <i class="fa fa-eye iconMusAzul" style="font-size: large"/>
                                    </p:commandLink>
                                    <p:spacer width="10" />
                                    <p:commandLink id="linkImprimir" onclick="PF('statusProcess').show();" title="Imprimir prescripción" 
                                                   oncomplete="PF('statusProcess').hide();if(args.estatus) {PF('mdlReport').show();}"
                                                   actionListener="#{registroSolucionMB.imprimeDocumento(item)}"
                                                   update="formPDF"
                                                   styleClass="iconMusAzul" >
                                        <i class="fa fa-print" style="font-size: large" />
                                    </p:commandLink>
                                </p:column>
                            </p:dataTable>

                            <p:contextMenu for="tblSurtimientos">
                                <p:menuitem id="btnModificarContext" value="Modificar" icon="ui-icon-pencil"
                                            onclick="PF('statusProcess').show()"
                                            oncomplete="PF('statusProcess').hide(); if(args.status) { PF('modalEditarOrden').show(); }"
                                            actionListener="#{registroSolucionMB.verSurtimiento}"
                                            update=":formEditarOrden"
                                            disabled="#{!registroSolucionMB.permiso.puedeEditar}" />
                            </p:contextMenu>

                        </p:panel>

                    </h:form>
                </div>

                <p:dialog header="ADVERTENCIA" id="idWarning"
                          widgetVar="modalWarning"
                          closeOnEscape="false"  resizable="false"
                          closable="false" 
                          modal="true" style="align-content: center" >
                    <h:form id="formWarning">
                        <div style="height: 50px" align="center" >
                            <h:outputText id="msjWarning" value="#{registroSolucionMB.msjWarning}" escape="false" />
                        </div>
                        <hr/>
                        <p:commandButton value="Cerrar" icon="fa fa-times-circle" onclick="PF('modalWarning').hide()"
                                         style="margin-right: 1px;float: right;" />  
                    </h:form>
                </p:dialog>


                <p:dialog header="#{registroSolucionMB.validaPrescripcion ? 'NUEVA ORDEN DE MEZCLA' : 'NUEVA PRESCRIPCIÓN'}"
                          widgetVar="modalNuevaOrden"
                          closeOnEscape="true"
                          closable="true"
                          width="95%"
                          height="650px" 
                          position="30,10"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important;">
                    <h:form id="formNuevaOrden"  >
                        <p:messages id="msgValidaRegistro" globalOnly="false" showDetail="false" closable="true" >
                            <p:autoUpdate />
                        </p:messages>
                        <div class="ui-g">
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Folio Surtimiento: " 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <p:outputLabel id="folioSurt" value="#{registroSolucionMB.surtimientoExtendedSelected.folio}" 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel value="Fecha Registro: " 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <p:outputLabel id="fechaRegistro" title="Fecha de Registro"
                                                   value="#{registroSolucionMB.surtimientoExtendedSelected.insertFecha}" 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" >
                                        <f:convertDateTime type="date" pattern="dd/MM/yyyy HH:mm"/>
                                    </p:outputLabel>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Estatus: " 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <p:outputLabel id="estatusSurtimiento" value="#{registroSolucionMB.surtimientoExtendedSelected.estatusSurtimiento}"
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                </div>
                            </div>

                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="txtFolioPrescripcion"  value="Folio Prescripción: "/>
                                    <p:inputText id="txtFolioPrescripcion" widgetVar="txtFolioPrescripcion"
                                                 value="#{registroSolucionMB.surtimientoExtendedSelected.folioPrescripcion}"
                                                 size="12" maxlength="20" required="true"
                                                 requiredMessage="Debe ingresar el Folio de la Prescripción"
                                                 placeholder="Folio de Prescripción"
                                                 title="Folio de Prescripción"
                                                 disabled="#{not registroSolucionMB.validaPrescripcion}" >
                                        <p:ajax event="change" listener="#{registroSolucionMB.obtenerDatosSurtimiento('')}" 
                                                onstart="PF('statusProcess').show();" 
                                                oncomplete="PF('statusProcess').hide();"
                                                update=":formNuevaOrden"/>
                                    </p:inputText>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="fechaProgramada" value="Fecha Programada: "/>
                                    <p:calendar id="fechaProgramada" 
                                                value="#{registroSolucionMB.surtimientoExtendedSelected.fechaProgramada}"
                                                locale="es_MX" navigator="true" pattern="dd/MM/yyyy HH:mm"
                                                title="Fecha Programada" mindate="#{registroSolucionMB.fechaMinPrescrMezclaValida}"
                                                pages="1" mask="true" showButtonPanel="true" effect="fade" required="true"
                                                validatorMessage="Fecha programada debe ser mayor a fecha actual mas 90 miutos"
                                                requiredMessage="Debe ingresar la Fecha Programada"
                                                size="12" >
                                        <p:ajax event="blur" listener="#{registroSolucionMB.estableceFechaPrgramada}" />
                                    </p:calendar>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="tipoPrescripcion" value="Tipo Prescripción: "/>
                                    <p:selectOneMenu id="tipoPrescripcion" value="#{registroSolucionMB.surtimientoExtendedSelected.tipoPrescripcion}" label="Tipo de Prescripción"
                                                     title="Tipo de Prescripción" autoWidth="true" style="vertical-align: middle;" disabled="#{registroSolucionMB.existePrescripcion}"
                                                     required="true" requiredMessage="Debe seleccionar un Tipo de Prescripción">
                                        <f:selectItem itemLabel="Seleccione Tipo" itemValue="#{null}"/>
                                        <f:selectItem itemLabel="Normal" itemValue="N" />
                                        <f:selectItem itemLabel="Urgente" itemValue="U" />
                                        <f:selectItem itemLabel="Dosis Única" itemValue="D" />
                                    </p:selectOneMenu>
                                </div>
                            </div>

                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="comboServicios" value="Área/Servicio: "/>
                                    <p:selectOneMenu id="comboServicios" title="Área o Servicio"
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.idEstructura}"
                                                     autoWidth="true" required="true"
                                                     requiredMessage="Debe seleccionar el Área o Servicio"
                                                     filter="true" filterMatchMode="contains"
                                                     disabled="#{registroSolucionMB.existePrescripcion}"
                                                     style="vertical-align: middle; ">
                                        <f:selectItem itemLabel="Seleccione Área" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.listServiciosQueSurte}"
                                                       var="servicio"
                                                       itemValue="#{servicio.idEstructura}"
                                                       itemLabel="#{servicio.nombre}" />
                                        <p:ajax event="itemSelect" listener="#{registroSolucionMB.obtenerCamas}" update="comboCamas">
                                        </p:ajax>
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="comboCamas" value="Cama: *"/>
                                    <p:selectOneMenu id="comboCamas" title="Cama del Paciente"
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.cama}"
                                                     autoWidth="true"
                                                     filter="true" filterMatchMode="contains"
                                                     disabled="#{registroSolucionMB.existePrescripcion}"
                                                     style="vertical-align: middle; ">
                                        <p:ajax event="itemSelect" listener="#{registroSolucionMB.seleccionaCama}" />
                                        <f:selectItem itemLabel="Seleccione Cama" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.listaCamas}"
                                                       var="cama"
                                                       itemValue="#{cama.idCama}"
                                                       itemLabel="#{cama.nombreCama} - #{cama.ubicacion} " />
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="autoCompleteMedico" value="#{registroSolucionMB.validaPrescripcion ? 'Médico Solicitante: ' : 'Médico Prescribe: '}"/>
                                    <p:autoComplete id="autoCompleteMedico" 
                                                    value="#{registroSolucionMB.medico}" 
                                                    required="true" requiredMessage="Seleccione Médico"
                                                    completeMethod="#{registroSolucionMB.autoCompleteMedicos}" 
                                                    minQueryLength="3" 
                                                    forceSelection="true"
                                                    var="medico" 
                                                    itemValue="#{medico.idUsuario}" 
                                                    itemLabel="#{medico.nombre} #{medico.apellidoPaterno} #{medico.apellidoMaterno}"
                                                    converter="medicoConverter" 
                                                    placeholder="Buscar Médico..."
                                                    emptyMessage="Búsqueda sin resultados" 
                                                    size="25" title="Médico Solicitante"
                                                    disabled="#{registroSolucionMB.existePrescripcion}"
                                                    readonly="#{!registroSolucionMB.permiso.puedeAutorizar}" 
                                                    onkeydown="if (event.keyCode === 13) {return false;}"
                                                    onkeypress="if (event.keyCode === 13) {return false;}"
                                                    onkeyup="if (event.keyCode === 13) {return false;}"
                                                    scrollHeight="200">
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Cédula Profesional" />
                                            </f:facet>
                                            <h:outputText value="#{medico.cedProfesional}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Nombre" />
                                            </f:facet>
                                            <h:outputText value="#{medico.nombre}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Apellido Paterno" />
                                            </f:facet>
                                            <h:outputText value="#{medico.apellidoPaterno}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Apellido Materno" />
                                            </f:facet>
                                            <h:outputText value="#{medico.apellidoMaterno}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                    </p:autoComplete>
                                    <p:commandButton id="agregaMedico" title="Agregar" value="+" 
                                                     onclick="PF('statusProcess').show();"
                                                     actionListener="#{registroSolucionMB.mostrarModalAgregarMedico}"
                                                     oncomplete="PF('statusProcess').hide(); if (args.estatus) { PF('modalAgregarMedico').show(); }"
                                                     update=":formAgregarMedico  , :formNuevaOrden:msgValidaRegistro"
                                                     disabled="#{registroSolucionMB.existePrescripcion}"
                                                     rendered="#{registroSolucionMB.permiso.puedeAutorizar}" >
                                        <p:resetInput target="formAgregarMedico"/>
                                    </p:commandButton>
                                </div>
                            </div>

                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="autoCompletePaciente" value="Paciente: *"/>
                                    <p:autoComplete id="autoCompletePaciente" 
                                                    value="#{registroSolucionMB.pacienteExtended}" 
                                                    completeMethod="#{registroSolucionMB.autoCompletePacientes}" 
                                                    minQueryLength="3" forceSelection="true"
                                                    required="false" requiredMessage="Debe seleccionar el Paciente"
                                                    var="paciente" itemValue="#{paciente}"
                                                    itemLabel="#{paciente.nombreCompleto} #{paciente.apellidoPaterno} #{paciente.apellidoMaterno}"
                                                    converter="pacienteConverter" 
                                                    placeholder="Buscar paciente..."
                                                    emptyMessage="Búsqueda sin resultados" 
                                                    title="Nombre del Paciente"
                                                    disabled="#{registroSolucionMB.existePrescripcion}"
                                                    size="25" scrollHeight="200">
                                        <p:ajax event="itemSelect" listener="#{registroSolucionMB.selectPaciente}" 
                                                update="txtNumPaciente, txtDiagnosticos, txtFecNacPaciente, txtEdadPaciente, txtPesoPaciente, txtTallaPaciente, txtAreaPaciente, chkDiabetes, chkHipertension, chkProRenales, chkPadeCronico" />
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Número Expediente" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.pacienteNumero}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Clave DerechoHabiencia" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.claveDerechohabiencia}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Nombre" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.nombreCompleto}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Apellido Paterno" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.apellidoPaterno}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Apellido Materno" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.apellidoMaterno}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Fecha Nacimiento" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.fechaNacimiento}" style=" font-size: small; font-weight: bolder;" >
                                                <f:convertDateTime pattern="yyyy-MM-dd" />
                                            </h:outputText>
                                        </p:column>
                                    </p:autoComplete>
                                    <p:commandButton id="agregaPaciente" title="Agregar" value="+" 
                                                     onclick="PF('statusProcess').show();" 
                                                     actionListener="#{registroSolucionMB.mostrarModalAgregarPaciente}"
                                                     oncomplete="PF('statusProcess').hide(); if (args.estatus) { PF('modalAgregarPaciente').show(); }"
                                                     update="formAgregarPaciente , :formNuevaOrden:msgValidaRegistro"
                                                     disabled="#{registroSolucionMB.existePrescripcion}">
                                        <p:resetInput target="formAgregarPaciente"/>
                                    </p:commandButton>
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" value="No. Expediente: "/>
                                    <p:outputLabel class="textoNegrita" id="txtNumPaciente" title="Número del Paciente"
                                                   value="#{registroSolucionMB.pacienteExtended.pacienteNumero}" />
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="tipoConsulta"  value="Tipo Consulta: "/>
                                    <p:selectOneMenu id="tipoConsulta" title="Tipo de la Consulta" autoWidth="true" 
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.tipoConsulta}" 
                                                     style="vertical-align: middle;" disabled="#{registroSolucionMB.existePrescripcion}" 
                                                     required="true" requiredMessage="Seleccione tipo de consulta" >
                                        <f:selectItem itemLabel="Seleccione Tipo" itemValue="#{null}"/>
                                        <f:selectItem value="#{I}" itemLabel="Hospitalización" itemValue="I" />
                                        <f:selectItem value="#{E}" itemLabel="Ambulatoria" itemValue="E" />
                                    </p:selectOneMenu>
                                </div>
                            </div>

                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Fecha Nacimiento: " />
                                    <p:outputLabel id="txtFecNacPaciente" value="#{registroSolucionMB.pacienteExtended.fechaNacimiento}" >
                                        <f:convertDateTime pattern="yyyy-MM-dd" />
                                    </p:outputLabel>
                                    <p:outputLabel value=" ( " />
                                    <p:outputLabel id="txtEdadPaciente" value="#{registroSolucionMB.pacienteExtended.edadPaciente}" />
                                    <p:outputLabel value=" años )" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Peso: *" />
                                    <p:inputNumber id="txtPesoPaciente"
                                              value="#{registroSolucionMB.surtimientoExtendedSelected.pesoPaciente}"
                                              required="true" requiredMessage="Registre peso" 
                                              minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="4"
                                              maxlength="5" maxValue="199" >
                                        <p:keyFilter mask="num" />
                                        <p:ajax event="change" update="txtAreaPaciente" 
                                                listener="#{registroSolucionMB.obtenerSuperficieCorporal()}" />
                                    </p:inputNumber>
                                    <p:outputLabel value=" kg" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Estatura: *" />
                                    <p:inputNumber id="txtTallaPaciente"
                                                   value="#{registroSolucionMB.surtimientoExtendedSelected.tallaPaciente}" 
                                                   required="true" requiredMessage="Registre estatura"
                                                   minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="4"
                                                   maxlength="5" maxValue="2.5" >
                                        <p:keyFilter mask="num" />
                                        <p:ajax event="change" update="txtAreaPaciente" 
                                                listener="#{registroSolucionMB.obtenerSuperficieCorporal()}" />
                                    </p:inputNumber>
                                    <p:outputLabel value=" mts" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="#{msg['cenmez.areaCorp']}: *" />
                                    <p:inputNumber id="txtAreaPaciente"
                                                 value="#{registroSolucionMB.surtimientoExtendedSelected.areaCorporal}" 
                                                 required="true" requiredMessage="Registre superficie corporal" 
                                                 minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="4"
                                                 maxlength="5" maxValue="5" >
                                        <p:keyFilter mask="num" />
                                    </p:inputNumber>
                                    <p:outputLabel value=" m²" />
                                </div>
                            </div>

                            <div class="ui-g-12" >                                    
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                    <p:outputLabel style="margin-right: 1px;" value="Diagnósticos: * " />
                                    <p:autoComplete id="txtDiagnosticos" styleClass="autocomplete-multiple-hiper"
                                                    placeholder="Agregar Diagnósticos" 
                                                    value="#{registroSolucionMB.listaDiagnosticos}"
                                                    completeMethod="#{registroSolucionMB.autocompleteDiagnosticos}"
                                                    minQueryLength="4" forceSelection="true"
                                                    multiple="true" var="diagnos" 
                                                    itemLabel="#{diagnos.nombre}" itemValue="#{diagnos}" 
                                                    scrollHeight="150"  
                                                    converter="musGenericConverter" >
                                        <p:ajax event="itemSelect" update="txtDiagnosticos" process="txtDiagnosticos" />
                                        <p:column style="width: 20px; font-size: small;" width="50px">
                                            <f:facet name="header" >
                                                <h:outputText value="Clave" />
                                            </f:facet>
                                            <h:outputText value="#{diagnos.clave}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="width: 600px; font-size: small;" width="600px">
                                            <f:facet name="header" >
                                                <h:outputText value="Descripción" />
                                            </f:facet>
                                            <h:outputText value="#{diagnos.nombre}" style=" font-size: x-small;" />
                                        </p:column>
                                    </p:autoComplete>
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel style="margin-right: 1px;" value="Prob Glucosa: " />
                                    <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.diabetes}" 
                                                             id="chkDiabetes" />
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel style="margin-right: 1px;" value="Prob Renales: " />
                                    <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.problemasRenales}" 
                                                             id="chkProRenales" />
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel style="margin-right: 1px;" value="Prob Hipertensión: " />
                                    <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.hipertension}" 
                                                             id="chkHipertension" />
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel style="margin-right: 1px;" value="Padec crónico: "  rendered="false" />
                                    <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.padecimientoCronico}" 
                                                             id="chkPadeCronico"  rendered="false" />
                                </div>
                            </div>

                            <p:outputLabel value="INFORMACIÓN DE LA SOLUCIÓN" class="plabel" />

                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="tipoSolucion" value="Tipo Solución: *" />
                                    <p:selectOneMenu id="tipoSolucion" style="vertical-align: middle;" title="Tipo de Solución" 
                                                     value="#{registroSolucionMB.idTipoSolucion}" label="Tipo Solución"
                                                     filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel="Seleccione una opción" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.tipoSolucionList}" var="tipoSol"
                                                       itemLabel="#{tipoSol.clave}" itemValue="#{tipoSol.idTipoSolucion}"/>
                                        <p:ajax event="itemSelect" update="protocolo txtDiagnostico "
                                                listener="#{registroSolucionMB.seleccionaTiposolucion}">
                                        </p:ajax>
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="viaAdministracion" value="Vía Administración: "/>
                                    <p:selectOneMenu id="viaAdministracion" style="vertical-align: middle; " 
                                                     value="#{registroSolucionMB.viaAdministracion.idViaAdministracion}"
                                                     label="Vía de Administración" title="Vía de Administración" autoWidth="true" 
                                                     required="true" requiredMessage="Seleccione vía de administración" 
                                                     filter="true" filterMatchMode="contains">
                                        <p:ajax event="change" listener="#{registroSolucionMB.estableceViaAdministracion}"
                                                process="@this" />
                                        <f:selectItem itemLabel="Seleccione Vía" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.viaAdministracionList}" var="via"
                                                       itemLabel="#{via.nombreViaAdministracion}" itemValue="#{via.idViaAdministracion}"/>
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Volumen total: *" />
                                    <p:inputText size="4" 
                                                 value="#{registroSolucionMB.surtimientoExtendedSelected.volumenTotal}" >
                                        <p:keyFilter regEx="/[0-9.]/i" />
                                        <p:ajax event="blur" process="@this" update="txtVelocidad" 
                                                listener="#{registroSolucionMB.calculaVelocidadPerfusion}"/>
                                    </p:inputText>
                                    <p:outputLabel value=" ml" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Contenedor: *"  />
                                    <p:selectOneMenu id="cmbIdContenedor" value="#{registroSolucionMB.surtimientoExtendedSelected.idContenedor}" 
                                                     filter="true" filterMatchMode="contains" >
                                        <p:ajax event="change" listener="#{registroSolucionMB.estableceContenedor}"
                                                process="@this" />
                                        <f:selectItem itemLabel="Seleccione una opción" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.envaseList}" var="tipo" 
                                                       itemLabel="#{tipo.descripcion}" itemValue="#{tipo.idEnvaseContenedor}" />
                                    </p:selectOneMenu>
                                </div>
                            </div>

                            <div class="ui-g-12" >
                                <ui:remove>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Fecha de Entrega: "
                                                   for="txtFechaEntrega" /> 
                                    <p:calendar id="txtFechaEntrega" title="Fecha Programada" size="8"
                                                required="true" requiredMessage="Seleccione fecha de entrega" 
                                                value="#{registroSolucionMB.surtimientoExtendedSelected.fechaParaEntregar}"
                                                showOn="button" locale="es_MX" navigator="true" pattern="dd/MM/yyyy"
                                                pages="1" mask="true" showButtonPanel="true" effect="fade" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Hora de Entrega: " for="txtHoraEntrega" /> 
                                    <p:selectOneMenu id="txtHoraEntrega" style="vertical-align: middle;" 
                                                     required="true" requiredMessage="Seleccione hora de entrega" 
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.idHorarioParaEntregar}" 
                                                     label="Hora de Entrega" filter="true" filterMatchMode="contains" 
                                                     title="Hora de Entrega" autoWidth="true" >
                                        <f:selectItem itemLabel="Seleccione horario" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.horarioEntregaLista}" var="horar" 
                                                       itemValue="#{horar.idHorarioEntrega}" itemLabel="#{horar.nombre}" />
                                    </p:selectOneMenu>
                                </div>
                                </ui:remove>
                                        
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="chkPerfucionContinua"  value="Perfusión Continua: "/>
                                    <p:selectBooleanCheckbox id="chkPerfucionContinua" 
                                                             value="#{registroSolucionMB.surtimientoExtendedSelected.perfusionContinua}" >
                                        <p:ajax event="change" update="chkPerfucionContinua, txtVelocidad" 
                                                listener="#{registroSolucionMB.activaPerfusion}" />
                                    </p:selectBooleanCheckbox>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 5px;" value="Tiempo Infusión: * "/>
                                        <!-- p:inputNumber id="txtHorasInfusion" maxlength="2" maxValue="99" minValue="0" size="4"
                                                       value="# {registroSolucionMB.surtimientoExtendedSelected.horasInfusion}" 
                                                       disabled="# {!registroSolucionMB.editarHoraInfusion}">
                                            <p:ajax event="blur" update="txtVelocidad" 
                                                listener="# {registroSolucionMB.calculaVelocidadPerfusion}" />
                                        </p:inputNumber -->                                        
                                        <!-- p:calendar id="dateHorasInfusion" value="# {registroSolucionMB.surtimientoExtendedSelected.horasInfusion}" pattern="HH:mm" timeOnly="true"
                                                    maxHour="72" maxMinute="59" > 
                                                    <p:ajax event="blur" process="@this" update="txtVelocidad" 
                                                listener="# {registroSolucionMB.calculaVelocidadPerfusion}" />
                                        </p:calendar -->
                                        <p:inputMask id="hrsInfusion" value="#{registroSolucionMB.surtimientoExtendedSelected.horasInfusion}" 
                                                     mask="999:99" size="4">
                                            <p:ajax event="blur" process="@this" update="txtVelocidad" 
                                                listener="#{registroSolucionMB.calculaVelocidadPerfusion}" />
                                        </p:inputMask>    
                                        <p:outputLabel value=" hrs" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="txtVelocidad" value="Velocidad: "/>
                                    <p:inputNumber id="txtVelocidad" value="#{registroSolucionMB.surtimientoExtendedSelected.velocidad}" 
                                                   minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="10" 
                                                   title="Velocidad de Administración" 
                                                   disabled="#{!registroSolucionMB.surtimientoExtendedSelected.perfusionContinua}" />
                                    <p:outputLabel value=" mL/h" />
                                </div>
                                <ui:remove>
                                    <div style="width:20%; float:left;">
                                        <p:outputLabel style="margin-right: 1px;" value="Unidad" rendered="#{registroSolucionMB.validaPrescripcion}" />
                                        <p:outputLabel class="textoNegrita" value="#{registroSolucionMB.surtimientoExtendedSelected.unidadConcentracion}" rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    </div>
                                    <div style="width:25%; float:left;">
                                        <p:outputLabel for="txtRitmo"  value="Ritmo: "/>
                                        <p:inputNumber id="txtRitmo" value="#{registroSolucionMB.surtimientoExtendedSelected.ritmo}" minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="10" 
                                                       title="Ritmo de Administración" 
                                                       disabled="#{!registroSolucionMB.surtimientoExtendedSelected.perfusionContinua}" />
                                        cm³/min
                                    </div>
                                </ui:remove>
<!--                            </div>
                            <div class="ui-g-12" >-->
                                
                            </div>
                            
                            <div class="ui-g-12">
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="protocolo" value="Protocolo: "/>
                                    <p:selectOneMenu id="protocolo" value="#{registroSolucionMB.claveProtocolo}" label="Protocolo" filter="true" filterMatchMode="contains"
                                                     title="Tipo de Protocolo" autoWidth="true" style="vertical-align: middle;" disabled="#{!registroSolucionMB.isOncologica}" >
                                        <!--<f:selectItem itemLabel="Seleccione Protocolo" itemValue="# { null}"/>-->
                                        <f:selectItems value="#{registroSolucionMB.listaProtocolos}" var="proto" 
                                                       itemValue="#{proto.claveProtocolo}" itemLabel="#{proto.claveProtocolo}" />
                                        <p:ajax event="itemSelect" update="formWarning:msjWarning txtDiagnostico"
                                                listener="#{registroSolucionMB.validaDiagnosticoProtocolo}">
                                        </p:ajax>
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="txtDiagnostico" value="Diagnóstico: "/>
                                    <p:autoComplete id="txtDiagnostico" styleClass="autocomplete-multiple-hiper"
                                                    multiple="false"
                                                    placeholder="Buscar Diagnóstico" 
                                                    value="#{registroSolucionMB.diagnosticoSelected}"
                                                    completeMethod="#{registroSolucionMB.autocompleteDiagnostico}"
                                                    minQueryLength="4" forceSelection="true"                                                         
                                                    var="diagnos" size ="20"
                                                    scrollHeight="150" 
                                                    itemLabel="#{diagnos.nombre}" itemValue="#{diagnos}" 
                                                    converter="musGenericConverter" 
                                                    disabled="true">
                                        <p:column style="width: 20px; font-size: small;" width="50px">
                                            <f:facet name="header" >
                                                <h:outputText value="Clave" />
                                            </f:facet>
                                            <h:outputText value="#{diagnos.clave}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="width: 600px; font-size: small;" width="600px">
                                            <f:facet name="header" >
                                                <h:outputText value="Descripción" />
                                            </f:facet>
                                            <h:outputText value="#{diagnos.nombre}" style=" font-size: x-small;" />
                                        </p:column>
                                        <p:ajax event="itemSelect" update="formWarning:msjWarning"
                                                listener="#{registroSolucionMB.validaDiagnosticoProtocolo}">
                                        </p:ajax>
                                    </p:autoComplete>
                                </div>
                            </div>

                            <div class="ui-g-12" style="padding: 1px 1px; background-color: #bfbfbf; margin-right:1px;">
                                <ui:remove>
                                    <div class="ui-g-12 ui-md-6 ui-lg-1">
                                        <p:inputText id="xcantidad"
                                                     value="#{registroSolucionMB.xcantidad}"
                                                     size="3" rendered="false"
                                                     title="Cantidad de medicamentos">
                                            <p:keyFilter regEx="/[0-9]{1,4}/i" />
                                            <p:ajax event="keyup" update="@this" />
                                        </p:inputText>
                                    </div>
                                </ui:remove>
                                <div class="ui-g-12 ui-md-6 ui-lg-5">
                                    <p:autoComplete id="txtInsumo" 
                                                    value="#{registroSolucionMB.medicamento}" 
                                                    completeMethod="#{registroSolucionMB.autoCompleteMedicamentos}"
                                                    minQueryLength="4" queryDelay="900" 
                                                    forceSelection="true"
                                                    var="insumo" cache="false" 
                                                    itemLabel="#{insumo.nombreCorto}" 
                                                    itemValue="#{insumo}" 
                                                    converter="insumoExtConverter"
                                                    placeholder="Buscar Insumo"
                                                    emptyMessage="No se encontro registro."
                                                    scrollHeight="250" 
                                                    size="65">
                                        <p:ajax event="itemSelect"
                                                listener="#{registroSolucionMB.selectMedicamento}"
                                                process="txtInsumo, lblUnidad" 
                                                update="txtInsumo, lblUnidad"/>
                                        <p:column style="width: 20px; font-size: small;" width="20px">
                                            <f:facet name="header" >
                                                <h:outputText value="Clave Institucional" />
                                            </f:facet>
                                            <h:outputText value="#{insumo.claveInstitucional}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="width: 350px; font-size: small;" width="350px" >
                                            <f:facet name="header" >
                                                <h:outputText value="Descripción" />
                                            </f:facet>
                                            <h:outputText value="#{insumo.nombreCorto}" style=" font-size: x-small;" />
                                        </p:column>
                                        <p:column style="width: 180px; font-size: small;" width="350px" rendered="false">
                                            <f:facet name="header" >
                                                <h:outputText value="Almacén" />
                                            </f:facet>
                                            <h:outputText value="#{insumo.nombreEstructura}" style=" font-size: x-small;" />
                                        </p:column>
                                        <p:column style="width: 120px; font-size: small;" width="350px">
                                            <f:facet name="header" >
                                                <h:outputText value="Cant. Disponible" />
                                            </f:facet>
                                            <h:outputText value="#{insumo.cantidadDisponible}" style=" font-size: x-small;" />
                                        </p:column>
                                    </p:autoComplete>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel for="dosis" >Cant/Dosis:</p:outputLabel>
                                    <p:inputNumber id="dosis"  value="#{registroSolucionMB.dosis}" minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="6" title="Cant/Dosis"></p:inputNumber>
                                    <p:outputLabel id="lblUnidad">#{registroSolucionMB.medicamento.nombreUnidadConcentracion}</p:outputLabel>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel for="frecuencia" >Frecuencia:</p:outputLabel>
                                    <p:selectOneMenu id="frecuencia" value="#{registroSolucionMB.frecuencia}" label="Frecuencia" filter="true" filterMatchMode="contains"
                                                     title="Frecuencia" autoWidth="true" style="vertical-align: middle;">
                                        <f:selectItem itemLabel="Seleccione Frecuencia" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.listaFrecuencias}" var="frec" itemValue="#{frec.frecuencia}" itemLabel="#{frec.nombre} - #{frec.frecuencia} hr(s)"></f:selectItems>
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel for="duracion" >Duración:</p:outputLabel>
                                    <p:inputNumber id="duracion" value="#{registroSolucionMB.duracion}" 
                                                   minValue="0" maxValue="90" decimalPlaces="0" size="4" title="Duración">
                                    </p:inputNumber>
                                    días
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-1">
                                    <p:commandButton value="Agregar"
                                                     style="float: right;"
                                                     actionListener="#{registroSolucionMB.agregarMedicamento}"
                                                     onclick="PF('statusProcess').show();"
                                                     oncomplete="PF('statusProcess').hide(); $(function() { PrimeFaces.focus('formNuevaOrden:txtInsumo'); } ); "
                                                     update="msgValidaRegistro, txtInsumo, dosis, frecuencia, duracion, tblInsumos"
                                                     styleClass="btnMusAzul" />
                                </div>
                            </div>
                            
                            <div class="ui-g-12" >
                                <p:dataTable id="tblInsumos"
                                         widgetVar="tblInsumos" 
                                         value="#{registroSolucionMB.surtimientoInsumoExtendedList}"                                   
                                         var="item"
                                         rowIndexVar="row"
                                         style="margin-top:0px; margin-bottom:5px; width:98%;"
                                         styleClass="mystyle"
                                         scrollable="true" scrollHeight="120"
                                         emptyMessage="No hay insumos capturados"
                                         reflow="true"
                                         paginator="false"
                                         rows="0"
                                         disabledSelection="true">

                                <p:column style="text-align: left; width: 10%"
                                          sortBy="#{item.claveInstitucional}" >
                                    <f:facet name="header" >
                                        <h:outputText value="Clave" />
                                    </f:facet>
                                    <h:outputText value="#{item.claveInstitucional}" class="textoNegrita" />
                                </p:column>
                                <p:column style="text-align: left; width: 60%"
                                          sortBy="#{item.nombreCorto}" >
                                    <f:facet name="header" >
                                        <h:outputText value="Insumo" />
                                    </f:facet>
                                    <h:outputText value="#{item.nombreCorto}" />
                                </p:column>
                                <p:column style="text-align: left; width: 10%">
                                    <f:facet name="header" >
                                        <h:outputText value="Dosis" />
                                    </f:facet>
                                    <h:outputText value="#{item.dosis} #{item.unidadConcentracion}" />
                                </p:column>
                                <p:column style="text-align: left; width: 6%">
                                    <f:facet name="header" >
                                        <h:outputText value="Frecuencia" />
                                    </f:facet>
                                    <h:outputText value="#{item.frecuencia}" />
                                </p:column>
                                <p:column style="text-align: left; width: 5%">
                                    <f:facet name="header" >
                                        <h:outputText value="Duración" />
                                    </f:facet>
                                    <h:outputText value="#{item.duracion}" />
                                </p:column>
                                    <p:column style="text-align: left; width: 5%" >
                                    <f:facet name="header" >
                                        <h:outputText value="Cant Req" />
                                    </f:facet>
                                    <h:outputText value="#{item.cantidadSolicitada}" class="textoNegrita" />
                                </p:column>
                                <p:column style="text-align: left; width: 4%">
                                    <f:facet name="header">
                                        <h:outputText value="Eliminar" />
                                    </f:facet>
                                    <p:commandLink title="Eliminar" onclick="PF('statusProcess').show()"
                                                   oncomplete="PF('statusProcess').hide();"
                                                   actionListener="#{registroSolucionMB.eliminaInsumoDeLista(item)}"
                                                   update="formNuevaOrden:tblInsumos  ">
                                        <i class="fa fa-trash iconMusRojo" />
                                    </p:commandLink>
                                </p:column>
                            </p:dataTable>
                            </div>
                            
                            <br/>
                            
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                    <p:outputLabel style="margin-right: 1px; font-weight: bold;" 
                                                   value="Instrucciones de Preparación: " 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <br/>
                                    <p:inputTextarea id="txtInstruccionesPrep" rows="4" cols="80" 
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.instruccionPreparacion}" 
                                                     rendered="#{registroSolucionMB.validaPrescripcion}" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                    <p:outputLabel style="margin-right: 1px; font-weight: bold;"
                                                   value="Observaciones: "
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <br/>
                                    <p:inputTextarea id="txtCondicionesConser" rows="4" cols="80" 
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.observaciones}" 
                                                     rendered="#{registroSolucionMB.validaPrescripcion}" />
                                </div>
                            </div>

                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-10">
                                    <p:selectBooleanCheckbox id="chkTemRefrigeracion" itemLabel="Temp. Refrigeración" 
                                                             value="#{registroSolucionMB.surtimientoExtendedSelected.tempRefrigeracion}" 
                                                             rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <p:selectBooleanCheckbox id="chkTemAmbiente" itemLabel="Temp. Ambiente"
                                                             value="#{registroSolucionMB.surtimientoExtendedSelected.tempAmbiente}" 
                                                             rendered="#{registroSolucionMB.validaPrescripcion}"  />
                                    <p:selectBooleanCheckbox id="chkProteccionLuz" itemLabel="Protección de Luz" 
                                                             value="#{registroSolucionMB.surtimientoExtendedSelected.proteccionLuz}" 
                                                             rendered="#{registroSolucionMB.validaPrescripcion}"  />
                                    <p:selectBooleanCheckbox id="chkNoAgitar" itemLabel="No agitar" 
                                                             value="#{registroSolucionMB.surtimientoExtendedSelected.noAgitar}" 
                                                             rendered="#{registroSolucionMB.validaPrescripcion}"  />
                                </div>
                            </div>

                            <div class="ui-g-12" style=" width: 100% !important; /*position: absolute; bottom: 0px;*/ background-color: #f8f8f8; border-top: solid 2px #C8C8C8;  " >
                                <div class="ui-g-12 ui-md-6 ui-lg-3" style="display: flex; align-content: center; justify-content: space-between; float: right;" >
                                    <div >
                                        <p:commandButton value="Cerrar" immediate="true"
                                                         styleClass="btnMusBoolGris" 
                                                         icon="fa fa-times-circle" 
                                                         onmousedown ="$('#formNuevaOrden\\:txtFolioPrescripcion').removeAttr('onblur');"
                                                         onclick="PF('modalNuevaOrden').hide();"
                                                         style="margin-right: 1px; float: right;" />
                                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                        </p:confirmDialog>
                                    </div>
                                    <div >
                                        <p:commandButton value="Guardar"
                                                         icon="fa fa-check-circle" style="margin-right: 1px;float: right;"
                                                         onclick="PF('statusProcess').show();"
                                                         actionListener="#{registroSolucionMB.validarNuevaOrden}" 
                                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaConfirmRegistro').show(); } else { PF('modalNuevaOrden').content.scrollTop('0') } "
                                                         styleClass="btnMusAzul" 
                                                         update=":frmCofirmaConfirmRegistro , :formNuevaOrden:msgValidaRegistro" /> 
                                    </div>
                                </div>
                            </div>
                        </div>
                    </h:form>
                </p:dialog>
                
                <p:dialog header="#{registroSolucionMB.validaPrescripcion ? 'NUEVA ORDEN DE MEZCLA' : 'INFORMACIÓN DE PRESCRIPCIÓN MÚLTIPLE DE SOLUCIONES'}"
                          widgetVar="modalNuevaOrdenMultiple"
                          closeOnEscape="true"
                          closable="true"
                          width="90%"
                          height="550px" 
                          position="30,10"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important;">
                    <h:form id="formNuevaOrdenMultiple"  >
                        <p:messages id="msgValidaRegistro" globalOnly="false" showDetail="false" closable="true"  >
                            <p:autoUpdate />
                        </p:messages>
                        <div class="ui-g">
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Folio Surtimiento: " 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <p:outputLabel id="folioSurt" value="#{registroSolucionMB.surtimientoExtendedSelected.folio}" 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel value="Fecha Registro: " 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <p:outputLabel id="fechaRegistro" title="Fecha de Registro"
                                                   value="#{registroSolucionMB.surtimientoExtendedSelected.insertFecha}" 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" >
                                        <f:convertDateTime type="date" pattern="dd/MM/yyyy HH:mm"/>
                                    </p:outputLabel>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Estatus: " 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <p:outputLabel id="estatusSurtimiento" value="#{registroSolucionMB.surtimientoExtendedSelected.estatusSurtimiento}"
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                </div>
                            </div>

                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="comboServicios" value="Área/Servicio: "/>
                                    <p:selectOneMenu id="comboServicios" title="Área o Servicio"
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.idEstructura}"
                                                     autoWidth="true" required="true"
                                                     requiredMessage="Debe seleccionar el Área o Servicio"
                                                     filter="true" filterMatchMode="contains"
                                                     disabled="#{registroSolucionMB.existePrescripcion}"
                                                     style="vertical-align: middle; ">
                                        <f:selectItem itemLabel="Seleccione Área" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.listServiciosQueSurte}"
                                                       var="servicio"
                                                       itemValue="#{servicio.idEstructura}"
                                                       itemLabel="#{servicio.nombre}" />
                                        <p:ajax event="itemSelect" listener="#{registroSolucionMB.obtenerCamas}" />
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="comboCamas" value="Cama: "/>
                                    <p:selectOneMenu id="comboCamas" title="Cama del Paciente"
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.cama}"
                                                     autoWidth="true"
                                                     filter="true" filterMatchMode="contains"
                                                     required="true" requiredMessage="Debe seleccionar cama"
                                                     disabled="#{registroSolucionMB.existePrescripcion}"
                                                     style="vertical-align: middle; ">
                                        <p:ajax event="itemSelect" listener="#{registroSolucionMB.seleccionaCama}" />
                                        <f:selectItem itemLabel="Seleccione Cama" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.listaCamas}"
                                                       var="cama"
                                                       itemValue="#{cama.idCama}"
                                                       itemLabel="#{cama.nombreCama} - #{cama.ubicacion} " />
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="autoCompleteMedico" value="#{registroSolucionMB.validaPrescripcion ? 'Médico Solicitante: ' : 'Médico Prescribe: '}"/>
                                    <p:autoComplete id="autoCompleteMedico" 
                                                    value="#{registroSolucionMB.medico}" 
                                                    required="true" requiredMessage="Seleccione Médico"
                                                    completeMethod="#{registroSolucionMB.autoCompleteMedicos}" 
                                                    minQueryLength="3" 
                                                    forceSelection="true"
                                                    var="medico" 
                                                    itemValue="#{medico.idUsuario}" 
                                                    itemLabel="#{medico.nombre} #{medico.apellidoPaterno} #{medico.apellidoMaterno}"
                                                    converter="medicoConverter" 
                                                    placeholder="Buscar Médico..."
                                                    emptyMessage="Búsqueda sin resultados" 
                                                    size="25" title="Médico Solicitante"
                                                    disabled="#{registroSolucionMB.existePrescripcion}"
                                                    readonly="#{!registroSolucionMB.permiso.puedeAutorizar}" 
                                                    onkeydown="if (event.keyCode === 13) {return false;}"
                                                    onkeypress="if (event.keyCode === 13) {return false;}"
                                                    onkeyup="if (event.keyCode === 13) {return false;}"
                                                    scrollHeight="200">
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Cédula Profesional" />
                                            </f:facet>
                                            <h:outputText value="#{medico.cedProfesional}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Nombre" />
                                            </f:facet>
                                            <h:outputText value="#{medico.nombre}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Apellido Paterno" />
                                            </f:facet>
                                            <h:outputText value="#{medico.apellidoPaterno}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Apellido Materno" />
                                            </f:facet>
                                            <h:outputText value="#{medico.apellidoMaterno}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                    </p:autoComplete>
                                    <p:commandButton id="agregaMedico" title="Agregar" value="+" 
                                                     onclick="PF('statusProcess').show();"
                                                     actionListener="#{registroSolucionMB.mostrarModalAgregarMedico}"
                                                     oncomplete="PF('statusProcess').hide(); if (args.estatus) { PF('modalAgregarMedico').show(); }"
                                                     update=":formAgregarMedico  , :formNuevaOrden:msgValidaRegistro"
                                                     disabled="#{registroSolucionMB.existePrescripcion}"
                                                     rendered="#{registroSolucionMB.permiso.puedeAutorizar}" >
                                        <p:resetInput target="formAgregarMedico"/>
                                    </p:commandButton>
                                </div>
                            </div>

                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="autoCompletePaciente" value="Paciente: "/>
                                    <p:autoComplete id="autoCompletePaciente" 
                                                    value="#{registroSolucionMB.pacienteExtended}" 
                                                    completeMethod="#{registroSolucionMB.autoCompletePacientes}" 
                                                    minQueryLength="3" forceSelection="true"
                                                    required="true" requiredMessage="Debe seleccionar el Paciente"
                                                    var="paciente" itemValue="#{paciente}"
                                                    itemLabel="#{paciente.nombreCompleto} #{paciente.apellidoPaterno} #{paciente.apellidoMaterno}"
                                                    converter="pacienteConverter" 
                                                    placeholder="Buscar paciente..."
                                                    emptyMessage="Búsqueda sin resultados" 
                                                    title="Nombre del Paciente"
                                                    disabled="#{registroSolucionMB.existePrescripcion}"
                                                    size="25" scrollHeight="200">
                                        <p:ajax event="itemSelect" listener="#{registroSolucionMB.selectPaciente}" 
                                                update="txtNumPaciente, txtDiagnosticos, txtFecNacPaciente, txtEdadPaciente, txtPesoPaciente, txtTallaPaciente, txtAreaPaciente, chkDiabetes, chkHipertension, chkProRenales, chkPadeCronico" />
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Número Expediente" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.pacienteNumero}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Clave DerechoHabiencia" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.claveDerechohabiencia}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Nombre" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.nombreCompleto}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Apellido Paterno" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.apellidoPaterno}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Apellido Materno" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.apellidoMaterno}" style=" font-size: small; font-weight: bolder;" />
                                        </p:column>
                                        <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Fecha Nacimiento" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.fechaNacimiento}" style=" font-size: small; font-weight: bolder;" >
                                                <f:convertDateTime pattern="yyyy-MM-dd" />
                                            </h:outputText>
                                        </p:column>
                                    </p:autoComplete>
                                    <p:commandButton id="agregaPaciente" title="Agregar" value="+" 
                                                     onclick="PF('statusProcess').show();" 
                                                     actionListener="#{registroSolucionMB.mostrarModalAgregarPaciente}"
                                                     oncomplete="PF('statusProcess').hide(); if (args.estatus) { PF('modalAgregarPaciente').show(); }"
                                                     update="formAgregarPaciente , :formNuevaOrden:msgValidaRegistro"
                                                     disabled="#{registroSolucionMB.existePrescripcion}">
                                        <p:resetInput target="formAgregarPaciente"/>
                                    </p:commandButton>
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" value="No. Expediente: "/>
                                    <p:outputLabel class="textoNegrita" id="txtNumPaciente" title="Número del Paciente"
                                                   value="#{registroSolucionMB.pacienteExtended.pacienteNumero}" />
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="tipoConsulta"  value="Tipo Consulta: "/>
                                    <p:selectOneMenu id="tipoConsulta" title="Tipo de la Consulta" autoWidth="true" 
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.tipoConsulta}" 
                                                     style="vertical-align: middle;" disabled="#{registroSolucionMB.existePrescripcion}" 
                                                     required="true" requiredMessage="Seleccione tipo de consulta" >
                                        <f:selectItem itemLabel="Seleccione Tipo" itemValue="#{null}"/>
                                        <f:selectItem value="#{I}" itemLabel="Hospitalización" itemValue="I" />
                                        <f:selectItem value="#{E}" itemLabel="Ambulatoria" itemValue="E" />
                                    </p:selectOneMenu>
                                </div>
                            </div>

                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Fecha Nacimiento: " />
                                    <p:outputLabel id="txtFecNacPaciente" value="#{registroSolucionMB.pacienteExtended.fechaNacimiento}" >
                                        <f:convertDateTime pattern="yyyy-MM-dd" />
                                    </p:outputLabel>
                                    <p:outputLabel value=" ( " />
                                    <p:outputLabel id="txtEdadPaciente" value="#{registroSolucionMB.pacienteExtended.edadPaciente}" />
                                    <p:outputLabel value=" años )" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Peso: *" />
                                    <p:inputNumber id="txtPesoPaciente"
                                                 value="#{registroSolucionMB.surtimientoExtendedSelected.pesoPaciente}"
                                                 required="true" requiredMessage="Registre peso"
                                                 minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="4"
                                                 maxlength="5" maxValue="199" >
                                        <p:keyFilter mask="num" />
                                        <p:ajax event="change" update="txtAreaPaciente" 
                                                listener="#{registroSolucionMB.obtenerSuperficieCorporal()}" />
                                    </p:inputNumber>
                                    <p:outputLabel value=" kg" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Estatura: *" />
                                    <p:inputNumber id="txtTallaPaciente"
                                                 value="#{registroSolucionMB.surtimientoExtendedSelected.tallaPaciente}" 
                                                 required="true" requiredMessage="Registre estatura"
                                                 minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="4"
                                                 maxlength="5" maxValue="2.5" >
                                        <p:keyFilter mask="num" />
                                        <p:ajax event="change" update="txtAreaPaciente" 
                                                listener="#{registroSolucionMB.obtenerSuperficieCorporal()}" />
                                    </p:inputNumber>
                                    <p:outputLabel value=" mts" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="#{msg['cenmez.areaCorp']}: *" />
                                    <p:inputNumber id="txtAreaPaciente" 
                                                 value="#{registroSolucionMB.surtimientoExtendedSelected.areaCorporal}" 
                                                 required="true" requiredMessage="Registre superficie corporal" 
                                                 minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="4"
                                                 maxlength="5" maxValue="5" >
                                        <p:keyFilter mask="num" />
                                    </p:inputNumber>
                                    <p:outputLabel value=" m²" />
                                </div>
                            </div>

                            <div class="ui-g-12" >                                    
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                    <p:outputLabel style="margin-right: 1px;" value="Diagnósticos: * " />
                                    <p:autoComplete id="txtDiagnosticos" styleClass="autocomplete-multiple-hiper"
                                                    placeholder="Agregar Diagnósticos" 
                                                    value="#{registroSolucionMB.listaDiagnosticos}"
                                                    completeMethod="#{registroSolucionMB.autocompleteDiagnosticos}"
                                                    minQueryLength="4" forceSelection="true"
                                                    multiple="true" var="diagnos" 
                                                    itemLabel="#{diagnos.nombre}" itemValue="#{diagnos}" 
                                                    scrollHeight="150" 
                                                    converter="musGenericConverter" >
                                        <p:ajax event="itemSelect" update="txtDiagnosticos" process="txtDiagnosticos" />
                                        <p:column style="width: 20px; font-size: small;" width="50px">
                                            <f:facet name="header" >
                                                <h:outputText value="Clave" />
                                            </f:facet>
                                            <h:outputText value="#{diagnos.clave}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="width: 600px; font-size: small;" width="600px">
                                            <f:facet name="header" >
                                                <h:outputText value="Descripción" />
                                            </f:facet>
                                            <h:outputText value="#{diagnos.nombre}" style=" font-size: x-small;" />
                                        </p:column>
                                    </p:autoComplete>
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel style="margin-right: 1px;" value="Prob Glucosa: " />
                                    <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.diabetes}" 
                                                             id="chkDiabetes" />
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel style="margin-right: 1px;" value="Prob Renales: " />
                                    <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.problemasRenales}" 
                                                             id="chkProRenales" />
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel style="margin-right: 1px;" value="Prob Hipertensión: " />
                                    <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.hipertension}" 
                                                             id="chkHipertension" />
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel style="margin-right: 1px;" value="Padec crónico: "  rendered="false" />
                                    <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.padecimientoCronico}" 
                                                             id="chkPadeCronico"  rendered="false" />
                                </div>
                            </div>
                            <div class="ui-g-12" style=" width: 100% !important; /*position: absolute; bottom: 0px;*/ background-color: #f8f8f8; border-top: solid 2px #C8C8C8;  " >
                                <div class="ui-g-12 ui-md-6 ui-lg-3" style="display: flex; align-content: center; justify-content: space-between; float: right;" >
                                    <div >
                                        <p:commandButton value="Agregar Prescripción"
                                                         icon="fa fa-check-circle" style="margin-right: 1px;float: right;"
                                                         onclick="PF('statusProcess').show();"   
                                                         actionListener="#{registroSolucionMB.nuevaSolucion}"
                                                         oncomplete="PF('statusProcess').hide();   if(args.estatus) { PF('modalNuevaOrdenSol').show(); } else { PF('modalNuevaOrdenMultiple').content.scrollTop('0') } "
                                                         styleClass="btnMusAzul" 
                                                         update=":formNuevaOrdenSol, :formNuevaOrdenMultiple:msgValidaRegistro , msgValidaRegistro" 
                                                         /> 
                                    </div>
                                </div>
                            </div>                            
                            
                            <div class="ui-g-12" >
                                <p:dataTable id="tblMesclaz"
                                         widgetVar="tblMezclas"   
                                         value="#{registroSolucionMB.listaSolucionesExtend}"
                                         var="item"
                                         rowIndexVar="row"
                                         style="margin-top:0px; margin-bottom:5px; width:98%;"
                                         styleClass="mystyle"
                                         scrollable="true" scrollHeight="120"
                                         emptyMessage="No hay mezclas capturadas"
                                         reflow="true"
                                         paginator="false"
                                         rows="0"
                                         disabledSelection="true">

                                    <p:column style="text-align: left; width: 10%"
                                              sortBy="#{item.folio}" rendered="false" >
                                        <f:facet name="header" >
                                            <h:outputText value="Folio" />
                                        </f:facet>
                                        <h:outputText value="#{item.folio}" class="textoNegrita" />
                                    </p:column>
                                    
                                    <p:column style="text-align: left; width: 10%"
                                              sortBy="#{item.tipoSolucion}" >
                                        <f:facet name="header" >
                                            <h:outputText value="Tipo Solución" />
                                        </f:facet>
                                        <h:outputText value="#{item.tipoSolucion}" class="textoNegrita" />
                                    </p:column>
                                    
                                    <p:column style="text-align: left; width: 10%"
                                              sortBy="#{item.fechaProgramada}" >
                                        <f:facet name="header" >
                                            <h:outputText value="Fecha Programada" />
                                        </f:facet>
                                        <h:outputText value="#{item.fechaProgramada}" class="textoNegrita" >
                                            <f:convertDateTime pattern="yyyy-MM-dd HH:mm:ss"/>
                                        </h:outputText> 
                                    </p:column>
                                    
                                    <p:column style="text-align: left; width: 30%"
                                              sortBy="" >
                                        <f:facet name="header" >
                                            <h:outputText value="Descripción Mezcla" />
                                        </f:facet>
                                        <h:outputText value="#{item.descripcion}" class="textoNegrita" />
                                    </p:column>
                                    <p:column style="text-align: left; width: 5%">
                                        <p:commandLink title="Eliminar" onclick="PF('statusProcess').show()"
                                                   oncomplete="PF('statusProcess').hide();"
                                                   actionListener="#{registroSolucionMB.eliminaMezclaDeLista(item)}"
                                                   update=":formNuevaOrdenMultiple:tblMesclaz  "
                                                   rendered="#{registroSolucionMB.permiso.puedeEliminar}" >
                                        <i class="fa fa-trash iconMusRojo" />
                                    </p:commandLink>
                                    </p:column>
                                    
                                </p:dataTable>
                            </div>    

                            <div class="ui-g-12" style=" width: 100% !important; /*position: absolute; bottom: 0px;*/ background-color: #f8f8f8; border-top: solid 2px #C8C8C8;  " >
                                <div class="ui-g-12 ui-md-6 ui-lg-3" style="display: flex; align-content: center; justify-content: space-between; float: right;" >
                                    <div >
                                        <p:commandButton value="Cerrar" immediate="true"
                                                         styleClass="btnMusBoolGris" 
                                                         icon="fa fa-times-circle" 
                                                         onclick="PF('modalNuevaOrdenMultiple').hide();"
                                                         style="margin-right: 1px; float: right;" />
                                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                        </p:confirmDialog>
                                    </div>
                                    <div >
                                        <p:commandButton value="Guardar"
                                                         icon="fa fa-check-circle" style="margin-right: 1px;float: right;"
                                                         onclick="PF('statusProcess').show();"
                                                         actionListener="#{registroSolucionMB.validarNuevaOrdenMultiple()}" 
                                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaConfirmRegistroM').show(); } else { PF('modalNuevaOrdenMultiple').content.scrollTop('0') } "
                                                         styleClass="btnMusAzul" disabled="#{registroSolucionMB.botonGuardarMultiple}"
                                                         update=":frmCofirmaConfirmRegistroM , :formNuevaOrdenMultiple:msgValidaRegistro" /> 
                                    </div>
                                </div>
                            </div>
                        </div>
                    </h:form>
                </p:dialog>
                
                <p:dialog header="Información de Solución"
                          widgetVar="modalNuevaOrdenSol"
                          closeOnEscape="true"
                          closable="true"
                          width="95%"
                          height="450px" 
                          position="30,10"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important;">
                    <h:form id="formNuevaOrdenSol"  >
                        <p:messages id="msgValidaSolucion" globalOnly="true" showDetail="false" closable="true" >
                            <p:autoUpdate />
                        </p:messages>
                        <div class="ui-g">
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="txtFolioPrescripcionM"  value="Folio Prescripción: "/>
                                    <p:inputText id="txtFolioPrescripcionM" widgetVar="txtFolioPrescripcion"
                                                 value="#{registroSolucionMB.surtimientoExtendedSelected.folioPrescripcion}"
                                                 size="12" maxlength="20" required="true"
                                                 requiredMessage="Debe ingresar el Folio de la Prescripción"
                                                 placeholder="Folio de Prescripción"
                                                 title="Folio de Prescripción"
                                                 disabled="#{not registroSolucionMB.validaPrescripcion}" >
                                        <p:ajax event="change" listener="#{registroSolucionMB.obtenerDatosSurtimiento('')}" 
                                                onstart="PF('statusProcess').show();" 
                                                oncomplete="PF('statusProcess').hide();"
                                                update=":formNuevaOrden"/>
                                    </p:inputText>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="fechaProgramadaM" value="Fecha Programada: "/>
                                    <p:calendar id="fechaProgramadaM" 
                                                value="#{registroSolucionMB.surtimientoExtendedSelected.fechaProgramada}"
                                                locale="es_MX" navigator="true" pattern="dd/MM/yyyy HH:mm"
                                                title="Fecha Programada" mindate="#{registroSolucionMB.fechaMinPrescrMezclaValida}"
                                                pages="1" mask="true" showButtonPanel="true" effect="fade" required="true"
                                                validatorMessage="Fecha programada debe ser mayor a fecha actual mas 90 miutos"
                                                requiredMessage="Debe ingresar la Fecha Programada"
                                                size="12" >
                                        <p:ajax event="blur" listener="#{registroSolucionMB.estableceFechaPrgramada}" />
                                    </p:calendar>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-4">
                                    <p:outputLabel style="margin-right: 1px;" for="tipoPrescripcionM" value="Tipo Prescripción: "/>
                                    <p:selectOneMenu id="tipoPrescripcionM" value="#{registroSolucionMB.surtimientoExtendedSelected.tipoPrescripcion}" label="Tipo de Prescripción"
                                                     title="Tipo de Prescripción" autoWidth="true" style="vertical-align: middle;" disabled="#{registroSolucionMB.existePrescripcion}"
                                                     required="true" requiredMessage="Debe seleccionar un Tipo de Prescripción">
                                        <f:selectItem itemLabel="Seleccione Tipo" itemValue="#{null}"/>
                                        <f:selectItem itemLabel="Normal" itemValue="N" />
                                        <f:selectItem itemLabel="Urgente" itemValue="U" />
                                        <f:selectItem itemLabel="Dosis Única" itemValue="D" />
                                    </p:selectOneMenu>
                                </div>
                            </div>
                            
                             <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="tipoSolucionM" value="Tipo Solución: *" />
                                    <p:selectOneMenu id="tipoSolucionM" style="vertical-align: middle;" title="Tipo de Solución" 
                                                     value="#{registroSolucionMB.idTipoSolucion}" label="Tipo Solución"
                                                     filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel="Seleccione una opción" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.tipoSolucionList}" var="tipoSol"
                                                       itemLabel="#{tipoSol.clave}" itemValue="#{tipoSol.idTipoSolucion}"/>
                                        <p:ajax event="itemSelect" update="protocoloM txtDiagnosticoM "
                                                listener="#{registroSolucionMB.seleccionaTiposolucion}">
                                        </p:ajax>
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="viaAdministracionM" value="Vía Administración: "/>
                                    <p:selectOneMenu id="viaAdministracionM" style="vertical-align: middle; " 
                                                     value="#{registroSolucionMB.viaAdministracion.idViaAdministracion}"
                                                     label="Vía de Administración" title="Vía de Administración" autoWidth="true" 
                                                     required="true" requiredMessage="Seleccione vía de administración" 
                                                     filter="true" filterMatchMode="contains">
                                        <f:selectItem itemLabel="Seleccione Vía" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.viaAdministracionList}" var="via"
                                                       itemLabel="#{via.nombreViaAdministracion}" itemValue="#{via.idViaAdministracion}"/>
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Volumen total: *" />
                                    <p:inputText size="4" 
                                                 value="#{registroSolucionMB.surtimientoExtendedSelected.volumenTotal}" >
                                        <p:keyFilter regEx="/[0-9.]/i" />
                                        <p:ajax event="blur" process="@this" update="txtVelocidadM" 
                                                listener="#{registroSolucionMB.calculaVelocidadPerfusion}"/>
                                    </p:inputText>
                                    <p:outputLabel value=" mL" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Contenedor: *"  />
                                    <p:selectOneMenu id="cmbIdContenedorM" value="#{registroSolucionMB.surtimientoExtendedSelected.idContenedor}" 
                                                     filter="true" filterMatchMode="contains" >
                                        <f:selectItem itemLabel="Seleccione una opción" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.envaseList}" var="tipo" 
                                                       itemLabel="#{tipo.descripcion}" itemValue="#{tipo.idEnvaseContenedor}" />
                                        <p:ajax event="change" process="@this" 
                                                listener="#{registroSolucionMB.setIdCotenedor}"/>
                                    </p:selectOneMenu>
                                </div>
                            </div>
                            
                            <div class="ui-g-12" >
                                <ui:remove>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Fecha de Entrega: "
                                                   for="txtFechaEntregaM" /> 
                                    <p:calendar id="txtFechaEntregaM" title="Fecha Programada" size="8"
                                                required="true" requiredMessage="Seleccione fecha de entrega" 
                                                value="#{registroSolucionMB.surtimientoExtendedSelected.fechaParaEntregar}"
                                                showOn="button" locale="es_MX" navigator="true" pattern="dd/MM/yyyy"
                                                pages="1" mask="true" showButtonPanel="true" effect="fade" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" value="Hora de Entrega: " for="txtHoraEntregaM" /> 
                                    <p:selectOneMenu id="txtHoraEntregaM" style="vertical-align: middle;" 
                                                     required="true" requiredMessage="Seleccione hora de entrega" 
                                                     value="# {registroSolucionMB.surtimientoExtendedSelected.idHorarioParaEntregar}" 
                                                     label="Hora de Entrega" filter="true" filterMatchMode="contains" 
                                                     title="Hora de Entrega" autoWidth="true" >
                                        <f:selectItem itemLabel="Seleccione horario" itemValue="#{null}"/>
                                        <f:selectItems value="#{registroSolucionMB.horarioEntregaLista}" var="horar" 
                                                       itemValue="#{horar.idHorarioEntrega}" itemLabel="#{horar.nombre}" />
                                    </p:selectOneMenu>
                                </div>
                                </ui:remove>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="chkPerfucionContinuaM"  value="Perfusión Continua: "/>
                                    <p:selectBooleanCheckbox id="chkPerfucionContinuaM" 
                                                             value="#{registroSolucionMB.surtimientoExtendedSelected.perfusionContinua}" >
                                        <p:ajax event="change" update="chkPerfucionContinuaM, txtVelocidadM" 
                                                listener="#{registroSolucionMB.activaPerfusion}" />

                                    </p:selectBooleanCheckbox>
                                </div>

                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 5px;" value="Tiempo Infusión: *"/>
                                        <p:inputMask id="hrsInfusion" value="#{registroSolucionMB.surtimientoExtendedSelected.horasInfusion}" 
                                                     mask="999:99" size="4">
                                            <p:ajax event="blur" process="@this" update="txtVelocidadM"
                                                listener="#{registroSolucionMB.calculaVelocidadPerfusion}" />
                                        </p:inputMask> 
                                </div>
                                
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="txtVelocidadM" value="Velocidad: "/>
                                    <p:inputNumber id="txtVelocidadM" value="#{registroSolucionMB.surtimientoExtendedSelected.velocidad}" 
                                                   minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="10" 
                                                   title="Velocidad de Administración" 
                                                   disabled="#{!registroSolucionMB.surtimientoExtendedSelected.perfusionContinua}" />
                                    <p:outputLabel value=" mL/h" />
                                </div>
                                <ui:remove>
                                    <div style="width:20%; float:left;">
                                        <p:outputLabel style="margin-right: 1px;" value="Unidad" rendered="#{egistroSolucionMB.validaPrescripcion}" />
                                        <p:outputLabel class="textoNegrita" value="#{registroSolucionMB.surtimientoExtendedSelected.unidadConcentracion}" rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    </div>
                                    <div style="width:25%; float:left;">
                                        <p:outputLabel for="txtRitmoM"  value="Ritmo: "/>
                                        <p:inputNumber id="txtRitmoM" value="#{registroSolucionMB.surtimientoExtendedSelected.ritmo}" minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="10" 
                                                       title="Ritmo de Administración" 
                                                       disabled="#{!registroSolucionMB.surtimientoExtendedSelected.perfusionContinua}" />
                                        cm³/min
                                    </div>
                                </ui:remove>
                                <div class="ui-g-12 ui-md-6 ui-lg-3"></div>
                            </div>
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="protocoloM" value="Protocolos: "/>
                                    <p:selectOneMenu id="protocoloM" value="# {registroSolucionMB.claveProtocolo}" label="Protocolo" filter="true" filterMatchMode="contains"
                                                     title="Tipo de Protocolo" autoWidth="true" style="vertical-align: middle;" disabled="#{!registroSolucionMB.isOncologica}" >
                                        <!--<f:selectItem itemLabel="Seleccione Protocolo" itemValue="# { null}"/>-->
                                        <f:selectItems value="#{registroSolucionMB.listaProtocolos}" var="proto" itemValue="#{proto.claveProtocolo}" itemLabel="#{proto.claveProtocolo}"></f:selectItems>
                                        <p:ajax event="itemSelect" update="formWarning:msjWarning txtDiagnosticoM"
                                                listener="#{registroSolucionMB.validaDiagnosticoProtocolo}">
                                        </p:ajax>
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-3">
                                    <p:outputLabel style="margin-right: 1px;" for="txtDiagnosticoM" value="Diagnóstico: "/>
                                    <p:autoComplete id="txtDiagnosticoM" styleClass="autocomplete-multiple-hiper"
                                                    multiple="false"
                                                    placeholder="Buscar Diagnóstico" 
                                                    value="#{registroSolucionMB.diagnosticoSelected}"
                                                    completeMethod="#{registroSolucionMB.autocompleteDiagnostico}"
                                                    minQueryLength="4" forceSelection="true"                                                         
                                                    var="diagnos" size ="20"
                                                    itemLabel="#{diagnos.nombre}" itemValue="#{diagnos}" 
                                                    converter="musGenericConverter" 
                                                    disabled="true">
                                        <p:column style="width: 20px; font-size: small;" width="50px">
                                            <f:facet name="header" >
                                                <h:outputText value="Clave" />
                                            </f:facet>
                                            <h:outputText value="#{diagnos.clave}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="width: 600px; font-size: small;" width="600px">
                                            <f:facet name="header" >
                                                <h:outputText value="Descripción" />
                                            </f:facet>
                                            <h:outputText value="#{diagnos.nombre}" style=" font-size: x-small;" />
                                        </p:column>
                                        <p:ajax event="itemSelect" update="formWarning:msjWarning , txtDiagnosticoM"
                                                listener="#{registroSolucionMB.validaDiagnosticoProtocolo}">
                                        </p:ajax>
                                    </p:autoComplete>
                                </div>
                            </div>
                            
                            <div class="ui-g-12" style="padding: 1px 1px; background-color: #bfbfbf; margin-right:1px;">                                
                                <div class="ui-g-12 ui-md-6 ui-lg-5">
                                    <p:autoComplete id="txtInsumoM" 
                                                    value="#{registroSolucionMB.medicamento}" 
                                                    completeMethod="#{registroSolucionMB.autoCompleteMedicamentos}"
                                                    minQueryLength="4" queryDelay="900" 
                                                    forceSelection="true"
                                                    var="insumo" cache="false" 
                                                    itemLabel="#{insumo.nombreCorto}" 
                                                    itemValue="#{insumo}" 
                                                    converter="insumoExtConverter"
                                                    placeholder="Buscar Insumo"
                                                    scrollHeight="250"
                                                    emptyMessage="No se encontro registro."
                                                    size="65">
                                        <p:ajax event="itemSelect"
                                                listener="#{registroSolucionMB.selectMedicamento}"
                                                process="txtInsumoM, lblUnidadM" 
                                                oncomplete="$(function() { PrimeFaces.focus('formNuevaOrden:txtInsumo'); } ); "
                                                update="msgValidaSolucion, txtInsumoM, lblUnidadM"/>
                                        <p:column style="width: 20px; font-size: small;" width="20px">
                                            <f:facet name="header" >
                                                <h:outputText value="Clave Institucional" />
                                            </f:facet>
                                            <h:outputText value="#{insumo.claveInstitucional}" style=" font-size: small;" />
                                        </p:column>
                                        <p:column style="width: 350px; font-size: small;" width="350px">
                                            <f:facet name="header" >
                                                <h:outputText value="Descripción" />
                                            </f:facet>
                                            <h:outputText value="#{insumo.nombreCorto}" style=" font-size: x-small;" />
                                        </p:column>
                                        <p:column style="width: 180px; font-size: small;" width="350px"  rendered="false" >
                                            <f:facet name="header" >
                                                <h:outputText value="Almacén" />
                                            </f:facet>
                                            <h:outputText value="#{insumo.nombreEstructura}" style=" font-size: x-small;" />
                                        </p:column>
                                        <p:column style="width: 120px; font-size: small;" width="350px">
                                            <f:facet name="header" >
                                                <h:outputText value="Cant. Disponible" />
                                            </f:facet>
                                            <h:outputText value="#{insumo.cantidadDisponible}" style=" font-size: x-small;" />
                                        </p:column>
                                    </p:autoComplete>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel for="dosisM" >Cant/Dosis:</p:outputLabel>
                                    <p:inputNumber id="dosisM"  value="#{registroSolucionMB.dosis}" minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="6" title="Cant/Dosis"></p:inputNumber>
                                    <p:outputLabel id="lblUnidadM">#{registroSolucionMB.medicamento.nombreUnidadConcentracion}</p:outputLabel>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel for="frecuenciaM" >Frecuencia:</p:outputLabel>
                                    <p:selectOneMenu id="frecuenciaM" value="#{registroSolucionMB.frecuencia}" label="Frecuencia" filter="true" filterMatchMode="contains"
                                                     title="Frecuencia" autoWidth="true" style="vertical-align: middle;">
                                        <f:selectItem itemLabel="Seleccione Frecuencia" itemValue="# {null}"/>
                                        <f:selectItems value="#{registroSolucionMB.listaFrecuencias}" var="frec" itemValue="#{frec.frecuencia}" itemLabel="#{frec.nombre} - #{frec.frecuencia} hr(s)"></f:selectItems>
                                    </p:selectOneMenu>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel for="duracionM" >Duración:</p:outputLabel>
                                    <p:inputNumber id="duracionM" value="#{registroSolucionMB.duracion}" 
                                                   minValue="0" maxValue="90" decimalPlaces="0" size="4" title="Duración">
                                    </p:inputNumber>
                                    días
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-1">
                                    <p:commandButton value="Agregar"
                                                     style="float: right;"
                                                     actionListener="#{registroSolucionMB.agregarMedicamento}"
                                                     onclick="PF('statusProcess').show();"
                                                     oncomplete="PF('statusProcess').hide(); $(function() { PrimeFaces.focus('formNuevaOrdenSol:txtInsumoM'); } ); "
                                                     update="msgValidaSolucion, txtInsumoM, dosisM, frecuenciaM, duracionM, tblInsumosM"
                                                     styleClass="btnMusAzul" />
                                </div>
                            </div>
                            
                            <div class="ui-g-12" >
                                <p:dataTable id="tblInsumosM"
                                         widgetVar="tblInsumosM" 
                                         value="#{registroSolucionMB.surtimientoInsumoExtendedList}"                                   
                                         var="item"
                                         rowIndexVar="row"
                                         style="margin-top:0px; margin-bottom:5px; width:98%;"
                                         styleClass="mystyle"
                                         scrollable="true" scrollHeight="120"
                                         emptyMessage="No hay insumos capturados"
                                         reflow="true"
                                         paginator="false"
                                         rows="0"
                                         disabledSelection="true">

                                <p:column style="text-align: left; width: 10%"
                                          sortBy="#{item.claveInstitucional}" >
                                    <f:facet name="header" >
                                        <h:outputText value="Clave" />
                                    </f:facet>
                                    <h:outputText value="#{item.claveInstitucional}" class="textoNegrita" />
                                </p:column>
                                <p:column style="text-align: left; width: 60%"
                                          sortBy="#{item.nombreCorto}" >
                                    <f:facet name="header" >
                                        <h:outputText value="Insumo" />
                                    </f:facet>
                                    <h:outputText value="#{item.nombreCorto}" />
                                </p:column>
                                <p:column style="text-align: left; width: 10%">
                                    <f:facet name="header" >
                                        <h:outputText value="Dosis" />
                                    </f:facet>
                                    <h:outputText value="#{item.dosis} #{item.unidadConcentracion}" />
                                </p:column>
                                <p:column style="text-align: left; width: 6%">
                                    <f:facet name="header" >
                                        <h:outputText value="Frecuencia" />
                                    </f:facet>
                                    <h:outputText value="#{item.frecuencia}" />
                                </p:column>
                                <p:column style="text-align: left; width: 5%">
                                    <f:facet name="header" >
                                        <h:outputText value="Duración" />
                                    </f:facet>
                                    <h:outputText value="#{item.duracion}" />
                                </p:column>
                                    <p:column style="text-align: left; width: 5%" >
                                    <f:facet name="header" >
                                        <h:outputText value="Cant Req" />
                                    </f:facet>
                                    <h:outputText value="#{item.cantidadSolicitada}" class="textoNegrita" />
                                </p:column>
                                <p:column style="text-align: left; width: 4%">
                                    <f:facet name="header">
                                        <h:outputText value="Eliminar" />
                                    </f:facet>
                                    <p:commandLink title="Eliminar" onclick="PF('statusProcess').show()"
                                                   oncomplete="PF('statusProcess').hide();"
                                                   actionListener="#{registroSolucionMB.eliminaInsumoDeLista(item)}"
                                                   update="formNuevaOrdenSol:tblInsumosM  ">
                                        <i class="fa fa-trash iconMusRojo" />
                                    </p:commandLink>
                                </p:column>
                            </p:dataTable>
                            </div>
                            
                            <br/>
                            
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                    <p:outputLabel style="margin-right: 1px; font-weight: bold;" 
                                                   value="Instrucciones de Preparación: " 
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <br/>
                                    <p:inputTextarea id="txtInstruccionesPrepM" rows="4" cols="80" 
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.instruccionPreparacion}" 
                                                     rendered="#{registroSolucionMB.validaPrescripcion}" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                    <p:outputLabel style="margin-right: 1px; font-weight: bold;"
                                                   value="Observaciones: "
                                                   rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <br/>
                                    <p:inputTextarea id="txtCondicionesConserM" rows="4" cols="80" 
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.observaciones}" 
                                                     rendered="#{registroSolucionMB.validaPrescripcion}" />
                                </div>
                            </div>

                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-10">
                                    <p:selectBooleanCheckbox id="chkTemRefrigeracionM" itemLabel="Temp. Refrigeración" 
                                                             value="#{registroSolucionMB.surtimientoExtendedSelected.tempRefrigeracion}" 
                                                             rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    <p:selectBooleanCheckbox id="chkTemAmbienteM" itemLabel="Temp. Ambiente"
                                                             value="#{registroSolucionMB.surtimientoExtendedSelected.tempAmbiente}" 
                                                             rendered="#{registroSolucionMB.validaPrescripcion}"  />
                                    <p:selectBooleanCheckbox id="chkProteccionLuzM" itemLabel="Protección de Luz" 
                                                             value="#{registroSolucionMB.surtimientoExtendedSelected.proteccionLuz}" 
                                                             rendered="#{registroSolucionMB.validaPrescripcion}"  />
                                    <p:selectBooleanCheckbox id="chkNoAgitarM" itemLabel="No agitar" 
                                                             value="#{registroSolucionMB.surtimientoExtendedSelected.noAgitar}" 
                                                             rendered="#{registroSolucionMB.validaPrescripcion}"  />
                                </div>
                            </div>
                            
                            <div class="ui-g-12" style=" width: 100% !important; /*position: absolute; bottom: 0px;*/ background-color: #f8f8f8; border-top: solid 2px #C8C8C8;  " >
                                <div class="ui-g-12 ui-md-6 ui-lg-3" style="display: flex; align-content: center; justify-content: space-between; float: right;" >
                                    <div >
                                        <p:commandButton value="Cerrar" immediate="true"
                                                         styleClass="btnMusBoolGris" 
                                                         icon="fa fa-times-circle" 
                                                         onmousedown ="$('#formNuevaOrdenSol\\:txtFolioPrescripcionM').removeAttr('onblur');"
                                                         onclick="PF('modalNuevaOrdenSol').hide();"
                                                         style="margin-right: 1px; float: right;" />
                                                <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                                    <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                                    <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                                </p:confirmDialog>
                                    </div>
                                    <div >
                                        <p:commandButton value="Guardar"
                                                         icon="fa fa-check-circle" style="margin-right: 1px;float: right;"
                                                         actionListener="#{registroSolucionMB.validaAgregarSolucionMult}"
                                                         onclick="PF('statusProcess').show();"
                                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaConfirmRegistroMult').show(); } else { PF('modalNuevaOrdenSol').content.scrollTop('0') } "
                                                         styleClass="btnMusAzul"  
                                                         update=":formNuevaOrdenMultiple:tblMesclaz , :formNuevaOrdenSol:msgValidaSolucion , :frmCofirmaConfirmRegistroMult"/> 
                                    </div>
                                </div>
                            </div>                                                           
                        </div>                            
                    </h:form>                    
                </p:dialog>
                                
                <p:dialog header="CONFIRMACIÓN"
                          widgetVar="dlgCofirmaConfirmRegistro"
                          closeOnEscape="true"
                          closable="true"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important; " >
                    <h:form id="frmCofirmaConfirmRegistro" >
                        <p:messages id="msgCofirmaConfirmRegistro" globalOnly="false" showDetail="false" closable="true" />
                        <br/>
                        <p:outputLabel value="Desea guardar la Prescripción y solicitar la mezcla ?"
                                       style="font-weight: bold;"
                                       rendered="#{!registroSolucionMB.validaPrescripcion}" />
                        <p:outputLabel value="Desea guardar la orden de mezcla ?" 
                                       style="font-weight: bold;"
                                       rendered="#{registroSolucionMB.validaPrescripcion}" />
                        <br/>
                        <br/>
                        <p:commandButton id="btnConfirmRegistra" value="Si" styleClass="btnMusAzul" 
                                         style="margin-right: 1px; float: right;"
                                         onclick="PF('statusProcess').show();"
                                         actionListener="#{registroSolucionMB.registrarOrden}" 
                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaConfirmRegistro').hide(); PF('modalNuevaOrden').hide(); } "
                                         update=":mainForm, :formNuevaOrden, :frmCofirmaConfirmRegistro " />
                        
                        <p:commandButton title="No" value="No" styleClass="btnMusBoolGris" 
                                         style="margin-right: 1px; float: right;"
                                         update=":frmCofirmaConfirmRegistro"
                                         oncomplete="PF('dlgCofirmaConfirmRegistro').hide();" />
                    </h:form>
                </p:dialog>
                
                <p:dialog header="CONFIRMACIÓN"
                          widgetVar="dlgCofirmaConfirmRegistroMult"
                          closeOnEscape="true"
                          closable="true"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important; " >
                    <h:form id="frmCofirmaConfirmRegistroMult" >
                        <p:messages id="msgCofirmaConfirmRegistroMult" globalOnly="true" showDetail="false" closable="true" />
                        <br/>
                        <p:outputLabel value="¿Desea guardar la Prescripción ?"
                                       style="font-weight: bold;"
                                       rendered="#{!registroSolucionMB.validaPrescripcion}" />
                        <p:outputLabel value="Desea guardar la orden de mezcla ?" 
                                       style="font-weight: bold;"
                                       rendered="#{registroSolucionMB.validaPrescripcion}" />
                        <br/>
                        <br/>
                        <p:commandButton id="btnConfirmRegistra" value="Si" styleClass="btnMusAzul" 
                                         style="margin-right: 1px; float: right;"
                                         onclick="PF('statusProcess').show();"
                                         actionListener="#{registroSolucionMB.agregarSolucion}" 
                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaConfirmRegistroMult').hide(); PF('modalNuevaOrdenSol').hide(); } else { PF('modalNuevaOrdenSol').content.scrollTop('0') }"
                                         update=":mainForm, :formNuevaOrdenMultiple:tblMesclaz , :frmCofirmaConfirmRegistroMult , msgCofirmaConfirmRegistroMult " />
                        
                        <p:commandButton title="No" value="No" styleClass="btnMusBoolGris" 
                                         style="margin-right: 1px; float: right;"
                                         update=":frmCofirmaConfirmRegistro"
                                         oncomplete="PF('dlgCofirmaConfirmRegistroMult').hide();" />
                    </h:form>
                </p:dialog>
                
                <p:dialog header="CONFIRMACIÓN"
                          widgetVar="dlgCofirmaConfirmRegistroM"
                          closeOnEscape="true"
                          closable="true"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important; " >
                    <h:form id="frmCofirmaConfirmRegistroM" >
                        <p:messages id="msgCofirmaConfirmRegistroM" globalOnly="false" showDetail="false" closable="true" />
                        <br/>
                        <p:outputLabel value="Desea guardar la Prescripción y solicitar la mezcla ?"
                                       style="font-weight: bold;"
                                       rendered="#{!registroSolucionMB.validaPrescripcion}" />
                        <p:outputLabel value="Desea guardar la orden de mezcla ?" 
                                       style="font-weight: bold;"
                                       rendered="#{registroSolucionMB.validaPrescripcion}" />
                        <br/>
                        <br/>
                        <p:commandButton id="btnConfirmRegistraM" value="Si" styleClass="btnMusAzul" 
                                         style="margin-right: 1px; float: right;"
                                         onclick="PF('statusProcess').show();"
                                         actionListener="#{registroSolucionMB.registrarOrdenesSolucion}" 
                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaConfirmRegistroM').hide(); PF('modalNuevaOrdenMultiple').hide(); } "
                                         update=":mainForm, :formNuevaOrdenMultiple, :frmCofirmaConfirmRegistroM " />
                        
                        <p:commandButton title="No" value="No" styleClass="btnMusBoolGris" 
                                         style="margin-right: 1px; float: right;"
                                         update=":frmCofirmaConfirmRegistroM"
                                         oncomplete="PF('dlgCofirmaConfirmRegistroM').hide();" />
                    </h:form>
                </p:dialog>
                
                <p:dialog header="#{registroSolucionMB.validaPrescripcion ? 'INFORMACIÓN DE ORDEN DE MEZCLA' : 'INFORMACIÓN DE PRESCRIPCIÓN'}"
                          widgetVar="modalEditarOrden"
                          closeOnEscape="true"
                          closable="true"
                          width="95%"
                          height="650px" 
                          position="30,10"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important;">
                    <!--<p:scrollPanel mode="native" style="max-height: 650px">-->
                        <h:form id="formEditarOrden">
                            <p:messages id="msgValidaEdicion" globalOnly="false" showDetail="false" closable="true"  />
                            <div class="ui-g">
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" value="Folio Surtimiento: " 
                                                       rendered="#{registroSolucionMB.validaPrescripcion}" />
                                        <p:outputLabel id="folioSurt2" 
                                                       value="#{registroSolucionMB.surtimientoExtendedSelected.folio}" 
                                                       rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" value="Fecha Registro: "  
                                                       rendered="#{registroSolucionMB.validaPrescripcion}"/>
                                        <p:outputLabel id="fechaRegistro" title="Fecha de Registro" 
                                                       value="#{registroSolucionMB.surtimientoExtendedSelected.insertFecha}" 
                                                       rendered="#{registroSolucionMB.validaPrescripcion}" >
                                            <f:convertDateTime type="date" pattern="dd/MM/yyyy HH:mm"/>
                                        </p:outputLabel>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" value="Estatus: " 
                                                       rendered="#{registroSolucionMB.validaPrescripcion}" />
                                        <p:outputLabel id="estatusSurtimiento" title="Estatus del Surtimiento" 
                                                       value="#{registroSolucionMB.surtimientoExtendedSelected.estatusSurtimiento}" 
                                                       rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    </div>
                                </div>
                                
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" value="Folio Prescripción: "  />
                                        <p:outputLabel id="txtFolioPrescripcion" title="Folio de Prescripción" style="font-weight: bold; "
                                                       value="#{registroSolucionMB.surtimientoExtendedSelected.folioPrescripcion}" />
                                    </div>
                                    
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" for="fechaProgramada" value="Programada" />
                                        <p:calendar id="fechaProgramada" title="Fecha Programada"
                                                    value="#{registroSolucionMB.surtimientoExtendedSelected.fechaProgramada}"
                                                    disabled="#{!registroSolucionMB.editable}"
                                                    showOn="button" locale="es_MX" navigator="true" pattern="dd/MM/yyyy HH:mm"
                                                    pages="1" mask="true" showButtonPanel="true" effect="fade"
                                                    size="10" >
                                            <p:ajax event="blur" listener="#{registroSolucionMB.estableceFechaPrgramada}" />
                                        </p:calendar>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" for="tipoPrescripcion" value="Tipo Prescripción: "/>
                                        <p:selectOneMenu id="tipoPrescripcion" style="vertical-align: middle;"
                                                         label="Tipo de Prescripción" title="Tipo de Prescripción" autoWidth="true" 
                                                         required="true" requiredMessage="Debe seleccionar un Tipo de Prescripción"
                                                         value="#{registroSolucionMB.surtimientoExtendedSelected.tipoPrescripcion}" 
                                                         disabled="#{!registroSolucionMB.editable}">
                                            <f:selectItem itemLabel="Seleccione Tipo" itemValue="#{null}"/>
                                            <f:selectItem value="#{N}" itemLabel="Normal" itemValue="N" />
                                            <f:selectItem value="#{U}" itemLabel="Urgente" itemValue="U" />
                                            <f:selectItem value="#{D}" itemLabel="Dosis Única" itemValue="D" />
                                        </p:selectOneMenu>
                                    </div>
                                </div>
                                
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" for="comboServicios" value="Área/Servicio: " />
                                        <p:selectOneMenu id="comboServicios" style="vertical-align: middle; "
                                                         label="Área o Servicio" title="Área o Servicio" autoWidth="true" 
                                                         required="true" requiredMessage="Debe seleccionar el Área o Servicio"
                                                         filter="true" filterMatchMode="contains"
                                                         value="#{registroSolucionMB.surtimientoExtendedSelected.idEstructura}"
                                                         disabled="#{!registroSolucionMB.editable || registroSolucionMB.ordenRechazada}" >
                                            <f:selectItem itemLabel="Seleccione Área" itemValue="#{null}"/>
                                            <f:selectItems value="#{registroSolucionMB.listServiciosQueSurte}"
                                                           var="servicio"
                                                           itemValue="#{servicio.idEstructura}"
                                                           itemLabel="#{servicio.nombre}"  />
                                            <p:ajax event="itemSelect" listener="#{registroSolucionMB.obtenerCamas}" 
                                                    update="comboCamas" />
                                        </p:selectOneMenu>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" for="comboCamas" value="Cama: *" />
                                        <p:selectOneMenu id="comboCamas" title="Cama del Paciente" style="vertical-align: middle; "
                                                         value="#{registroSolucionMB.surtimientoExtendedSelected.cama}"
                                                         autoWidth="true"
                                                         filter="true" filterMatchMode="contains"
                                                         disabled="#{!registroSolucionMB.editable}" >
                                            <f:selectItem itemLabel="Seleccione Cama" itemValue="#{null}"/>
                                            <f:selectItems value="#{registroSolucionMB.listaCamas}"
                                                           var="cama"
                                                           itemValue="#{cama.idCama}"
                                                           itemLabel="#{cama.nombreCama} - #{cama.ubicacion} " />
                                        </p:selectOneMenu>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" for="autoCompleteMedico" value="Médico Solicitante: " />
                                        <p:autoComplete id="autoCompleteMedico" 
                                                value="#{registroSolucionMB.medico}" 
                                                required="true" requiredMessage="Seleccione Médico"
                                                completeMethod="#{registroSolucionMB.autoCompleteMedicos}" 
                                                minQueryLength="3" forceSelection="true"
                                                var="medico" itemValue="#{medico.idUsuario}" 
                                                itemLabel="#{medico.nombre} #{medico.apellidoPaterno} #{medico.apellidoMaterno}"
                                                converter="medicoConverter" 
                                                placeholder="Buscar Médico..."
                                                emptyMessage="Búsqueda sin resultados" 
                                                size="25" title="Médico Solicitante"
                                                scrollHeight="200"
                                                disabled="#{!registroSolucionMB.editable}" >
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Cédula Profesional" />
                                                </f:facet>
                                                <h:outputText value="#{medico.cedProfesional}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="font-size: small;" >
                                                <f:facet name="header" >
                                                    <h:outputText value="Nombre" />
                                                </f:facet>
                                                <h:outputText value="#{medico.nombre}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Apellido Paterno" />
                                                </f:facet>
                                                <h:outputText value="#{medico.apellidoPaterno}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Apellido Materno" />
                                                </f:facet>
                                                <h:outputText value="#{medico.apellidoMaterno}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                        </p:autoComplete>
                                        <p:commandButton id="agregaMedico" title="Agregar" value="+" 
                                                         onclick="PF('statusProcess').show();"
                                                         actionListener="#{registroSolucionMB.mostrarModalAgregarMedico}"
                                                         oncomplete="PF('statusProcess').hide(); if (args.estatus) { PF('modalAgregarMedico').show(); }"
                                                         update=":formAgregarMedico , :formEditarOrden:msgValidaEdicion "
                                                         disabled="#{registroSolucionMB.existePrescripcion}"
                                                         rendered="false" >
                                            <p:resetInput target="formAgregarMedico"/>
                                        </p:commandButton>
                                    </div>
                                </div>
                                
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" for="autoCompletePaciente" value="Paciente: " />
                                        <p:autoComplete id="autoCompletePaciente" 
                                                value="#{registroSolucionMB.pacienteExtended}" 
                                                completeMethod="#{registroSolucionMB.autoCompletePacientes}" 
                                                minQueryLength="3" forceSelection="true"
                                                required="true" requiredMessage="Seleccione paciente"
                                                var="paciente" itemValue="#{paciente}"
                                                itemLabel="#{paciente.nombreCompleto} #{paciente.apellidoPaterno} #{paciente.apellidoMaterno}"
                                                converter="pacienteConverter" 
                                                placeholder="Buscar Paciente..."
                                                emptyMessage="Búsqueda sin resultados" 
                                                title="Nombre del Paciente"
                                                size="25" scrollHeight="200"
                                                disabled="#{!registroSolucionMB.editable || registroSolucionMB.ordenRechazada}" >
                                            <p:ajax event="itemSelect" listener="#{registroSolucionMB.selectPaciente}" 
                                                    update="txtNumPaciente, txtDiagnosticos, txtEdadPaciente, txtPesoPaciente, txtTallaPaciente, txtAreaPaciente, chkDiabetes, chkHipertension, chkProRenales, chkPadeCronico">
                                            </p:ajax>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Número de Expediente" />
                                                </f:facet>
                                                <h:outputText value="#{paciente.pacienteNumero}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Clave DerechoHabiencia" />
                                                </f:facet>
                                                <h:outputText value="#{paciente.claveDerechohabiencia}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Nombre" />
                                                </f:facet>
                                                <h:outputText value="#{paciente.nombreCompleto}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Apellido Paterno" />
                                                </f:facet>
                                                <h:outputText value="#{paciente.apellidoPaterno}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Apellido Materno" />
                                                </f:facet>
                                                <h:outputText value="#{paciente.apellidoMaterno}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                            <f:facet name="header" >
                                                <h:outputText value="Fecha Nacimiento" />
                                            </f:facet>
                                            <h:outputText value="#{paciente.fechaNacimiento}" style=" font-size: small; font-weight: bolder;" >
                                                <f:convertDateTime pattern="yyyy-MM-dd" />
                                            </h:outputText>
                                        </p:column>
                                        </p:autoComplete>
                                        <p:commandButton id="agregaPaciente" title="Agregar" value="+" 
                                            onclick="PF('statusProcess').show();" immediate="true"
                                            actionListener="#{registroSolucionMB.mostrarModalAgregarPaciente}"
                                            oncomplete="PF('statusProcess').hide();  if (args.estatus) { PF('modalAgregarPaciente').show(); }"
                                            update="formAgregarPaciente  , :formEditarOrden:msgValidaEdicion"
                                            disabled="#{!registroSolucionMB.editable || registroSolucionMB.ordenRechazada}"  >
                                            <p:resetInput target="formAgregarPaciente"/>
                                        </p:commandButton>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" value="No. de Expediente: " />
                                        <p:outputLabel class="textoNegrita" id="txtNumPaciente" title="Número de Expediente"
                                                       value="#{registroSolucionMB.pacienteExtended.pacienteNumero}" >
                                        </p:outputLabel>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel for="tipoConsulta" value="Tipo Consulta: " />
                                        <p:selectOneMenu id="tipoConsulta" style="vertical-align: middle;"
                                                         value="#{registroSolucionMB.surtimientoExtendedSelected.tipoConsulta}" 
                                                         title="Tipo de la Consulta" autoWidth="true" 
                                                         required="true" requiredMessage="Debe seleccionar el Tipo de Consulta"
                                                         disabled="#{!registroSolucionMB.editable}" >
                                            <f:selectItem itemLabel="Seleccione Tipo" itemValue="#{null}"/>
                                            <f:selectItem value="#{I}" itemLabel="Hospitalización" itemValue="I" />
                                            <f:selectItem value="#{E}" itemLabel="Ambulatoria" itemValue="E" />
                                        </p:selectOneMenu>
                                    </div>
                                </div>
                                
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" value="Fecha Nacimiento: " />
                                        <p:outputLabel id="txtFecNacPaciente" value="#{registroSolucionMB.pacienteExtended.fechaNacimiento}" >
                                            <f:convertDateTime pattern="yyyy-MM-dd" />
                                        </p:outputLabel>
                                        <p:outputLabel value=" ( " />
                                        <p:outputLabel id="txtEdadPaciente" value="#{registroSolucionMB.pacienteExtended.edadPaciente}" />
                                        <p:outputLabel value=" años )" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" value="Peso: *"  />
                                        <p:inputText id="txtPesoPaciente"  size="1" maxlength="4"
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.pesoPaciente}"
                                                     disabled="#{!registroSolucionMB.editable}" >
                                            <p:keyFilter regEx="/[\d\.]/i" />
                                            <p:ajax event="change" update="txtAreaPaciente" listener="#{registroSolucionMB.obtenerSuperficieCorporal()}" />
                                        </p:inputText> kg
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" value="Estatura: *"  />
                                        <p:inputText id="txtTallaPaciente" size="1" maxlength="4"
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.tallaPaciente}"
                                                     disabled="#{!registroSolucionMB.editable}" >
                                            <p:keyFilter regEx="/[\d\.]/i" />
                                            <p:ajax event="change" update="txtAreaPaciente" listener="#{registroSolucionMB.obtenerSuperficieCorporal()}" />
                                        </p:inputText> mts
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" value="Superficie Corporal: *"  />
                                        <p:inputText id="txtAreaPaciente"  size="1" maxlength="4"
                                                     value="#{registroSolucionMB.surtimientoExtendedSelected.areaCorporal}" 
                                                     disabled="#{!registroSolucionMB.editable}" >
                                            <p:keyFilter regEx="/[\d\.]/i" />
                                        </p:inputText> m²
                                    </div>
                                </div>

                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <p:outputLabel value="Diagnósticos: * " style="margin-right: 1px; vertical-align: top; "/>
                                        <p:autoComplete id="txtDiagnosticos"
                                                styleClass="autocomplete-multiple-hiper"
                                                multiple="true" 
                                                placeholder="Agregar Diagnósticos" 
                                                value="#{registroSolucionMB.listaDiagnosticos}"
                                                completeMethod="#{registroSolucionMB.autocompleteDiagnosticos}"
                                                minQueryLength="4"
                                                forceSelection="true"
                                                var="diagnos"
                                                itemLabel="#{diagnos.nombre}" itemValue="#{diagnos}" 
                                                converter="musGenericConverter"
                                                scrollHeight="150" 
                                                disabled="#{!registroSolucionMB.editable}" >
                                            <p:ajax event="itemSelect" update="txtDiagnosticos"></p:ajax>
                                            <p:column style="width: 20px; font-size: small;" width="50px">
                                                <f:facet name="header" >
                                                    <h:outputText value="Clave" />
                                                </f:facet>
                                                <h:outputText value="#{diagnos.clave}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="width: 600px; font-size: small;" width="600px">
                                                <f:facet name="header" >
                                                    <h:outputText value="Descripción" />
                                                </f:facet>
                                                <h:outputText value="#{diagnos.nombre}" style=" font-size: x-small;" />
                                            </p:column>
                                        </p:autoComplete>
                                    </div>
                                    
                                    <div class="ui-g-12 ui-md-6 ui-lg-2">
                                        <p:outputLabel style="margin-right: 1px;" value="Prob Glucosa: " />
                                        <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.diabetes}" 
                                                                 id="chkDiabetes"
                                                                 disabled="#{!registroSolucionMB.editable}" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-2">
                                        <p:outputLabel style="margin-right: 1px;" value="Prob Renales" />
                                        <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.problemasRenales}" 
                                                                 id="chkProRenales"
                                                                 disabled="#{!registroSolucionMB.editable}" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-2">
                                        <p:outputLabel style="margin-right: 1px;" value="Prob Hipertensión: " />
                                        <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.hipertension}" 
                                                                 id="chkHipertension"
                                                                 disabled="#{!registroSolucionMB.editable}" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-1">
                                        <p:outputLabel style="margin-right: 1px;" value="Padec crónico: "  rendered="false" />
                                        <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.padecimientoCronico}" 
                                                                 id="chkPadeCronico"  rendered="false" />
                                    </div>
                                    
                                </div>
                                
                                <p:outputLabel value="INFORMACIÓN DE LA SOLUCIÓN"  class="plabel ui-g-12" />
                                
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" for="tipoSolucion" value="Tipo Solución: "/>
                                        <p:selectOneMenu id="tipoSolucion" widgetVar="tipoSolucion" style="vertical-align: middle;"
                                                         value="#{registroSolucionMB.idTipoSolucion}" label="Tipo de Solución"
                                                         title="Tipo de Solución" autoWidth="true" 
                                                         required="true" requiredMessage="Seleccione Tipo de Solución"
                                                         disabled="#{!registroSolucionMB.editable}" >
                                            <f:selectItem itemLabel="Seleccione una opción" itemValue="#{null}"/>
                                            <f:selectItems value="#{registroSolucionMB.tipoSolucionList}" var="tipoSol"
                                                           itemLabel="#{tipoSol.clave}" itemValue="#{tipoSol.idTipoSolucion}"/>
                                            <p:ajax event="itemSelect" update="protocolo txtDiagnostico"
                                                    listener="#{registroSolucionMB.seleccionaTiposolucion}">
                                            </p:ajax>
                                        </p:selectOneMenu>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" for="viaAdministracion" value="Vía Administración: "/>
                                        <p:selectOneMenu id="viaAdministracion" style="vertical-align: middle; " 
                                                         value="#{registroSolucionMB.viaAdministracion.idViaAdministracion}"
                                                         label="Vía de Administración" title="Vía de Administración" autoWidth="true" 
                                                         required="true" requiredMessage="Seleccione Vía de Administración" 
                                                         filter="true" filterMatchMode="contains"
                                                         disabled="#{!registroSolucionMB.editable}" >
                                            <f:selectItem itemLabel="Seleccione una opción" itemValue="#{null}"/>
                                            <f:selectItems value="#{registroSolucionMB.viaAdministracionList}" var="via"
                                                           itemLabel="#{via.nombreViaAdministracion}" itemValue="#{via.idViaAdministracion}"/>
                                        </p:selectOneMenu>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel style="margin-right: 1px;" value="Volumen total: *" />
                                            <p:inputText  value="#{registroSolucionMB.surtimientoExtendedSelected.volumenTotal}" 
                                                          size="4" 
                                                          disabled="#{!registroSolucionMB.editable}" >
                                                <p:keyFilter regEx="/[0-9.]/i" />
                                                <p:ajax event="blur" process="@this" update="txtVelocidad2" 
                                                        listener="#{registroSolucionMB.calculaVelocidadPerfusion}"/>
                                            </p:inputText>
                                            <p:outputLabel value=" ml" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" value="Contenedor: *" />
                                        <p:selectOneMenu value="#{registroSolucionMB.surtimientoExtendedSelected.idContenedor}"
                                                         filter="true" filterMatchMode="contains"
                                                         disabled="#{!registroSolucionMB.editable}" >
                                                <f:selectItem itemLabel="Seleccione una opción" itemValue="#{null}"/>
                                                <f:selectItems value="#{registroSolucionMB.envaseList}" var="tipo" itemLabel="#{tipo.descripcion}" itemValue="#{tipo.idEnvaseContenedor}" />
                                            </p:selectOneMenu>
                                    </div>
                                </div>
                                
                                <div class="ui-g-12" >
                                    <ui:remove>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" value="Fecha de Entrega: " for="txtFechaEntregaS" /> 
                                        <p:calendar id="txtFechaEntregaS" 
                                                    value="#{registroSolucionMB.surtimientoExtendedSelected.fechaParaEntregar}"
                                                    rendered="true" requiredMessage="Seleccione fecha de entrega"
                                                    showOn="button" locale="es_MX" navigator="true" pattern="dd/MM/yyyy"
                                                    title="Fecha Programada" 
                                                    pages="1" mask="true" showButtonPanel="true" effect="fade" 
                                                    size="8"
                                                    disabled="#{!registroSolucionMB.editable}" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" value="Hora de Entrega: " for="txtHoraEntregas" /> 
                                        <p:selectOneMenu id="txtHoraEntregas" style="vertical-align: middle;" 
                                                         value="#{registroSolucionMB.surtimientoExtendedSelected.idHorarioParaEntregar}" 
                                                         required="true" requiredMessage="Seleccione hora de entrega"
                                                         label="Hora de Entrega" filter="true" filterMatchMode="contains" 
                                                         title="Hora de Entrega" autoWidth="true"
                                                         disabled="#{!registroSolucionMB.editable}" >
                                            <f:selectItem itemLabel="Seleccione una opción" itemValue="#{null}"/>
                                            <f:selectItems value="#{registroSolucionMB.horarioEntregaLista}" var="horar" 
                                                           itemValue="#{horar.idHorarioEntrega}" itemLabel="#{horar.nombre}" />
                                        </p:selectOneMenu>
                                    </div>
                                    </ui:remove>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;"  value="Perfusión Continua: "/>
                                        <p:selectBooleanCheckbox 
                                                                 value="#{registroSolucionMB.surtimientoExtendedSelected.perfusionContinua}"
                                                                 disabled="#{!registroSolucionMB.editable}" >
                                            <p:ajax update="txtVelocidad2, hrsInfusion" process="@this" 
                                                    listener="#{registroSolucionMB.activaPerfusion}" />
                                        </p:selectBooleanCheckbox>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 5px;" value="Tiempo Infusión: * "/>
                                        <!-- p:inputNumber id="txtHorasInfusion2" maxlength="2" maxValue="99" minValue="0" size="4"
                                                       value="# {registroSolucionMB.surtimientoExtendedSelected.horasInfusion}" 
                                                       disabled="# {!registroSolucionMB.editarHoraInfusion and !registroSolucionMB.editable}">
                                            <p:ajax event="blur" update="txtVelocidad2" 
                                                listener="# {registroSolucionMB.calculaVelocidadPerfusion}" />
                                        </p:inputNumber -->
                                        <!--p:calendar id="dateHorasInfusion2" value="# {registroSolucionMB.surtimientoExtendedSelected.horasInfusion}" pattern="HH:mm" timeOnly="true"
                                                    maxHour="72" maxMinute="59" disabled="# {!registroSolucionMB.editable}"> 
                                                    <p:ajax event="blur" process="@this" update="txtVelocidad2" 
                                                listener="# {registroSolucionMB.calculaVelocidadPerfusion}" />
                                        </p:calendar -->    
                                        <p:inputMask id="hrsInfusion" value="#{registroSolucionMB.surtimientoExtendedSelected.horasInfusion}" mask="999:99"
                                                     disabled="#{!registroSolucionMB.editable}" size="4" >
                                            <p:ajax event="blur"  update="txtVelocidad2"
                                                listener="#{registroSolucionMB.calculaVelocidadPerfusion}" />
                                        </p:inputMask>    
                                        <p:outputLabel value=" hrs" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" for="txtVelocidad2" value="Velocidad: "/>
                                        <p:inputNumber id="txtVelocidad2" value="#{registroSolucionMB.surtimientoExtendedSelected.velocidad}" 
                                                       minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="10" 
                                                       title="Velocidad de Administración" 
                                                       disabled="#{!registroSolucionMB.editable}" />
                                        <p:outputLabel value=" mL/h" />
                                    </div>
                                    <ui:remove>
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel style="margin-right: 1px;" value="Unidad: " 
                                                           rendered="#{registroSolucionMB.validaPrescripcion}" />
                                            <p:outputLabel class="textoNegrita" 
                                                           value="#{registroSolucionMB.surtimientoExtendedSelected.unidadConcentracion}" 
                                                           rendered="#{registroSolucionMB.validaPrescripcion}"/>
                                        </div>
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel style="margin-right: 1px;" for="ritmo" value="Ritmo: "/>
                                            <p:inputNumber id="ritmo" value="#{registroSolucionMB.surtimientoExtendedSelected.ritmo}" minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="10" 
                                                           title="Ritmo de Administración" 
                                                           disabled="#{!registroSolucionMB.surtimientoExtendedSelected.perfusionContinua}"
                                                           />
                                            <p:outputLabel value=" cm³/min" />
                                        </div>
                                    </ui:remove>
                                </div>
                                
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" for="protocolo" value="Protocolo: "/>
                                        <p:selectOneMenu id="protocolo" value="#{registroSolucionMB.claveProtocolo}" label="Protocolo" filter="true" filterMatchMode="contains"
                                                         title="Tipo de Protocolo" autoWidth="true" style="vertical-align: middle;"
                                                         disabled="#{!registroSolucionMB.isOncologica or !registroSolucionMB.editable}">
                                            <!--<f:selectItem itemLabel="Seleccione una opción" itemValue=" # { null}"/>-->
                                            <f:selectItems value="#{registroSolucionMB.listaProtocolos}" var="proto" itemValue="#{proto.claveProtocolo}" itemLabel="#{proto.claveProtocolo}"></f:selectItems>
                                            <p:ajax event="itemSelect" update="formWarning:msjWarning txtDiagnostico"
                                                    listener="#{registroSolucionMB.validaDiagnosticoProtocolo}">
                                            </p:ajax>
                                        </p:selectOneMenu>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-9">
                                        <p:outputLabel style="margin-right: 1px;" for="txtDiagnostico" value="Diagnóstico: "/>
                                        <p:autoComplete id="txtDiagnostico" styleClass="autocomplete-multiple-hiper"
                                                multiple="false" placeholder="Buscar Diagnóstico" 
                                                value="#{registroSolucionMB.diagnosticoSelected}"
                                                completeMethod="#{registroSolucionMB.autocompleteDiagnostico}"
                                                minQueryLength="4" forceSelection="true" size ="80"
                                                var="diagnos" itemLabel="#{diagnos.nombre}" 
                                                itemValue="#{diagnos}" 
                                                converter="musGenericConverter" 
                                                disabled="#{!registroSolucionMB.isOncologica or !registroSolucionMB.editable}">
                                            <p:column style="width: 20px; font-size: small;" width="50px">
                                                <f:facet name="header" >
                                                    <h:outputText value="Clave" />
                                                </f:facet>
                                                <h:outputText value="#{diagnos.clave}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="width: 600px; font-size: small;" width="600px">
                                                <f:facet name="header" >
                                                    <h:outputText value="Descripción" />
                                                </f:facet>
                                                <h:outputText value="#{diagnos.nombre}" style=" font-size: x-small;" />
                                            </p:column>
                                            <p:ajax event="itemSelect" update="formWarning:msjWarning"
                                                listener="#{registroSolucionMB.validaDiagnosticoProtocolo}">
                                            </p:ajax>
                                        </p:autoComplete>
                                    </div>
                                </div>

                                <div class="ui-g-12" style="padding: 10px 5px; background-color: #bfbfbf; margin-right:20px;">
                                    <div style="width: 5%; float:left;">
                                        <p:inputText id="xcantidad"
                                                     value="#{registroSolucionMB.xcantidad}"
                                                     size="3" rendered="false"
                                                     title="Cantidad de medicamentos">
                                            <p:keyFilter regEx="/[0-9-.]/i" />
                                            <p:ajax event="keyup" update="@this" />
                                        </p:inputText>
                                    </div>
                                    <div style="width: 40%; float:left;">
                                        <p:autoComplete id="txtInsumo" 
                                                        value="#{registroSolucionMB.medicamento}" 
                                                        completeMethod="#{registroSolucionMB.autoCompleteMedicamentos}"
                                                        minQueryLength="4" 
                                                        forceSelection="true"
                                                        var="insumo" 
                                                        itemLabel="#{insumo.nombreCorto}" 
                                                        itemValue="#{insumo}" 
                                                        converter="medicamentoExtHashConverter"
                                                        placeholder="Buscar Insumo"
                                                        emptyMessage="No se encontro registro."
                                                        scrollHeight="250"
                                                        size="65"
                                                        disabled="#{!registroSolucionMB.editable}" >
                                            <p:ajax event="itemSelect" process="txtInsumo, lblUnidad" update="txtInsumo, lblUnidad"></p:ajax>
                                            <p:column style="width: 20px; font-size: small;" width="20px">
                                                <f:facet name="header" >
                                                    <h:outputText value="Clave Institucional" />
                                                </f:facet>
                                                <h:outputText value="#{insumo.claveInstitucional}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="width: 350px; font-size: small;" width="350px">
                                                <f:facet name="header" >
                                                    <h:outputText value="Descripción" />
                                                </f:facet>
                                                <h:outputText value="#{insumo.nombreCorto}" style=" font-size: x-small;" />
                                            </p:column>
                                            <p:column style="width: 180px; font-size: small;" width="350px"  rendered="false" >
                                            <f:facet name="header" >
                                                <h:outputText value="Almacén" />
                                            </f:facet>
                                            <h:outputText value="#{insumo.nombreEstructura}" style=" font-size: x-small;" />
                                        </p:column>
                                        <p:column style="width: 120px; font-size: small;" width="350px">
                                            <f:facet name="header" >
                                                <h:outputText value="Cant. Disponible" />
                                            </f:facet>
                                            <h:outputText value="#{insumo.cantidadDisponible}" style=" font-size: x-small;" />
                                        </p:column>
                                        </p:autoComplete>
                                    </div>
                                    <div style="width: 15%; float:left;">
                                        <p:outputLabel for="dosis" >Cant/Dosis:</p:outputLabel>
                                        <p:inputNumber id="dosis"  
                                                       value="#{registroSolucionMB.dosis}" 
                                                       minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" 
                                                       size="6" title="Dosis"
                                                       disabled="#{!registroSolucionMB.editable}" />
                                        <p:outputLabel id="lblUnidad">#{registroSolucionMB.medicamento.nombreUnidadConcentracion}</p:outputLabel>
                                    </div>
                                    <div style="width: 20%; float:left;">
                                        <p:outputLabel for="frecuencia" >Frecuencia:</p:outputLabel>
                                        <p:selectOneMenu id="frecuencia" value="#{registroSolucionMB.frecuencia}" 
                                                         label="Frecuencia" filter="true" filterMatchMode="contains"
                                                         title="Frecuencia" autoWidth="true" style="vertical-align: middle;"
                                                         disabled="#{!registroSolucionMB.editable}" >
                                            <f:selectItem itemLabel="Seleccione Frecuencia" itemValue="#{null}"/>
                                            <f:selectItems value="#{registroSolucionMB.listaFrecuencias}" var="frec" itemValue="#{frec.frecuencia}" itemLabel="#{frec.nombre} - #{frec.frecuencia} hr(s)"></f:selectItems>
                                        </p:selectOneMenu>
                                    </div>
                                    <div style="width: 13%; float:left;">
                                        <p:outputLabel for="duracion" >Duración:</p:outputLabel>
                                        <p:inputNumber id="duracion" 
                                                       value="#{registroSolucionMB.duracion}" 
                                                       minValue="0" maxValue="90" decimalPlaces="0" size="4" title="Duración"
                                                       disabled="#{!registroSolucionMB.editable}" />
                                    </div>
                                    <div style="width: 7%; float: right;">
                                        <p:commandButton value="Agregar"
                                                         style="float: right;"
                                                         actionListener="#{registroSolucionMB.agregarMedicamento}"
                                                         update="msgValidaEdicion, txtInsumo, dosis, frecuencia, duracion, tblInsumos"
                                                         rendered="#{registroSolucionMB.editable}"
                                                         styleClass="btnMusAzul" />
                                    </div>
                                </div>
                                
                                <div class="ui-g-12" >
                                    <p:dataTable id="tblInsumos"
                                                 widgetVar="tblInsumos" 
                                                 value="#{registroSolucionMB.surtimientoInsumoExtendedList}"                                   
                                                 var="item"
                                                 rowIndexVar="row"
                                                 style="margin-top:0px; margin-bottom:5px; width:98%;"
                                                 styleClass="mystyle"
                                                 scrollable="true" scrollHeight="120"
                                                 emptyMessage="No hay insumos capturados"
                                                 reflow="true"
                                                 paginator="false"
                                                 rows="0"
                                                 disabledSelection="true">
                                        <p:column style="text-align: left; width: 10% "
                                                  sortBy="#{item.claveInstitucional}" >
                                            <f:facet name="header" >
                                                <h:outputText value="Clave" />
                                            </f:facet>
                                            <h:outputText value="#{item.claveInstitucional}" class="textoNegrita" />
                                        </p:column>
                                        <p:column  style="text-align: left; width: 60% "
                                                   sortBy="#{item.nombreCorto}" >
                                            <f:facet name="header" >
                                                <h:outputText value="Insumo" />
                                            </f:facet>
                                            <h:outputText value="#{item.nombreCorto}" />
                                        </p:column>
                                        <p:column  style="text-align: left; width: 10% ">
                                            <f:facet name="header" >
                                                <h:outputText value="Dosis" />
                                            </f:facet>
                                            <h:outputText value="#{item.dosis} #{item.unidadConcentracion}" />
                                        </p:column>
                                        <p:column style="text-align: left; width: 6% " >
                                            <f:facet name="header" >
                                                <h:outputText value="Frecuencia" />
                                            </f:facet>
                                            <h:outputText value="#{item.frecuencia}" />
                                        </p:column>
                                        <p:column style="text-align: left; width: 5% " >
                                            <f:facet name="header" >
                                                <h:outputText value="Duración" />
                                            </f:facet>
                                            <h:outputText value="#{item.duracion}" />
                                        </p:column>
                                        <p:column style="text-align: left; width: 5% " >
                                            <f:facet name="header" >
                                                <h:outputText value="Cant Req" />
                                            </f:facet>
                                            <h:outputText value="#{item.cantidadSolicitada}" class="textoNegrita" />
                                        </p:column>
                                        <p:column  style="text-align: left; width: 4% "
                                                   rendered="#{registroSolucionMB.editable}" >
                                            <f:facet name="header">
                                                <h:outputText value="Eliminar" />
                                            </f:facet>
                                            <p:commandLink title="Eliminar" onclick="PF('statusProcess').show()"
                                                           oncomplete="PF('statusProcess').hide();"
                                                           actionListener="#{registroSolucionMB.eliminaInsumoDeLista(item)}"
                                                           update="formEditarOrden:tblInsumos  ">
                                                <i class="fa fa-trash iconMusRojo" />
                                            </p:commandLink>
                                        </p:column>
                                    </p:dataTable>
                                </div>
                                <br/>
                                
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <p:outputLabel style="margin-right: 1px; font-weight: bold;" 
                                                       value="Instrucciones de Preparación: " 
                                                       rendered="#{registroSolucionMB.validaPrescripcion}" />
                                        <br/>
                                        <p:inputTextarea id="txtInstruccionesPrep" rows="4" cols="80" 
                                                         value="#{registroSolucionMB.surtimientoExtendedSelected.instruccionPreparacion}" 
                                                         rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-6">
                                        <p:outputLabel style="margin-right: 1px; font-weight: bold;" 
                                                       value="Observaciones: " 
                                                       rendered="#{registroSolucionMB.validaPrescripcion}" />
                                        <br/>
                                        <p:inputTextarea id="txtCondicionesConser" rows="4" cols="80" 
                                                         value="#{registroSolucionMB.surtimientoExtendedSelected.observaciones}" 
                                                         rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    </div>
                                </div>
                                
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-9">
                                        <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.tempRefrigeracion}" itemLabel="Temp. Refrigeración" rendered="#{registroSolucionMB.validaPrescripcion}" />
                                        <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.tempAmbiente}" itemLabel="Temp. Ambiente" rendered="#{registroSolucionMB.validaPrescripcion}" />
                                        <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.proteccionLuz}" itemLabel="Protección de Luz" rendered="#{registroSolucionMB.validaPrescripcion}" />
                                        <p:selectBooleanCheckbox value="#{registroSolucionMB.surtimientoExtendedSelected.noAgitar}" itemLabel="No agitar" rendered="#{registroSolucionMB.validaPrescripcion}" />
                                    </div>
                                </div>
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-12">
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel value="Motivo Rechazo: " 
                                                       rendered="#{registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 4 or registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 6}" />
                                        <p:outputLabel value="#{registroSolucionMB.surtimientoExtendedSelected.comentariosRechazo}" 
                                                       style="margin-right: 1px; font-weight: bold;"
                                                       rendered="#{registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 4 or registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 6}" />
                                        </div>
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel value="Horario de Rechazo: " 
                                                       rendered="#{registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 4 or registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 6}" />
                                        <p:outputLabel value="#{registroSolucionMB.surtimientoExtendedSelected.fechaRechazo}" 
                                                       style="margin-right: 1px; font-weight: bold;"
                                                       rendered="#{registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 4 or registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 6}" >
                                            <f:convertDateTime pattern="yyyy-MM-dd HH:mm" />
                                        </p:outputLabel>
                                        </div>
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel value="Usuario Rechaza: " 
                                                       rendered="#{registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 4 or registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 6}" />
                                        <p:outputLabel value="#{registroSolucionMB.surtimientoExtendedSelected.usuarioRechazo}" 
                                                       style="margin-right: 1px; font-weight: bold;"
                                                       rendered="#{registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 4 or registroSolucionMB.surtimientoExtendedSelected.idEstatusSolucion eq 6}" />
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="ui-g-12" style=" width: 100% !important; /*position: absolute; bottom: 0px;*/ background-color: #f8f8f8; border-top: solid 2px #C8C8C8;  " >
                                    <div class="ui-g-12 ui-md-6 ui-lg-4" style="display: flex; align-content: center; justify-content: space-between; float: right;" >
                                        <div >
                                            <p:commandButton value="Cerrar" immediate="true"
                                                     styleClass="btnMusBoolGris"  
                                                     onclick="PF('modalEditarOrden').hide();"
                                                     style="margin-right: 1px; float: right;" />
                                        </div>
                                        <div >
                                            <p:commandButton value="Cancelar" styleClass="btnMusRed" icon="fa fa-times-circle" 
                                                         style="margin-right: 1px; float: right;"
                                                         onclick="PF('statusProcess').show();"
                                                         actionListener="#{registroSolucionMB.validaCancelacion}"
                                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaCancelacion').show(); } else {PF('modalEditarOrden').content.scrollTop('0') }"
                                                         update=":frmCofirmaCancelacion, :formEditarOrden:msgValidaEdicion"
                                                         rendered="#{registroSolucionMB.cancelable}" />
                                        </div>
                                        <div >
                                            <p:commandButton value="Guardar" styleClass="btnMusAzul" icon="fa fa-check-circle" 
                                                         style="margin-right: 1px;float: right;"
                                                         onclick="PF('statusProcess').show()"
                                                         actionListener="#{registroSolucionMB.validarNuevaOrden}" 
                                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaConfirmModifica').show(); } else { PF('modalEditarOrden').content.scrollTop('0') } "
                                                         update=":mainForm:tblSurtimientos, :formEditarOrden:msgValidaEdicion , :frmCofirmaConfirmModifica"
                                                         rendered="#{registroSolucionMB.editable}"/> 
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                        <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                    </p:confirmDialog>
                        </h:form>
                </p:dialog>
                
                <p:dialog header="CONFIRMACIÓN"
                          widgetVar="dlgCofirmaConfirmModifica"
                          closeOnEscape="true"
                          closable="true"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important; " >
                    <h:form id="frmCofirmaConfirmModifica" >
                        <p:messages id="msgCofirmaConfirmModifica" globalOnly="false" showDetail="false" closable="true" />
                        <br/>
                        <p:outputLabel value="Desea modificar la Prescripción y solicitar la mezcla ?"
                                       style="font-weight: bold;"
                                       rendered="#{!registroSolucionMB.validaPrescripcion}" />
                        <p:outputLabel value="Desea modificar la orden de mezcla ?" 
                                       style="font-weight: bold;"
                                       rendered="#{registroSolucionMB.validaPrescripcion}" />
                        <br/>
                        <br/>
                        <p:commandButton id="btnConfirmModifica" value="Si" styleClass="btnMusAzul" 
                                         style="margin-right: 1px; float: right;"
                                         onclick="PF('statusProcess').show();"
                                         actionListener="#{registroSolucionMB.modificarOrden}" 
                                         oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaConfirmModifica').hide(); PF('modalEditarOrden').hide(); } "
                                         update=":mainForm, :frmCofirmaConfirmModifica " />
                        
                        <p:commandButton title="No" value="No" styleClass="btnMusBoolGris" 
                                         style="margin-right: 1px; float: right;"
                                         update=":frmCofirmaConfirmRegistro"
                                         oncomplete="PF('dlgCofirmaConfirmModifica').hide();" />
                    </h:form>
                </p:dialog>

                <p:dialog header="AGREGAR PACIENTE"
                          widgetVar="modalAgregarPaciente"
                          closeOnEscape="true"
                          closable="true"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          width="500px" 
                          style="font-size:xx-small !important; " >
                    <h:form id="formAgregarPaciente" >
                        <p:messages id="msgModalAddUsuario" globalOnly="false" showDetail="false" closable="true" />
                        <p:panelGrid columns="2" >
                            
                            <p:outputLabel value="Tipo de paciente : " rendered="false" />
                            <p:selectOneMenu id="tipoPaciente" style="width: 152px;" rendered="false" 
                                             value="#{registroSolucionMB.paciente.idTipoPaciente}" >
                                <f:selectItems value="#{registroSolucionMB.listaTipoPacientes}"
                                               var="tipoPaciente" itemValue="#{tipoPaciente.idCatalogoGeneral}"
                                               itemLabel="#{tipoPaciente.nombreCatalogo}"/>
                            </p:selectOneMenu>
                            
                            <p:outputLabel value="#{msg['pac.numPac']} : *" for="txtPacClavePaciente" />
                            <p:inputText id="txtPacClavePaciente" value="#{registroSolucionMB.paciente.pacienteNumero}"
                                         placeholder="Clave o número de paciente" maxlength="20"
                                         onkeyup="this.value = this.value.toUpperCase();" />
                           
                            <p:outputLabel value="Nombre : *" for="txtPacNombrePaciente" />
                            <p:inputText id="txtPacNombrePaciente" value="#{registroSolucionMB.paciente.nombreCompleto}"
                                         placeholder="Nombre(s) de paciente" maxlength="45" />
                            
                            <p:outputLabel value="Apellido Paterno : *" for="txtPacApePatPaciente" />
                            <p:inputText id="txtPacApePatPaciente" value="#{registroSolucionMB.paciente.apellidoPaterno}" 
                                         placeholder="Apellido paterno" maxlength="45" />
                            
                            <p:outputLabel value="Apellido Materno : " for="txtPacApeMatPaciente" />
                            <p:inputText id="txtPacApeMatPaciente" value="#{registroSolucionMB.paciente.apellidoMaterno}" 
                                         placeholder="Apellido materno" maxlength="45" />
                            
                            <p:outputLabel value="Sexo : *" for="txtPacSexoPaciente" />
                            <p:selectOneButton id="txtPacSexoPaciente" value="#{registroSolucionMB.paciente.sexo}">
                                <f:selectItem itemLabel="Masculino" itemValue="M" />
                                <f:selectItem itemLabel="Femenino" itemValue="F" />
                            </p:selectOneButton>
                            
                            <p:outputLabel value="Fecha Nacimiento : *" for="txtFechaInicio" />
                            <p:calendar id="txtFechaInicio" showOn="button" navigator="true" yearRange="c-100:c" pages="1" 
                                        value="#{registroSolucionMB.paciente.fechaNacimiento}" maxdate="#{registroSolucionMB.fechaActual}"
                                        mask="true" pattern="dd/MM/yyyy" locale="es_MX" placeholder="dd/MM/yyyy"  />
                            <p:selectCheckboxMenu id="turno" label="Turnos" rendered="false"
                                                  value="#{registroSolucionMB.listaIdTurnos}" >
                                <f:selectItems value="#{registroSolucionMB.listaTurnos}" rendered="false"
                                               var="turno" itemValue="#{turno.idTurno.toString()}" itemLabel="#{turno.nombre}" />
                            </p:selectCheckboxMenu>
                            
                            <p:outputLabel value="CURP : " for="txtPacCurp" />
                            <p:inputText id="txtPacCurp" value="#{registroSolucionMB.paciente.curp}" 
                                         placeholder="CURP" maxlength="18"
                                         onkeyup="this.value = this.value.toUpperCase();" />
                            
                            <p:outputLabel value="RFC : " for="txtPacRfc" />
                            <p:inputText id="txtPacRfc" value="#{registroSolucionMB.paciente.rfc}" 
                                         placeholder="RFC" maxlength="13" 
                                         onkeyup="this.value = this.value.toUpperCase();" />
                            
                            <p:outputLabel value="Lugar Nacimiento : " for="txtPacLugarNac" />
                            <p:inputText id="txtPacLugarNac" value="#{registroSolucionMB.paciente.lugarNacimiento}" 
                                         placeholder="Lugar de Nacimiento" maxlength="45" />
                            
                            <p:outputLabel value="País de Residencia : " for="txtPacPaisRes" />
                            <p:inputText id="txtPacPaisRes" value="#{registroSolucionMB.paciente.paisResidencia}" 
                                         placeholder="Pais de Residencia" maxlength="45" />
                            
                          <p:outputLabel value="Presenta Discapacidad : " for="txtPacPresDisc" />
                          <p:inputText id="txtPacPresDisc" value="#{registroSolucionMB.paciente.descripcionDiscapacidad}" 
                                       placeholder="Descripción Discapacidad" maxlength="45" />
                            
                        </p:panelGrid>
                        <br/>
                        <p:commandButton value="Agregar" title="Guardar paciente" styleClass="btnMusAzul" style="float: right;"
                                         onclick="PF('statusProcess').show();"
                                         actionListener="#{registroSolucionMB.agregarPaciente}"
                                         oncomplete="PF('statusProcess').hide(); if(!args.error) {PF('modalAgregarPaciente').hide()};"
                                         update=":formNuevaOrden:msgValidaRegistro , :formAgregarPaciente:msgModalAddUsuario" >
                        </p:commandButton>
                        <p:commandButton title="Cancelar" value="Cancelar" oncomplete="PF('modalAgregarPaciente').hide();"  style="float: right;"/>
                    </h:form>
                </p:dialog>

                <p:dialog header="AGREGAR MÉDICO"
                          widgetVar="modalAgregarMedico"
                          closeOnEscape="true"
                          closable="true"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important; " >
                    <h:form id="formAgregarMedico" >
                        <p:messages id="msgModalAddMedico" globalOnly="false" showDetail="false" closable="true" />
                        <p:panelGrid columns="2" >
                            <p:outputLabel value="Nombre" for="txtNombre" />
                            <p:inputText id="txtNombre" placeholder="Nombre" maxlength="30"
                                         required="true"  requiredMessage="Nombre de Médico requerido" 
                                         value="#{registroSolucionMB.medicoExtended.nombre}"  />
                            <p:outputLabel value="Apellido Paterno" for="txtNombrePaterno" />
                            <p:inputText id="txtNombrePaterno" placeholder="Apellido Paterno"  maxlength="30"
                                         required="true"  requiredMessage="Apellido de Médico requerido" 
                                         value="#{registroSolucionMB.medicoExtended.apellidoPaterno}" />
                            <p:outputLabel value="Apellido Materno" />
                            <p:inputText id="txtApellidoMaterno" placeholder="Apellido Materno" maxlength="30"
                                         value="#{registroSolucionMB.medicoExtended.apellidoMaterno}" />
                            <p:outputLabel value="Cedula Profesional: " for="cedProf" />
                            <p:inputText id="cedProf" placeholder="Cédula Profesional"  maxlength="15" 
                                         value="#{registroSolucionMB.medicoExtended.cedProfesional}"
                                         required="true" requiredMessage="La cédula profesional es requerida" />
                            <p:outputLabel value="Cedula Especialidad: " />
                            <p:inputText id="cedEsp" placeholder="Cédula de especialidad"  maxlength="15" 
                                         value="#{registroSolucionMB.medicoExtended.cedEspecialidad}"/>
                            <p:outputLabel value="Turnos: " rendered="false" />
                            <p:selectCheckboxMenu id="turnoMedico" class="sOneMenu" rendered="false"
                                                  value="#{registroSolucionMB.listaIdTurnos}" >
                                <f:selectItems value="#{registroSolucionMB.listaTurnos}"
                                               var="turno" itemValue="#{turno.idTurno.toString()}" itemLabel="#{turno.nombre}"/>
                            </p:selectCheckboxMenu>
                        </p:panelGrid>
                        <br/>
                        <p:commandButton id="btnSave1" value="Guardar" styleClass="btnMusAzul" style="float: right;"
                                         actionListener="#{registroSolucionMB.agregarMedicos}" 
                                         onclick="PF('statusProcess').show();"
                                         oncomplete="PF('statusProcess').hide();if(!args.errorModalMedicos){PF('modalAgregarMedico').hide();}"
                                         update=":formNuevaOrden:msgValidaRegistro msgModalAddMedico" />
                        <p:commandButton title="Cancelar" value="Cancelar" oncomplete="PF('modalAgregarMedico').hide();" style="float: right;"/>
                    </h:form>
                </p:dialog>

                <p:dialog header="CONFIRMACIÓN"
                          widgetVar="dlgCofirmaCancelacion"
                          closeOnEscape="true"
                          closable="true"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important; " >
                    <h:form id="frmCofirmaCancelacion" >
                        <p:messages id="msgCofirmaCancelacion" globalOnly="false" showDetail="false" closable="true" />
                        <div class="ui-g">
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-6">
                                    <p:outputLabel value="Desea cancelar la mezcla ?" style="font-weight: bold;" />
                                </div>
                            </div>
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel value="Motivo: " for="txtMotivo" rendered="false" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-9">
                                    <p:selectOneMenu id="txtMotivo" class="sOneMenu" value="#{registroSolucionMB.solucion.idMotivoCancelacion}"
                                                  filter="true" filterMatchMode="contains" filterPlaceholder="Seleccione motivo"
                                                  required="true" requiredMessage="Seleccione motivo" immediate="true"
                                                  rendered="false" >
                                        <f:selectItem itemValue="#{0}" itemLabel="Seleccione una opción"  />
                                        <f:selectItem itemValue="#{1}" itemLabel="Alta de paciente"/>
                                        <f:selectItem itemValue="#{2}" itemLabel="Cambio de Tratamiento"/>
                                        <f:selectItem itemValue="#{3}" itemLabel="Diagnóstico de alta"/>
                                        <f:selectItem itemValue="#{4}" itemLabel="Egreso de paciente"/>
                                        <f:selectItem itemValue="#{5}" itemLabel="Error en prescripción"/>
                                        <f:selectItem itemValue="#{6}" itemLabel="Sospecha de evento Adverso"/>
                                    </p:selectOneMenu>
                                </div>
                            </div>
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-2">
                                    <p:outputLabel value="Comentarios: " for="txtComentariosCancela" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-9">
                                    <p:inputText id="txtComentariosCancela" maxlength="99" size="40" placeholder="" 
                                                 required="true" requiredMessage="Registre motivo de cancelación" 
                                                 value="#{registroSolucionMB.solucion.comentariosCancelacion}" />
                                </div>
                            </div>
                        </div>
                        <br/>
                        <div class="ui-g-12" style=" width: 100% !important; /*position: absolute; bottom: 0px;*/ background-color: #f8f8f8; border-top: solid 2px #C8C8C8;  " >
                            <div class="ui-g-12 ui-md-6 ui-lg-4" style="display: flex; align-content: center; justify-content: space-between; float: right;" >
                                <div>
                                    <p:commandButton title="No" value="No" 
                                                     styleClass="btnMusBoolGris" style="margin-right: 1px; float: right;"
                                                     oncomplete="PF('dlgCofirmaCancelacion').hide();" />
                                </div>
                                <div >
                                    <p:commandButton id="btnConfirmCancela" value="Si" 
                                                     styleClass="btnMusRed" style="margin-right: 1px; float: right;"
                                                     onclick="PF('statusProcess').show();"
                                                     actionListener="#{registroSolucionMB.ejecutaCancelacion}" 
                                                     oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaCancelacion').hide(); PF('modalEditarOrden').hide(); } "
                                                     update=":mainForm, :formNuevaOrden, :frmCofirmaCancelacion" />
                                </div>
                            </div>
                        </div>
                    </h:form>
                </p:dialog>
                
                <p:dialog widgetVar="mdlReport" width="1200px" height="800px"
                          closeOnEscape="true" modal="true"                          
                          style="font-size:xx-small !important;" >
                    <h:form id="formPDF">
                        <p:media value="/Reportes" player="pdf" width="1200px" height="800px" cache="false" />
                    </h:form>
                    <p:ajax event="close" listener="#{sesionMB.freeBytesFromSession()}"/>
                </p:dialog>
                
            </ui:define>
        </ui:composition>
    </h:body>

</html>
