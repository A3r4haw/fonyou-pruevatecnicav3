<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"    
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions">

    <h:body>
        <ui:composition template="../template/mainLayout.xhtml">
            <ui:define name="content">
                <div class="mainPanelAmplio" >
                    <h:form id="mainForm">
                        <p:messages id="validaMsg" class="validaMsg" globalOnly="true" closable="true" rendered="#{!validacionSolucionMB.msjMdlSurtimiento}" >
                            <p:autoUpdate />
                        </p:messages>
                        <p:messages id="validaMsg2" class="validaMsg" globalOnly="true" closable="true" rendered="#{validacionSolucionMB.msjMdlSurtimiento}" >
                            <p:autoUpdate />
                        </p:messages>
                        <p:focus context="mainForm"/>

                        <div id="busqueda" style="height: 30px !important;">
                            <p:outputLabel value="Validación de Órdenes de Mezcla"  style="color: #FFFFFF;font-size: 18px !important;font-weight: bold;margin-right: 50px;" />
                            <p:selectCheckboxMenu id="menu" value="#{validacionSolucionMB.tipoPrescripcionSelectedList}" label="Tipo" title="Filtro por tipo de Prescripción"
                                                  filter="true" filterMatchMode="startsWith" panelStyle="width:110px" style="width: 110px;">
                                <f:selectItem value="#{N}" itemLabel="Normal" itemValue="N" />
                                <f:selectItem value="#{U}" itemLabel="Urgente" itemValue="U" />
                                <f:selectItem value="#{D}" itemLabel="Dosis Única" itemValue="D" />
                            </p:selectCheckboxMenu>
                            <p:spacer width="10px;" />
                            <p:inputText id="busqueda" 
                                         value="#{validacionSolucionMB.cadenaBusqueda}" 
                                         class="textSearch"
                                         style="width: 40% !important;" 
                                         placeholder="Buscar..." title="Buscar por Número de Cama, Paciente o Servicio" />
                            <i class="fa fa-search" aria-hidden="true" style="position:absolute;  text-indent: 5px; margin-top: 3px; margin-left: -25px; color: #AAAAAA; font-size: 0.9em;" />                    
                            <p:spacer width="12px" />
                            <p:commandButton title="Buscar" value="Buscar" icon="ui-icon-search" 
                                             onclick="PF('statusProcess').show();"
                                             oncomplete="PF('statusProcess').hide(); if(args.modal){PF(':formSurtimientoDetail').show();}"
                                             actionListener="#{validacionSolucionMB.obtenerSurtimientos}"
                                             update="@form"  />
                        </div>

                        <p:toolbar rendered="false">
                            <p:toolbarGroup id="toolbar"  >
                                <p:commandButton id="btnModificar" value="Modificar"
                                                 title="Modificar Rol" icon="ui-icon-pencil"
                                                 onclick="PF('statusProcess').show()"
                                                 oncomplete="PF('statusProcess').hide(); PF('modalSurtimiento').show();"

                                                 update=":formSurtimientoDetail"
                                                 disabled="#{!validacionSolucionMB.permiso.puedeEditar or !validacionSolucionMB.elementoSeleccionado}"
                                                 rendered="false" />

                                <p:commandButton id="btnCancelar" value="Cancelar"
                                                 title="Cancelar Surtimiento Prescripción" icon="ui-icon-trash" 
                                                 update="@form"
                                                 disabled="#{!validacionSolucionMB.permiso.puedeEliminar or !validacionSolucionMB.elementoSeleccionado}"
                                                 rendered="false" />

                            </p:toolbarGroup>
                        </p:toolbar>
 
                        <p:tabView>
                            <p:ajax event="tabChange" process="@this" update="mainForm:tblSurtimientos" listener="#{validacionSolucionMB.onTabChange}"/>
                            <p:tab title="PROGRAMADAS" id="#{validacionSolucionMB.programada}" ></p:tab>
                            <p:tab title="VALIDADAS" id="#{validacionSolucionMB.validada}" ></p:tab>
                            <p:tab title="RECHAZADAS" id="#{validacionSolucionMB.rechazada}" ></p:tab>
                        </p:tabView>
                        <p:panel id="dataTable" style="margin:-28px 0px;">
                            <p:dataTable id="tblSurtimientos"
                                         widgetVar="tblSurtimientos"
                                         value="#{validacionSolucionMB.dispensacionSolucionLazy}"
                                         lazy="true"
                                         selection="#{validacionSolucionMB.surtimientoExtendedSelected}"
                                         var="item" 
                                         rowKey="#{item.idSurtimiento}"
                                         rowIndexVar="row"
                                         selectionMode="single"
                                         style="margin-bottom:5px;"
                                         styleClass="mystyle"
                                         scrollRows="10" scrollable="true" scrollHeight="350"
                                         emptyMessage="No se encontraron Registros"
                                         reflow="true"
                                         paginatorTemplate=" {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
                                         currentPageReportTemplate=" "
                                         paginator="true"
                                         rows="10"
                                         paginatorPosition="bottom"                                         
                                         rowStyleClass="#{item.tipoPrescripcion eq 'U' ? 'urgente' : item.tipoPrescripcion eq 'D' ? 'unica': null}" >
                                
                                <p:ajax event="rowDblselect" listener="#{validacionSolucionMB.verSurtimiento}" update=":formSurtimientoDetail"
                                        onstart="PF('statusProcess').show()"
                                        oncomplete="PF('statusProcess').hide(); PF('modalSurtimiento').show();" />

                                <f:facet name="{Exporters}">
                                    <div style="float:right">
                                        <h:commandLink >
                                            <img src="#{request.contextPath}/resources/img/btnxls.png" style="height: 25px !important; margin-left: 5px !important;" title="Exportar" />
                                            <p:dataExporter type="xls" target="tblSurtimientos" fileName="prescripcionesPorSurtir" />
                                        </h:commandLink>
                                    </div>
                                </f:facet>

                                <p:column style="text-align: left; width: 6% "
                                          sortBy="#{item.tipoPrescripcion}" exportable="false"
                                          filterBy="#{item.tipoPrescripcion}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Tipo" />
                                    </f:facet>
                                    <p:outputPanel rendered="#{item.tipoPrescripcion eq 'N'}" >
                                        <img src="#{request.contextPath}/resources/img/cpnormal.png" style="height: 15px !important; margin-left: 0px !important;" />
                                        <p:spacer width="8px"/>
                                        <h:outputText value="Normal"/>
                                    </p:outputPanel>
                                    <p:outputPanel rendered="#{item.tipoPrescripcion eq 'U'}" >
                                        <img src="#{request.contextPath}/resources/img/cpurgente.png" style="height: 15px !important; margin-left: 0px !important;" />
                                        <p:spacer width="8px"/>
                                        <h:outputText value="Urgente"/>
                                    </p:outputPanel>
                                    <p:outputPanel rendered="#{item.tipoPrescripcion eq 'D'}" >
                                        <img src="#{request.contextPath}/resources/img/cpunica.png" style="height: 15px !important; margin-left: 0px !important;" />
                                        <p:spacer width="8px"/>
                                        <h:outputText value="Dosis Única"/>
                                    </p:outputPanel>
                                </p:column>

                                <p:column style="text-align: left; width: 6% "
                                          sortBy="#{item.tipoSolucion}" 
                                          filterBy="#{item.tipoSolucion}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Solución" />
                                    </f:facet>
                                    <h:outputText value="#{item.tipoSolucion}" />
                                </p:column>
                                
                                <p:column style="text-align: left; width: 10% "
                                          sortBy="#{item.fechaProgramada}" 
                                          filterBy="#{item.fechaProgramada}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Fecha Program." />
                                    </f:facet>
                                    <h:outputText value="#{item.fechaProgramada}"
                                                  styleClass="#{item.prioridad eq 'Alta' ? 'prioridadAlta' : item.prioridad eq 'Media' ? 'prioridadMedia' : item.prioridad eq 'Baja' ? 'prioridadBaja' : null}" >
                                        <f:convertDateTime pattern="yyyy-MM-dd HH:mm" />
                                    </h:outputText>
                                </p:column>
                                
                                <p:column style="text-align: left; width: 10% "
                                          sortBy="#{item.folio}" filterBy="#{item.folio}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Folio" />
                                    </f:facet>
                                    <h:outputText value="#{item.folio}" />
                                </p:column>

                                <p:column style="text-align: left; width: 12% " 
                                          sortBy="#{item.nombrePaciente}" filterBy="#{item.nombrePaciente}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Paciente" />
                                    </f:facet>
                                    <h:outputText value="#{item.nombrePaciente}" />
                                </p:column>
                                
                                <p:column style="text-align: left; width: 14% " 
                                           filterBy="#{item.descripcion}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Descripción Mezcla" />
                                    </f:facet>
                                    <h:outputText value="#{item.descripcion}" />
                                </p:column>

                                <p:column style="text-align: left; width: 10% " 
                                          sortBy="#{item.nombreEstructura}" filterBy="#{item.nombreEstructura}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Servicio" />
                                    </f:facet>
                                    <h:outputText title="#{item.nombreEstructura}" value="#{item.nombreEstructura}"  class="limitCarater"/>
                                </p:column>

                                <p:column style="text-align: left; width: 8% "
                                          sortBy="#{item.cama}" filterBy="#{item.cama}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Ubicación" />
                                    </f:facet>
                                    <h:outputText value="#{item.cama}" />
                                </p:column>

                                <p:column style="text-align: left; width: 10% " 
                                          sortBy="#{item.nombreMedico}" 
                                          filterBy="#{item.nombreMedico}" filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Médico" />
                                    </f:facet>
                                    
                                    <h:outputText value="#{item.nombreMedico}"  title="#{item.nombreEstructura}" class="limitCarater" />
                                </p:column>
                                
                                <p:column style="text-align: left; width: 10% " 
                                          sortBy="#{item.estatusSolucion}" 
                                          filterBy="#{item.estatusSolucion}"  filterMatchMode="contains" >
                                    <f:facet name="header" >
                                        <h:outputText value="Estatus" />
                                    </f:facet>
                                    <h:outputText value="#{item.estatusSolucion}" />
                                </p:column>
                                
                                <p:column style="width: 4%;" >
                                    <f:facet name="header" >
                                        <h:outputText value="Acciones"  />
                                    </f:facet>
                                    <p:commandLink id="linkImprimir" onclick="PF('statusProcess').show();"
                                                   oncomplete="PF('statusProcess').hide();if(args.estatus) {PF('mdlReport').show();}"
                                                   actionListener="#{validacionSolucionMB.previewPrint(item)}"
                                                   update="formPDF"
                                                   styleClass="iconMusAzul" >
                                        <i class="fa fa-print" style="font-size: large" />
                                    </p:commandLink>
                                </p:column>

                            </p:dataTable>

                            <p:contextMenu for="tblSurtimientos">
                                <p:menuitem id="btnModificarContext" value="Ver / Modificar"
                                            onclick="PF('statusProcess').show()"
                                            oncomplete="PF('statusProcess').hide(); PF('modalSurtimiento').show();"
                                            actionListener="#{validacionSolucionMB.verSurtimiento}"
                                            update=":formSurtimientoDetail"
                                            icon="ui-icon-pencil"
                                            disabled="#{!validacionSolucionMB.permiso.puedeEditar}" />
                                <p:menuitem id="linkImpresion" value="Imprimir"
                                            onclick="PF('statusProcess').show()"
                                            oncomplete="PF('statusProcess').hide(); PF('mdlReport').show(); "
                                            actionListener="${validacionSolucionMB.imprimir}" 
                                            update=":formPDF"
                                            icon="fa fa-print"
                                            style="margin: 3px;text-decoration: none; " />
                            </p:contextMenu>
                        </p:panel>

                    </h:form>
                </div>

                <p:dialog header="VALIDAR ORDEN DE MEZCLA"
                          widgetVar="modalSurtimiento"
                          closeOnEscape="true"
                          closable="true"
                          width="95%"
                          height="650px" 
                          position="30,10"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important; " >
                    <!--<p:scrollPanel mode="native" style="max-height: 650px">-->
                        <h:form id="formSurtimientoDetail"  >                        
                            <p:messages id="msgValidaRegistro" showDetail="false" globalOnly="false" closable="true"  rendered="#{validacionSolucionMB.msjMdlSurtimiento}">
                                <p:autoUpdate />
                            </p:messages>
                            <div class="ui-g" style="margin:0px; padding:0px; " >
                                <div class="ui-g-12" >
                                    <div style="width:33%; float:left;">
                                        <p:outputLabel style="margin-right: 5px;">Folio Surtimiento:</p:outputLabel>
                                        <p:outputLabel class="textoNegrita" style="margin-right: 10px;" value="#{validacionSolucionMB.surtimientoExtendedSelected.folio}" />
                                    </div>
                                    <div style="width:33%; float:left;">
                                        <p:outputLabel style="margin-right: 5px;">Fecha Programada</p:outputLabel>
                                        <p:outputLabel  class="textoNegrita" style="margin-right: 10px;" value="#{validacionSolucionMB.surtimientoExtendedSelected.fechaProgramada}">
                                            <f:convertDateTime type="date" pattern="dd/MM/yyyy HH:mm" />
                                            
                                        </p:outputLabel>
                                    </div>
                                    <div style="width:33%; float:left;">
                                        <p:outputLabel style="margin-right: 5px;">Estatus:</p:outputLabel>
                                        <p:outputLabel id="estatusSurtimiento" value="#{validacionSolucionMB.surtimientoExtendedSelected.estatusSolucion}" title="Estatus del Surtimiento"></p:outputLabel>
                                    </div>
                                </div>

                                <div class="ui-g-12" >
                                    <div style="width:33%; float:left;">
                                        <p:outputLabel style="margin-right: 10px;">Folio Prescripción:</p:outputLabel>
                                        <p:outputLabel style="margin-right: 10px;" value="#{validacionSolucionMB.surtimientoExtendedSelected.folioPrescripcion}"
                                                       class="textoNegrita lbl-subtitulo" />
                                        <p:outputLabel class="lbl-Tipo-PrescripcionNormal" value="Normal" rendered="#{validacionSolucionMB.surtimientoExtendedSelected.tipoPrescripcion eq 'N'}" />
                                        <p:outputLabel class="lbl-Tipo-PrescripcionUnica" value="Única" rendered="#{validacionSolucionMB.surtimientoExtendedSelected.tipoPrescripcion eq 'D'}" />
                                        <p:outputLabel class="lbl-Tipo-PrescripcionUrgente" value="Urgente" rendered="#{validacionSolucionMB.surtimientoExtendedSelected.tipoPrescripcion eq 'U'}" />
                                    </div>
                                    <div style="width:33%; float:left;">
                                        <p:outputLabel style="margin-right: 5px;">Fecha Prescripción</p:outputLabel>
                                        <p:outputLabel  class="textoNegrita" style="margin-right: 10px;" value="#{validacionSolucionMB.surtimientoExtendedSelected.insertFecha}">
                                            <f:convertDateTime type="date" pattern="dd/MM/yyyy HH:mm" />
                                        </p:outputLabel>
                                    </div>
                                    <div style="width:33%; float:left;">
                                        <p:outputLabel for="tipoPrescripcion" style="margin-right: 5px;">Tipo Prescripción:</p:outputLabel>
                                        <p:selectOneMenu id="tipoPrescripcion" value="#{validacionSolucionMB.surtimientoExtendedSelected.tipoPrescripcion}" label="Tipo de Prescripción"
                                                         title="Tipo de Prescripción" autoWidth="true" style="vertical-align: middle;" disabled="#{validacionSolucionMB.existePrescripcion}"
                                                         required="true" requiredMessage="Debe seleccionar un Tipo de Prescripción">
                                            <f:selectItem itemLabel="Seleccione Tipo" itemValue="#{null}"/>
                                            <f:selectItem itemLabel="Normal" itemValue="N" />
                                            <f:selectItem itemLabel="Urgente" itemValue="U" />
                                            <f:selectItem itemLabel="Dosis Única" itemValue="D" />
                                        </p:selectOneMenu>
                                    </div>
                                </div>

                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-4" >
                                        <p:outputLabel style="margin-right: 1px;" value="Usuario autoriza: " rendered="#{validacionSolucionMB.verAutorizacion}" />
                                        <p:outputLabel id="usuarioAutoriza" class="textoNegrita"
                                                       value="#{validacionSolucionMB.surtimientoExtendedSelected.usuarioAutoriza}" 
                                                       rendered="#{validacionSolucionMB.verAutorizacion}" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" value="Fecha Autorización: " rendered="#{validacionSolucionMB.verAutorizacion}"/>
                                        <p:outputLabel id="fechaAutorizacion" class="textoNegrita"
                                                       value="#{validacionSolucionMB.surtimientoExtendedSelected.fechaAutoriza}" 
                                                       rendered="#{validacionSolucionMB.verAutorizacion}" >
                                            <f:convertDateTime type="date" pattern="dd/MM/yyyy HH:mm"/>
                                        </p:outputLabel>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-4">
                                        <p:outputLabel style="margin-right: 1px;" value="Comentarios autorización: " rendered="#{validacionSolucionMB.verAutorizacion}" />
                                        <p:outputLabel id="comentariosAutoriza" class="textoNegrita"
                                                       value="#{validacionSolucionMB.surtimientoExtendedSelected.comentarioAutoriza}" 
                                                       rendered="#{validacionSolucionMB.verAutorizacion}" />
                                    </div>
                                </div>
                                
                                <div class="ui-g-12" >
                                    <div style="width:33%; float:left;">
                                        <p:outputLabel for="comboServicios" style="margin-right: 5px;">Área/Servicio:</p:outputLabel>
                                        <p:selectOneMenu id="comboServicios" title="Área o Servicio"
                                                         value="#{validacionSolucionMB.surtimientoExtendedSelected.idEstructura}"
                                                         autoWidth="true" required="true"
                                                         requiredMessage="Debe seleccionar el Área o Servicio"
                                                         filter="true" filterMatchMode="contains"
                                                         disabled="#{validacionSolucionMB.existePrescripcion}"
                                                         style="vertical-align: middle; ">
                                            <f:selectItem itemLabel="Seleccione Área" itemValue="#{null}"/>
                                            <f:selectItems value="#{validacionSolucionMB.listServiciosQueSurte}"
                                                           var="servicio"
                                                           itemValue="#{servicio.idEstructura}"
                                                           itemLabel="#{servicio.nombre}" />
                                            <p:ajax event="itemSelect" listener="#{validacionSolucionMB.obtenerCamas}" update="comboCamas"></p:ajax>
                                        </p:selectOneMenu>
                                    </div>
                                    <div style="width:33%; float:left;">
                                        <p:outputLabel for="comboCamas" style="margin-right: 5px;">Cama:</p:outputLabel>
                                        <p:selectOneMenu id="comboCamas" title="Cama del Paciente"
                                                         value="#{validacionSolucionMB.surtimientoExtendedSelected.idCama}"
                                                         autoWidth="true"
                                                         filter="true" filterMatchMode="contains"
                                                         disabled="#{validacionSolucionMB.existePrescripcion}"
                                                         style="vertical-align: middle; ">
                                            <p:ajax event="itemSelect" listener="#{validacionSolucionMB.seleccionaCama}" ></p:ajax>
                                            <f:selectItem itemLabel="Seleccione Cama" itemValue="#{null}"/>
                                            <f:selectItems value="#{validacionSolucionMB.listaCamas}"
                                                           var="cama"
                                                           itemValue="#{cama.idCama}"
                                                           itemLabel="#{cama.nombreCama} - #{cama.ubicacion} " />
                                        </p:selectOneMenu>
                                    </div>
                                    <div style="width:33%; float:left;">
                                        <p:outputLabel for="autoCompleteMedico" style="margin-right: 5px;">Médico Solicitante:</p:outputLabel>
                                        <p:autoComplete id="autoCompleteMedico" 
                                                        value="#{validacionSolucionMB.medico}" 
                                                        required="true"
                                                        requiredMessage="Debe seleccionar el Médico"
                                                        completeMethod="#{validacionSolucionMB.autoCompleteMedicos}" 
                                                        minQueryLength="3" 
                                                        forceSelection="true"
                                                        var="medico" 
                                                        itemValue="#{medico.idUsuario}" 
                                                        itemLabel="#{medico.nombre} #{medico.apellidoPaterno} #{medico.apellidoMaterno}"
                                                        converter="medicoConverter" 
                                                        placeholder="Buscar Médico..."
                                                        emptyMessage="Búsqueda sin resultados" 
                                                        size="28" title="Médico Solicitante"
                                                        disabled="#{validacionSolucionMB.existePrescripcion}"
                                                        scrollHeight="200">
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Cédula Profesional" />
                                                </f:facet>
                                                <h:outputText value="#{medico.cedProfesional}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Nombre" />
                                                </f:facet>
                                                <h:outputText value="#{medico.nombre}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Apellido Paterno" />
                                                </f:facet>
                                                <h:outputText value="#{medico.apellidoPaterno}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Apellido Materno" />
                                                </f:facet>
                                                <h:outputText value="#{medico.apellidoMaterno}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                        </p:autoComplete>
                                        <p:commandButton id="agregaMedico" title="Agregar" value="+" 
                                                         actionListener="#{validacionSolucionMB.mostrarModalAgregarMedico}"
                                                         onclick="PF('statusProcess').show();"
                                                         oncomplete="PF('statusProcess').hide();PF('modalAgregarMedico').show();"
                                                         update=":formAgregarMedico:turnoMedico"
                                                         disabled="#{validacionSolucionMB.existePrescripcion}"
                                                         rendered="#{validacionSolucionMB.permiso.puedeAutorizar}" >
                                            <p:resetInput target="formAgregarMedico"/>
                                        </p:commandButton>
                                    </div>
                                </div>

                                <div class="ui-g-12" >
                                    <div style="width:33%; float:left;">
                                        <p:outputLabel for="autoCompletePaciente" style="margin-right: 5px;">Paciente:</p:outputLabel>
                                        <p:autoComplete id="autoCompletePaciente" 
                                                        value="#{validacionSolucionMB.pacienteExtended}" 
                                                        completeMethod="#{validacionSolucionMB.autoCompletePacientes}" 
                                                        minQueryLength="3" required="true"
                                                        requiredMessage="Debe seleccionar el Paciente"
                                                        forceSelection="true"
                                                        var="paciente"  
                                                        itemValue="#{paciente}"
                                                        itemLabel="#{paciente.nombreCompleto} #{paciente.apellidoPaterno} #{paciente.apellidoMaterno}"
                                                        converter="pacienteConverter" 
                                                        placeholder="Buscar Paciente..."
                                                        emptyMessage="Búsqueda sin resultados" 
                                                        title="Nombre del Paciente"
                                                        disabled="#{validacionSolucionMB.existePrescripcion}"
                                                        size="35" scrollHeight="200">
                                            <p:ajax event="itemSelect" listener="#{validacionSolucionMB.selectPaciente}" process="@this" 
                                                    update="txtNumPaciente, txtDiagnosticos, txtEdadPaciente, txtPesoPaciente, txtTallaPaciente, txtAreaPaciente, chkDiabetes, chkHipertension, chkProRenales, chkPadeCronico"></p:ajax>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Número de Paciente" />
                                                </f:facet>
                                                <h:outputText value="#{paciente.pacienteNumero}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Clave DerechoHabiencia" />
                                                </f:facet>
                                                <h:outputText value="#{paciente.claveDerechohabiencia}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Nombre" />
                                                </f:facet>
                                                <h:outputText value="#{paciente.nombreCompleto}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Apellido Paterno" />
                                                </f:facet>
                                                <h:outputText value="#{paciente.apellidoPaterno}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                            <p:column style="font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Apellido Materno" />
                                                </f:facet>
                                                <h:outputText value="#{paciente.apellidoMaterno}" style=" font-size: small; font-weight: bolder;" />
                                            </p:column>
                                        </p:autoComplete>
                                        <p:commandButton id="agregaPaciente" title="Agregar" value="+" 
                                                         onclick="PF('statusProcess').show();" immediate="true"
                                                         actionListener="#{validacionSolucionMB.mostrarModalAgregarPaciente}"
                                                         oncomplete="PF('statusProcess').hide();PF('modalAgregarPaciente').show();"
                                                         update="formAgregarPaciente"
                                                         disabled="#{validacionSolucionMB.existePrescripcion}">
                                            <p:resetInput target="formAgregarPaciente"/>
                                        </p:commandButton>
                                    </div>

                                    <div style="width:33%; float:left;">
                                        <p:outputLabel style="margin-right: 5px;">Número Paciente:</p:outputLabel>
                                        <p:outputLabel id="txtNumPaciente" value="#{validacionSolucionMB.pacienteExtended.pacienteNumero}" title="Número del Paciente">
                                        </p:outputLabel>
                                    </div>

                                    <div style="width:33%; float:left;">
                                        <p:outputLabel for="tipoConsulta" style="margin-right: 5px;">Tipo Consulta:</p:outputLabel>
                                        <p:selectOneMenu id="tipoConsulta" value="#{validacionSolucionMB.surtimientoExtendedSelected.tipoConsulta}" title="Tipo de la Consulta" autoWidth="true" 
                                                         style="vertical-align: middle;" required="true" requiredMessage="Debe seleccionar el Tipo de Consulta" disabled="#{validacionSolucionMB.existePrescripcion}" >
                                            <f:selectItem itemLabel="Seleccione Tipo" itemValue="#{null}"/>
                                            <f:selectItem value="#{I}" itemLabel="Interna" itemValue="I" />
                                            <f:selectItem value="#{E}" itemLabel="Externa" itemValue="E" />
                                        </p:selectOneMenu>
                                    </div>
                                </div>

                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 1px;" value="Fecha Nacimiento: " />
                                        <p:outputLabel id="txtFecNacPaciente" value="#{validacionSolucionMB.pacienteExtended.fechaNacimiento}" >
                                            <f:convertDateTime pattern="yyyy-MM-dd" />
                                        </p:outputLabel>
                                        <p:outputLabel value=" (" />
                                        <p:outputLabel id="txtEdadPaciente" value="#{validacionSolucionMB.pacienteExtended.edadPaciente}" />
                                        <p:outputLabel style="margin-right: 1px;" value="Edad" rendered="false" />
                                        <p:inputText id="txtEdadPaciente2"  rendered="false" 
                                                     value="#{validacionSolucionMB.surtimientoExtendedSelected.edadPaciente}" size="1"
                                                     required="true" requiredMessage="Registre Edad" >
                                            <p:keyFilter mask="num" regEx="/[\d{1,3}\.\d{0,2}]/i" />
                                        </p:inputText>
                                        <p:outputLabel value=" años)" />
                                        <ui:remove>
                                        <p:inputText id="txtEdadPaciente" value="#{validacionSolucionMB.surtimientoExtendedSelected.edadPaciente}" 
                                                     size="1" disabled="#{!validacionSolucionMB.editable}" >
                                            <p:keyFilter mask="num" regEx="/[\d{1,3}\.\d{0,2}]/i" />
                                        </p:inputText>
                                        </ui:remove>
                                        años
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 10px;" value="Peso:"  />
                                        <p:inputText id="txtPesoPaciente" value="#{validacionSolucionMB.surtimientoExtendedSelected.pesoPaciente}"  
                                                     size="1" disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" >
                                            <p:keyFilter mask="num" />
                                        </p:inputText> kg
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 10px;" value="Estatura:"  />
                                        <p:inputText id="txtTallaPaciente" value="#{validacionSolucionMB.surtimientoExtendedSelected.tallaPaciente}"  
                                                     size="1" disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" >
                                            <p:keyFilter mask="num" />
                                        </p:inputText> mts
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 10px;" value="#{msg['cenmez.areaCorp']}:"  />
                                        <p:inputText id="txtAreaPaciente" value="#{validacionSolucionMB.surtimientoExtendedSelected.areaCorporal}"  size="1" disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" >
                                            <p:keyFilter mask="num" />
                                        </p:inputText> m²
                                    </div>
                                </div>

                                <div class="ui-g-12" >
                                    <div style="width:60%; float:left;">
                                        <p:outputLabel value="Diagnósticos: * " style="margin-right: 5px; vertical-align: top; "/>
                                        <p:autoComplete id="txtDiagnosticos"
                                                        styleClass="autocomplete-multiple-hiper"
                                                        multiple="true" required="true" requiredMessage="Se requiere al menos un diagnóstico"
                                                        placeholder="Agregar Diagnósticos" 
                                                        value="#{validacionSolucionMB.diagnosticosList}"
                                                        completeMethod="#{validacionSolucionMB.autocompleteDiagnosticos}"
                                                        minQueryLength="4"                                                       
                                                        forceSelection="true"
                                                        var="diagnos" 
                                                        itemLabel="#{diagnos.nombre}" itemValue="#{diagnos}" 
                                                        converter="musGenericConverter"
                                                        disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" >
                                            <p:ajax event="itemSelect" update="txtDiagnosticos" process="txtDiagnosticos"></p:ajax>
                                            <p:column style="width: 20px; font-size: small;" width="50px">
                                                <f:facet name="header" >
                                                    <h:outputText value="Clave" />
                                                </f:facet>
                                                <h:outputText value="#{diagnos.clave}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="width: 600px; font-size: small;" width="600px">
                                                <f:facet name="header" >
                                                    <h:outputText value="Descripción" />
                                                </f:facet>
                                                <h:outputText value="#{diagnos.nombre}" style=" font-size: x-small;" />
                                            </p:column>
                                        </p:autoComplete>
                                    </div>
                                    
                                    <div style="width:10%; float:left;">
                                        <p:outputLabel style="margin-right: 10px;" value="Prob Glucosa:" />
                                        <p:selectBooleanCheckbox value="#{validacionSolucionMB.surtimientoExtendedSelected.diabetes}" 
                                                                 id="chkDiabetes" disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" />
                                    </div>
                                    <div style="width:10%; float:left;">
                                        <p:outputLabel style="margin-right: 10px;" value="Prob Renales" />
                                        <p:selectBooleanCheckbox value="#{validacionSolucionMB.surtimientoExtendedSelected.problemasRenales}" 
                                                                 id="chkProRenales" disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" />
                                    </div>
                                    <div style="width:10%; float:left;">
                                        <p:outputLabel style="margin-right: 10px;" value="Prob Hipertensión:" />
                                        <p:selectBooleanCheckbox value="#{validacionSolucionMB.surtimientoExtendedSelected.hipertension}" 
                                                                 id="chkHipertension" disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" />
                                    </div>
                                    <div style="width:3%; float:left;">
                                        <p:outputLabel style="margin-right: 10px;" value="Padec Crónico:"  rendered="false" />
                                        <p:selectBooleanCheckbox value="#{validacionSolucionMB.surtimientoExtendedSelected.padecimientoCronico}" 
                                                                 id="chkPadeCronico" disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" rendered="false"  />
                                    </div>
                                    
                                </div>

                                <p:outputLabel value="INFORMACIÓN DE LA SOLUCIÓN"  class="plabel ui-g-12" />
                                
                                <div class="ui-g-12" >
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 10px;" value="Tipo Solución:" />
                                        <p:selectOneMenu id="tipoSolucion" widgetVar="tipoSolucion" value="#{validacionSolucionMB.idTipoSolucion}" label="Tipo de Solución"
                                                         title="Tipo de Solución" autoWidth="true" style="vertical-align: middle;" required="true" 
                                                         requiredMessage="Debe seleccionar el Tipo de Solución"
                                                         disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" >
                                            <f:selectItem itemLabel="Seleccione Tipo" itemValue="#{null}"/>
                                            <f:selectItems value="#{validacionSolucionMB.tipoSolucionList}" var="tipoSol"
                                                           itemLabel="#{tipoSol.clave}" itemValue="#{tipoSol.idTipoSolucion}"/>
                                            <p:ajax event="itemSelect" update="protocolo txtDiagnostico"
                                                    listener="#{validacionSolucionMB.seleccionaTiposolucion}">
                                            </p:ajax>
                                        </p:selectOneMenu>
                                    </div>                            
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel for="viaAdministracion" style="margin-right: 5px;">Vía Administración:</p:outputLabel>
                                            <p:selectOneMenu id="viaAdministracion" value="#{validacionSolucionMB.viaAdministracion.idViaAdministracion}"
                                                             label="Vía de Administración" title="Vía de Administración" autoWidth="true" style="vertical-align: middle; " 
                                                             required="true" requiredMessage="Debe seleccionar una Vía de Administración" filter="true" filterMatchMode="contains"
                                                             disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" >
                                                <f:selectItem itemLabel="Seleccione Vía" itemValue="#{null}"/>
                                                <f:selectItems value="#{validacionSolucionMB.viaAdministracionList}" var="via"
                                                               itemLabel="#{via.nombreViaAdministracion}" itemValue="#{via.idViaAdministracion}"/>
                                            </p:selectOneMenu>
                                        </div>
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel style="margin-right: 10px;" value="Volumen total:" />                                
                                            <p:inputText  value="#{validacionSolucionMB.surtimientoExtendedSelected.volumenTotal}" size="4"  style="margin-bottom: 5px;"
                                                          disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" /> ml
                                        </div>
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel style="margin-right: 10px;" value="Contenedor: " />
                                            <p:selectOneMenu value="#{validacionSolucionMB.surtimientoExtendedSelected.idContenedor}"
                                                             filter="true" filterMatchMode="contains"
                                                             disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" >
                                                <f:selectItem itemLabel="Seleccione una opción" itemValue="#{null}"/>
                                                <f:selectItems value="#{validacionSolucionMB.envaseList}" var="tipo" itemLabel="#{tipo.descripcion}" itemValue="#{tipo.idEnvaseContenedor}" />
                                            </p:selectOneMenu>
                                        </div>
                                        <ui:remove>
                                            <div style="width:20%; float:left;">
                                                <p:outputLabel style="margin-right: 10px;" value="Unidad" />
                                                <p:outputLabel class="textoNegrita" value="#{validacionSolucionMB.surtimientoExtendedSelected.unidadConcentracion}" />
                                            </div>
                                        </ui:remove>
                                </div>
                                <div class="ui-g-12" >
                                    <ui:remove>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel value="Fecha de Entrega: " for="txtFechaEntrega" /> 
                                        <p:calendar id="txtFechaEntrega" title="Fecha Programada" size="8"
                                                    value="#{validacionSolucionMB.surtimientoExtendedSelected.fechaParaEntregar}"
                                                    showOn="button" locale="es_MX" navigator="true" pattern="dd/MM/yyyy"
                                                    pages="1" mask="true" showButtonPanel="true" effect="fade"
                                                    disabled="#{!validacionSolucionMB.editable}" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel value="Hora de Entrega: " for="txtHoraEntrega" /> 
                                        <p:selectOneMenu id="txtHoraEntrega" style="vertical-align: middle;" 
                                                         value="#{validacionSolucionMB.surtimientoExtendedSelected.idHorarioParaEntregar}" 
                                                         label="Hora de Entrega" filter="true" filterMatchMode="contains" 
                                                         title="Hora de Entrega" autoWidth="true"
                                                         disabled="#{!validacionSolucionMB.editable}" >
                                            <f:selectItem itemLabel="Seleccione horario" itemValue="#{null}"/>
                                            <f:selectItems value="#{validacionSolucionMB.horarioEntregaLista}" var="horar" 
                                                           itemValue="#{horar.idHorarioEntrega}" itemLabel="#{horar.nombre}" />
                                        </p:selectOneMenu>
                                    </div>
                                    </ui:remove>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel for="chkPerfucionContinua" style="margin-right: 5px;" value="Perfusión Continua:" />
                                            <p:selectBooleanCheckbox id="chkPerfucionContinua" value="#{validacionSolucionMB.surtimientoExtendedSelected.perfusionContinua}" 
                                                                     disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}" >
                                                <p:ajax event="change" update="txtVelocidad " listener="#{validacionSolucionMB.activaPerfusion}" />
                                            </p:selectBooleanCheckbox>
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                        <p:outputLabel style="margin-right: 5px;" value="Tiempo Infusión: "/>
                                        <!-- p:inputNumber id="txtHorasInfusion" maxlength="2" maxValue="99" minValue="0" size="4"
                                                       value="# {registroSolucionMB.surtimientoExtendedSelected.horasInfusion}" 
                                                       disabled="# {!registroSolucionMB.editarHoraInfusion}">
                                            <p:ajax event="blur" update="txtVelocidad" 
                                                listener="# {registroSolucionMB.calculaVelocidadPerfusion}" />
                                        </p:inputNumber -->                                        
                                        <!-- p:calendar id="dateHorasInfusion" value="# {validacionSolucionMB.surtimientoExtendedSelected.horasInfusion}" pattern="HH:mm" timeOnly="true"
                                                    maxHour="72" maxMinute="59" disabled="# {!validacionSolucionMB.permiso.puedeAutorizar}" > 
                                                    <p:ajax event="blur" update="txtVelocidad" 
                                                listener="# {validacionSolucionMB.calculaVelocidadPerfusion}" />
                                        </p:calendar -->
                                        <p:inputMask id="hrsInfusion" value="#{validacionSolucionMB.surtimientoExtendedSelected.horasInfusion}" mask="999:99"
                                                     disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}">
                                            <p:ajax event="blur" process="@this" update="txtVelocidad"
                                                    listener="#{validacionSolucionMB.calculaVelocidadPerfusion}" />
                                        </p:inputMask>  
                                        <p:outputLabel value=" hrs" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel for="txtVelocidad" style="margin-right: 5px;" value="Velocidad:" />
                                            <p:inputNumber id="txtVelocidad" value="#{validacionSolucionMB.surtimientoExtendedSelected.velocidad}" 
                                                           minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="6" 
                                                       title="Velocidad de Administración" required="false" 
                                                       requiredMessage="Debe ingresar la Velocidad" 
                                                       disabled="#{!validacionSolucionMB.permiso.puedeAutorizar}"
                                                        /> ml/h
                                    </div>
                                    <ui:remove>
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel for="txtRitmo" style="margin-right: 5px;" value="Ritmo:" />
                                            <!--<p:outputLabel class="textoNegrita" value="# {fn:substring(validacionSolucionMB.surtimientoExtendedSelected.ritmo,0,7)}" /> cm³/min-->
                                            <p:inputNumber id="txtRitmo" value="#{validacionSolucionMB.surtimientoExtendedSelected.ritmo}" minValue="0" decimalSeparator="." thousandSeparator="," decimalPlaces="2" size="6" 
                                                       title="Ritmo de Administración" required="false" requiredMessage="Debe ingresar el Ritmo"
                                                       disabled="#{!validacionSolucionMB.surtimientoExtendedSelected.perfusionContinua}" /> cm³/min
                                        </div>
                                        </ui:remove>
<!--                                </div>
                                <div class="ui-g-12" >-->
                                </div>
                            
                                    <div class="ui-g-12">
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel style="margin-right: 10px;" value="Protocolo:" />
                                            <p:selectOneMenu id="protocolo" value="#{validacionSolucionMB.claveProtocolo}" label="Protocolo" filter="true" filterMatchMode="contains"
                                                             title="Tipo de Protocolo" autoWidth="true" style="vertical-align: middle;" 
                                                             disabled="#{!validacionSolucionMB.isOncologica or !validacionSolucionMB.permiso.puedeAutorizar}" >
                                                <f:selectItem itemLabel="Seleccione Protocolo" itemValue="#{null}"/>
                                                <f:selectItems value="#{validacionSolucionMB.listaProtocolos}" var="proto" itemValue="#{proto.claveProtocolo}" itemLabel="#{proto.claveProtocolo}"></f:selectItems>
                                                <p:ajax event="itemSelect" update="formWarning:msjWarning"
                                                        listener="#{validacionSolucionMB.validaDiagnosticoProtocolo}">
                                                </p:ajax>
                                            </p:selectOneMenu>
                                        </div>
                                        <div class="ui-g-12 ui-md-6 ui-lg-3">
                                            <p:outputLabel for="txtDiagnostico" style="margin-right: 5px;" value="Diagnóstico:" />
                                            <p:autoComplete id="txtDiagnostico"
                                                            styleClass="autocomplete-multiple-hiper"
                                                            multiple="false"
                                                            placeholder="Buscar Diagnóstico" 
                                                            value="#{validacionSolucionMB.diagnosticoSelected}"
                                                            completeMethod="#{validacionSolucionMB.autocompleteDiagnostico}"
                                                            minQueryLength="4"                                                       
                                                            forceSelection="true"                                                         
                                                            var="diagnos" size ="20"
                                                            itemLabel="#{diagnos.nombre}" itemValue="#{diagnos}" 
                                                            converter="musGenericConverter" 
                                                            disabled="#{!validacionSolucionMB.isOncologica or !validacionSolucionMB.permiso.puedeAutorizar}">
                                                <p:column style="width: 20px; font-size: small;" width="50px">
                                                    <f:facet name="header" >
                                                        <h:outputText value="Clave" />
                                                    </f:facet>
                                                    <h:outputText value="#{diagnos.clave}" style=" font-size: small;" />
                                                </p:column>
                                                <p:column style="width: 450px; font-size: small;" width="450px">
                                                    <f:facet name="header" >
                                                        <h:outputText value="Descripción" />
                                                    </f:facet>
                                                    <h:outputText value="#{diagnos.nombre}" style=" font-size: x-small;" />
                                                </p:column>
                                                <p:ajax event="itemSelect" update="formWarning:msjWarning"
                                                        listener="#{validacionSolucionMB.validaDiagnosticoProtocolo}">
                                                </p:ajax>
                                            </p:autoComplete>
                                        </div>
                                </div>
                                
                                <ui:remove>
                                    <div class="ui-g-12" >
                                        <div style="width:30%; float:left;">
                                            <p:outputLabel style="margin-right: 10px;" value="Tipo Ingrediente:" />
                                            <p:outputLabel class="textoNegrita" value="#{validacionSolucionMB.surtimientoExtendedSelected.nombreIngrediente}" rendered="false" />
                                        </div>
                                        <div style="width:30%; float:left;">
                                            <p:outputLabel style="margin-right: 10px;" value="Aplica Muestreo: " />
                                            <p:selectBooleanButton value="#{validacionSolucionMB.muestreo}" offLabel="No" onLabel="Si" />  
                                        </div>
                                    </div>
                                </ui:remove>

                                <div class="ui-g-12" style="padding: 10px 5px; background-color: #bfbfbf; margin-right:20px;">
                                    <div style="width: 10%; float:left;">
                                        <p:selectBooleanCheckbox value="#{validacionSolucionMB.eliminaCodigoBarras}" 
                                                                 id="chkEliminaCodigoBarras"
                                                                 itemLabel="Eliminar"
                                                                 title="Elimina medicamentos confirmados"
                                                                 disabled="#{!validacionSolucionMB.permiso.puedeEditar}" />
                                    </div>
                                    <div style="width: 15%; float:left;">
                                        <p:outputLabel style="margin-right: 10px;" value="Cantidad:" />
                                        <p:inputText id="xcantidad"
                                                     value="#{validacionSolucionMB.xcantidad}"
                                                     size="3" 
                                                     placeholder="Cantidad" 
                                                     title="Cantidad de medicamentos">
                                            <p:keyFilter regEx="/[0-9]{1,4}/i" />
                                            <p:ajax event="keyup" update="@this" />
                                        </p:inputText>
                                    </div>
                                    <div style="width: 60%; float:left;">
                                        <p:autoComplete id="codigSurt" 
                                                        value="#{validacionSolucionMB.medicamento}" 
                                                        autocomplete="on" 
                                                        completeMethod="#{validacionSolucionMB.autoCompleteMedicamento}"
                                                        minQueryLength="4" 
                                                        disabled="#{validacionSolucionMB.mostrarImpresionEtiqueta}"
                                                        forceSelection="true"
                                                        var="insumo" 
                                                        itemLabel="#{insumo.nombreCorto}" 
                                                        itemValue="#{insumo}" 
                                                        converter="inventarioConverter"
                                                        placeholder="Buscar Insumo"
                                                        emptyMessage="No se encontro registro." 
                                                        style="margin-left: 10px; margin-right: 10px;"
                                                        size="50">
                                            <p:ajax event="itemSelect"
                                                    update="chkEliminaCodigoBarras , codigSurt,tblInsumos , msgValidaRegistro , xcantidad , txtInstruccionesPrep , chkTemRefrigeracion , chkTemAmbiente , chkProteccionLuz , chkNoAgitar , txtIndicaciones "
                                                    oncomplete="if (!args.estatus) { PF('modalSurtimiento').content.scrollTop('0') } "
                                                    process="@form"
                                                    global="false" 
                                                    listener="#{validacionSolucionMB.validaLecturaPorCodigo}"
                                                    ></p:ajax>
                                            <p:ajax event="itemUnselect" 
                                                    listener="#{validacionSolucionMB.handleUnSelect}"
                                                    ></p:ajax>

                                            <p:column style="width: 20px; font-size: small;" >
                                                <f:facet name="header" >
                                                    <h:outputText value="Clave" />
                                                </f:facet>
                                                <h:outputText value="#{insumo.claveInstitucional}" style=" font-size: small;" />
                                            </p:column>
                                            <p:column style="width: 250px; font-size: small;">
                                                <f:facet name="header" >
                                                    <h:outputText value="Descripción" />
                                                </f:facet>
                                                <h:outputText value="#{insumo.nombreCorto}" style=" font-size: x-small;" />
                                            </p:column>
                                            <p:column style="width: 200px; font-size: small;" >
                                                <f:facet name="header" >
                                                    <h:outputText value="Fabricante" />
                                                </f:facet>
                                                <h:outputText value="#{insumo.nombreFabricante}" style=" font-size: x-small;" />
                                            </p:column>
                                            <p:column style="width: 80px; font-size: small;" >
                                                <f:facet name="header" >
                                                    <h:outputText value="Lote" />
                                                </f:facet>
                                                <h:outputText value="#{insumo.lote}" style=" font-size: x-small;" />
                                            </p:column>
                                            <p:column style="width: 20px; font-size: small;" >
                                                <f:facet name="header" >
                                                    <h:outputText value="Caducidad" />
                                                </f:facet>
                                                <h:outputText value="#{insumo.fechaCaducidad}" style=" font-size: x-small;" >
                                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                                </h:outputText>
                                            </p:column>
                                            <p:column style="width: 20px; font-size: small;" >
                                                <f:facet name="header" >
                                                    <h:outputText value="Estabilidad" />
                                                </f:facet>
                                                <h:outputText value="#{insumo.hrsEstabilidad} hrs" style=" font-size: x-small;" />
                                            </p:column>
                                            <p:column style="width: 20px; font-size: small;" >
                                                <f:facet name="header" >
                                                    <h:outputText value="Cantidad" />
                                                </f:facet>
                                                <h:outputText value="#{insumo.cantidadActual}" style=" font-size: x-small;" />
                                            </p:column>

                                        </p:autoComplete>
                                    </div>
                                </div>



                                <p:dataTable id="tblInsumos" 
                                             widgetVar="tblInsumos" 
                                             value="#{validacionSolucionMB.surtimientoInsumoExtendedList}"
                                             selection="#{validacionSolucionMB.surtimientoInsumoExtendedSelected}"                                     
                                             var="item" 
                                             rowKey="#{item.idSurtimientoInsumo}"
                                             rowIndexVar="row"
                                             selectionMode="single"
                                             style="margin-bottom:5px;"
                                             styleClass="mystyle"
                                             scrollable="true" scrollHeight="250"
                                             emptyMessage="No se encontraron Registros"
                                             reflow="true"
                                             paginatorTemplate="{Records} {CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                                             currentPageReportTemplate=" "
                                             paginator="true"
                                             rows="10"  expandedRow="false"
                                             paginatorPosition="bottom"                                     
                                             disabledSelection="true" 
                                             rendered="#{validacionSolucionMB.sizeSurtimientoInsumoExtendedList gt -1}"  >

                                    <f:facet name="{Records}">
                                        <div style="float:left;">
                                            <p:outputLabel class="footerLabel" value=" Insumos requeridos: #{validacionSolucionMB.sizeSurtimientoInsumoExtendedList}" rendered="true" />
                                        </div>
                                    </f:facet>

                                    <p:column style="width :3%">
                                        <p:rowToggler />
                                    </p:column>

                                    <p:column style="text-align: left; width: 10% "
                                              sortBy="#{item.claveInstitucional}" >
                                        <f:facet name="header" >
                                            <h:outputText value="Clave" />
                                        </f:facet>
                                        <h:outputText value="#{item.claveInstitucional}" class="textoNegrita" />
                                    </p:column>
                                    <p:column style="text-align: left; width: 37% "
                                              sortBy="#{item.nombreCorto}" >
                                        <f:facet name="header" >
                                            <h:outputText value="Nombre" />
                                        </f:facet>
                                        <h:outputText value="#{item.nombreCorto}" title="#{item.nombreCorto}" class="limitText" />
                                    </p:column>
                                    
                                    <p:column  style="text-align: left; width: 10% ">
                                        <f:facet name="header" >
                                            <h:outputText value="Dosis" />
                                        </f:facet>
                                        <h:outputText value="#{item.dosis} #{item.unidadConcentracion}" />
                                    </p:column>
                                    
                                    <p:column style="text-align: left; width: 6% " >
                                        <f:facet name="header" >
                                            <h:outputText value="Frecuencia" />
                                        </f:facet>
                                        <h:outputText value="#{item.frecuencia}" />
                                    </p:column>
                                    <p:column style="text-align: left; width: 5% " >
                                        <f:facet name="header" >
                                            <h:outputText value="Duración" />
                                        </f:facet>
                                        <h:outputText value="#{item.duracion}" />
                                    </p:column>
                                    
                                    <p:column style="text-align: left; width: 8% " >
                                        <f:facet name="header" >
                                            <h:outputText value="Can Solicitada" />
                                        </f:facet>
                                        <h:outputText value="#{item.cantidadSolicitada}" />
                                    </p:column>
                                    <p:column style="text-align: left; width: 8% " >
                                        <f:facet name="header" >
                                            <h:outputText value="Lote Sugerido" />
                                        </f:facet>
                                        <h:outputText value="#{item.loteSugerido}" class="textoNegrita" />
                                    </p:column>
                                    <ui:remove>
                                        <p:column style="text-align: left; width: 8% " >
                                            <f:facet name="header" >
                                                <h:outputText value="Can Surtida" />
                                            </f:facet>
                                            <h:outputText value="#{item.cantidadEnviada}" class="textoNegrita" />
                                        </p:column>
                                    </ui:remove>
                                    <p:column style="text-align: left; width: 12% " >
                                        <f:facet name="header" >
                                            <h:outputText value="Justificante" />
                                        </f:facet>
                                        <p:selectOneMenu id="cmbJustificante" value="#{item.idTipoJustificante}" disabled="#{not item.requiereJustificante}" >
                                            <f:selectItem itemLabel="Incompleto" itemValue="#{null}" />
                                            <f:selectItems value="#{validacionSolucionMB.justificacionList}" 
                                                           var="just" itemValue="#{just.idTipoJustificacion}" itemLabel="#{just.descripcion}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column style="text-align: left; width: 18% " >
                                        <f:facet name="header" >
                                            <h:outputText value="Notas" />    
                                        </f:facet>
                                        <p:inputText value="#{item.notas}" maxlength="45" size="8" />
                                    </p:column>

                                    <p:rowExpansion   >
                                        <p:dataTable var="enviado"
                                                     value="#{item.surtimientoEnviadoExtendList}"
                                                     scrollable="true" 
                                                     emptyMessage="" >
                                            <p:column headerText="" style="width: 50%" />
                                            <p:column headerText="Fabricante" style="width: 20%">
                                                <h:outputText value="#{enviado.nombreFabricante}" />
                                            </p:column>
                                            <p:column headerText="Lote" style="width: 8%">
                                                <h:outputText value="#{enviado.lote}" />
                                            </p:column>
                                            <p:column headerText="Caducidad" style="width: 8%">
                                                <h:outputLabel value="#{enviado.caducidad}" >
                                                    <f:convertDateTime type="date" pattern="dd/MM/yyyy" />
                                                </h:outputLabel>
                                            </p:column>
                                            <p:column headerText="Cant a Surtir" style="width: 8%">
                                                <h:outputLabel value="#{enviado.cantidadEnviado}" class="textoNegrita" />
                                            </p:column>
                                            <p:column headerText="" style="width: 6%" />
                                        </p:dataTable>
                                    </p:rowExpansion>

                                </p:dataTable>
                                <br/>

                                <div class="ui-g-12" >
                                    <div style="width:40%; float:left;">
                                        <p:outputLabel style="margin-right: 10px; font-weight: bold;" value="Observaciones:" />
                                        <br/>
                                        <p:inputTextarea  value="#{validacionSolucionMB.surtimientoExtendedSelected.observaciones}"
                                                          id="txtCondicionesConser" rows="4" cols="80" style="margin-bottom: 5px;" 
                                                          readonly="#{!validacionSolucionMB.permiso.puedeProcesar}" />
                                    </div>
                                    <div style="width:10%; float:left;">
                                        <p:spacer width="10"/>
                                    </div>
                                    <div style="width:40%; float:left;">
                                        <p:spacer width="5"/>
                                        <p:outputLabel style="margin-right: 10px; font-weight: bold;" value="Instrucciones de Preparación:" />
                                        <br/>
                                        <p:inputTextarea  value="#{validacionSolucionMB.surtimientoExtendedSelected.instruccionPreparacion}" 
                                                          id="txtInstruccionesPrep" rows="4" cols="80" style="margin-bottom: 5px;"
                                                          readonly="#{!validacionSolucionMB.permiso.puedeProcesar}" />
                                    </div>
                                </div>

                                <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-6" >
                                        <p:selectBooleanCheckbox id="chkTemRefrigeracion" value="#{validacionSolucionMB.surtimientoExtendedSelected.tempRefrigeracion}" itemLabel="Temp. Refrigeración" 
                                                                 disabled="#{!validacionSolucionMB.permiso.puedeProcesar}" />
                                        <p:selectBooleanCheckbox id="chkTemAmbiente" value="#{validacionSolucionMB.surtimientoExtendedSelected.tempAmbiente}" itemLabel="Temp. Ambiente" 
                                                                 disabled="#{!validacionSolucionMB.permiso.puedeProcesar}" />
                                        <p:selectBooleanCheckbox id="chkProteccionLuz" value="#{validacionSolucionMB.surtimientoExtendedSelected.proteccionLuz}" itemLabel="Protección de Luz" 
                                                                 disabled="#{!validacionSolucionMB.permiso.puedeProcesar}" />
                                        <p:selectBooleanCheckbox id="chkNoAgitar" value="#{validacionSolucionMB.surtimientoExtendedSelected.noAgitar}" itemLabel="No agitar" 
                                                                 disabled="#{!validacionSolucionMB.permiso.puedeProcesar}" />
                                    </div>
                                    <div class="ui-g-12 ui-md-6 ui-lg-6" >
                                        <p:outputLabel id="lblIndicaciones" style="margin-right: 1px; font-weight: bold;" value="Indicaciones: " />
                                        <br/>
                                        <p:inputTextarea id="txtIndicaciones" rows="3" cols="80"
                                                         value="#{validacionSolucionMB.surtimientoExtendedSelected.indicaciones}" 
                                                         style="opacity: 99% !important;"
                                                         disabled="#{!preparacionSolucionMB.permiso.puedeAutorizar}" />
                                    </div>
                                </div>
                                
                                <div class="ui-g-12" style=" width: 100% !important; /*position: absolute; bottom: 0px;*/ background-color: #f8f8f8; border-top: solid 2px #C8C8C8;  " >
                                    <div class="ui-g-12 ui-md-6 ui-lg-4" style="display: flex; align-content: center; justify-content: space-between; float: right;" >
                                        <div>
                                            <p:commandButton value="Cerrar" 
                                                             icon="fa fa-times-circle" 
                                                             onclick="PF('modalSurtimiento').hide();"
                                                             style="margin-right: 10px;float: right;" />
                                        </div>
                                        <div >
                                            <p:commandButton value="Cancelar" 
                                                             icon="fa fa-times-circle" style="margin-right: 10px;float: right;" 
                                                             onclick="PF('statusProcess').show();"
                                                             oncomplete="PF('statusProcess').hide(); if (args.estatus) { PF('mdlMotivoCancel').show();}  else { PF('modalSurtimiento').content.scrollTop('0') } "
                                                             actionListener="#{validacionSolucionMB.validaCancelar}" 
                                                             styleClass="btnMusRed"
                                                             rendered="#{validacionSolucionMB.permiso.puedeAutorizar}"
                                                         update=":mainForm:tblSurtimientos , :mainForm:validaMsg , :frmCofirmaRechazo  " >
                                            </p:commandButton>
                                        </div>
                                        <div>
                                            <p:commandButton value="Rechazar" 
                                                             icon="fa fa-times-circle" style="margin-right: 10px;float: right;" 
                                                             onclick="PF('statusProcess').show()"
                                                             oncomplete="PF('statusProcess').hide(); if (args.estatus){PF('dlgCofirmaRechazo').show();}  else { PF('modalSurtimiento').content.scrollTop('0') } "
                                                             actionListener="#{validacionSolucionMB.validaRechazo}" 
                                                             styleClass="btnMusOrange" 
                                                             rendered="#{validacionSolucionMB.editable}"                                                              
                                                             update=":mainForm:tblSurtimientos , :mainForm:validaMsg , :frmCofirmaRechazo  " > 
                                            </p:commandButton>
                                        </div>
                                        <div >
                                            <p:commandButton value="Validar" 
                                                             icon="fa fa-check-circle" style="margin-right: 10px;float: right;"
                                                             onclick="PF('statusProcess').show()"
                                                             oncomplete="PF('statusProcess').hide(); if (args.estatus){PF('mdlResValidaciones').show();}  else { PF('modalSurtimiento').content.scrollTop('0') } "
                                                             actionListener="#{validacionSolucionMB.validaSolucion}" 
                                                             styleClass="btnMusAzul"
                                                             rendered="#{validacionSolucionMB.editable}" 
                                                             update=":formAlerts,:mainForm:validaMsg " > 
                                            </p:commandButton>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                            </p:confirmDialog>
                        </h:form>
                    <!--</p:scrollPanel>-->
                </p:dialog>
                
                <p:dialog header="CONFIRMACIÓN DE RECHAZO"
                          widgetVar="dlgCofirmaRechazo"
                          closeOnEscape="true"
                          closable="true"
                          modal="true" 
                          width="550"
                          height="180"
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important; " >
                    <h:form id="frmCofirmaRechazo" >
                        <p:messages id="msgCofirmaRechazo" globalOnly="false" showDetail="false" closable="true" />
                        <div class="ui-g"  >
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-12" >
                                    <p:outputLabel value="Motivo: " for="txtMotivoRechazo" />
                                    <p:selectOneMenu id="txtMotivoRechazo" class="sOneMenu" 
                                                     value="#{validacionSolucionMB.solucion.idMotivoRechazo}"
                                                     filter="true" filterMatchMode="contains" filterPlaceholder="Seleccione motivo"
                                                     required="true" requiredMessage="Seleccione motivo" immediate="true" >
                                        <f:selectItem itemValue="#{null}" itemLabel="Seleccione una opción"  />
                                        <f:selectItem itemValue="#{1}" itemLabel="Alta de paciente"/>
                                        <f:selectItem itemValue="#{2}" itemLabel="Cambio de Tratamiento"/>
                                        <f:selectItem itemValue="#{3}" itemLabel="Datos Incompletos"/>
                                        <f:selectItem itemValue="#{17}" itemLabel="Cantidades insuficientes" />
                                        <!--<f:selectItem itemValue="#{14}" itemLabel="Condiciones de preparación incorrectas" />-->
                                        <!--<f:selectItem itemValue="#{15}" itemLabel="Condiciones de conservación incorrectas" />-->
                                        <!--<f:selectItem itemValue="#{4}" itemLabel="Diagnóstico de alta"/>-->
                                        <f:selectItem itemValue="#{5}" itemLabel="Egreso de paciente"/>
                                        <!--<f:selectItem itemValue="#{6}" itemLabel="Error en preparación"/>-->
                                        <f:selectItem itemValue="#{7}" itemLabel="Error en prescripción"/>
                                        <!--<f:selectItem itemValue="# {12}" itemLabel="Medicamento contaminado" />-->
                                        <!--<f:selectItem itemValue="# {13}" itemLabel="Medicamento caduco" />-->
                                        <f:selectItem itemValue="#{8}" itemLabel="Mezcla inestable"/>
                                        <f:selectItem itemValue="#{10}" itemLabel="Reacción de hipersensibilidad"/>
                                        <f:selectItem itemValue="#{11}" itemLabel="Sospecha de RAM"/>
                                        <f:selectItem itemValue="#{9}" itemLabel="Sospecha de evento Adverso"/>
                                        <!--<f:selectItem itemValue="# {16}" itemLabel="Otro" />-->
                                    </p:selectOneMenu>
                                    </div>
                            </div>

                            <div class="ui-g-12"  >
                                <div class="ui-g-12 ui-md-6 ui-lg-4"  style="margin:0px; padding: 0px;  width: 100%!important;">
                                    <p:outputLabel value="Comentarios " for="txtComentariosRechazo" />
                                    <p:inputText id="txtComentariosRechazo" placeholder="" maxlength="180" size="40"
                                                 required="true" 
                                                 value="#{validacionSolucionMB.solucion.comentariosRechazo}" />
                                </div>
                            </div>
                            <div class="ui-g-12"  >
                                <div class="ui-g-12 ui-md-6 ui-lg-4"  style="margin:0px; padding: 0px;  width: 100%!important;">
                                    <p:outputLabel value="Desea rechazar la orden de Preparación de la Mezcla ?" style="font-weight: bold;" />
                                </div>
                            </div>
                        </div>
                        <div class="ui-g-12" style=" width: 100% !important; /*position: absolute; bottom: 0px;*/ background-color: #f8f8f8; border-top: solid 2px #C8C8C8;  " >
                            <div class="ui-g-12 ui-md-6 ui-lg-6" style="display: flex; align-content: center; justify-content: space-between; float: right;" >
                                <div>
                                   <p:commandButton value="No" 
                                                    icon="fa fa-times-circle" style="margin-right: 1px;float: right;"
                                                    styleClass="btnMusBoolGris" 
                                                    onclick="PF('dlgCofirmaRechazo').hide();" />
                                </div>
                                <div>
                                    <p:commandButton id="btnConfirmaRechazo" value="Si" 
                                                    style="margin-right: 1px; float: right;"
                                                    styleClass="btnMusRed" 
                                                    onclick="PF('statusProcess').show();"
                                                    actionListener="#{validacionSolucionMB.rechazarValidacionSolucion}" 
                                                    oncomplete="PF('statusProcess').hide(); if(args.estatus) { PF('dlgCofirmaRechazo').hide(); PF('modalSurtimiento').hide(); } else {  PF('modalSurtimiento').content.scrollTop('0'); } "
                                                    update=":mainForm, :formSurtimientoDetail, :frmCofirmaRechazo" >
                                        <p:confirm header="Confirmación" message="Realmente desea rechazar orden de mezcla ?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </div>
                            </div>
                        </div>
                    </h:form>
                </p:dialog>
                
                <p:dialog header="CONFIRMACIÓN DE CANCELACIÓN"
                          widgetVar="mdlMotivoCancel"
                          closeOnEscape="true"
                          closable="true"
                          width="500px" 
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important; " >
                    <h:form id="formCancelarSolucion"  >                        
                        <p:messages id="msgCancelar" showDetail="false" globalOnly="false" closable="true"  >
                            <p:autoUpdate />
                        </p:messages>

                        <div class="ui-g"  >
                            <div class="ui-g-12" >
                                <div class="ui-g-12 ui-md-6 ui-lg-12" >
                                    <p:outputLabel style="margin-right: 1px;" value="Seleccione el motivo: " />
                                    <p:selectOneMenu id="cmbJustificante" 
                                                     value="#{validacionSolucionMB.solucion.idMotivoCancelacion}"   
                                                     autoWidth="true"  >
                                        <f:selectItem itemValue="#{null}" itemLabel="Seleccione una opción"  />
                                        <f:selectItem itemValue="#{1}" itemLabel="Alta de paciente"/>
                                        <f:selectItem itemValue="#{2}" itemLabel="Cambio de Tratamiento"/>
                                        <!--<f:selectItem itemValue="#{3}" itemLabel="Datos Incompletos"/>-->
                                        <!--<f:selectItem itemValue="#{17}" itemLabel="Cantidades insuficientes" />-->
                                        <!--<f:selectItem itemValue="#{14}" itemLabel="Condiciones de preparación incorrectas" />-->
                                        <!--<f:selectItem itemValue="#{15}" itemLabel="Condiciones de conservación incorrectas" />-->
                                        <f:selectItem itemValue="#{4}" itemLabel="Diagnóstico de alta"/>
                                        <f:selectItem itemValue="#{5}" itemLabel="Egreso de paciente"/>
                                        <!--<f:selectItem itemValue="# {6}" itemLabel="Error en preparación"/>-->
                                        <!--<f:selectItem itemValue="# {7}" itemLabel="Error en prescripción"/>-->
                                        <!--<f:selectItem itemValue="# {12}" itemLabel="Medicamento contaminado" />-->
                                        <!--<f:selectItem itemValue="# {13}" itemLabel="Medicamento caduco" />-->
                                        <!--<f:selectItem itemValue="# {8}" itemLabel="Mezcla inestable"/>-->
                                        <!--<f:selectItem itemValue="# {10}" itemLabel="Reacción de hipersensibilidad"/>-->
                                        <!--<f:selectItem itemValue="# {11}" itemLabel="Sospecha de RAM"/>-->
                                        <!--<f:selectItem itemValue="# {9}" itemLabel="Sospecha de evento Adverso"/>-->
                                        <f:selectItem itemValue="#{16}" itemLabel="Otro" />
                                        <p:ajax event="change" update=":formCancelarSolucion:txtCual"
                                                listener="#{validacionSolucionMB.changeMotivo}" />   
                                    </p:selectOneMenu>
                                </div>
                            </div>

                            <div class="ui-g-12"  >
                                <div class="ui-g-12 ui-md-6 ui-lg-4"  style="margin:0px; padding: 0px;  width: 100%!important;">
                                    <p:outputLabel id="lblCual" style="margin-right: 1px;" value="¿Cual?: "  />
                                    <p:inputText id="txtCual" value="#{validacionSolucionMB.solucion.motivoCancela}" 
                                                 size="35" readonly="#{validacionSolucionMB.otro}" />
                                </div>
                            </div>

                            <div class="ui-g-12"  >
                                <div class="ui-g-12 ui-md-6 ui-lg-4"  style="margin:0px; padding: 0px;  width: 100%!important;">
                                    <p:outputLabel style="margin-right: 1px;" value="Comentarios: " /><br/>
                                    <p:inputTextarea  value="#{validacionSolucionMB.solucion.comentariosCancelacion}" rows="2" cols="50"  />
                                </div>
                            </div>
                            <div class="ui-g-12"  >
                                <div class="ui-g-12 ui-md-6 ui-lg-4"  style="margin:0px; padding: 0px;  width: 100%!important;">
                                    <p:outputLabel value="Desea cancelar la orden de Preparación de la Mezcla ?" style="font-weight: bold;" />
                                </div>
                            </div>
                        </div>
                        <div class="ui-g-12" style=" width: 100% !important; /*position: absolute; bottom: 0px;*/ background-color: #f8f8f8; border-top: solid 2px #C8C8C8;  " >
                            <div class="ui-g-12 ui-md-6 ui-lg-6" style="display: flex; align-content: center; justify-content: space-between; float: right;" >
                                <div>
                                    <p:commandButton value="No"  
                                                     icon="fa fa-times-circle" style="margin-right: 1px;float: right;"
                                                     styleClass="btnMusBoolGris" 
                                                     onclick="PF('mdlMotivoCancel').hide();" /> 
                                </div>
                                <div>
                                    <p:commandButton id="btnConfirmaCancela" value="Si" 
                                                     icon="fa fa-check-circle" style="margin-right: 1px;float: right;"
                                                     styleClass="btnMusRed" 
                                                     onclick="PF('statusProcess').show()" 
                                                     actionListener="#{validacionSolucionMB.cancelarSolucion}" 
                                                     oncomplete="PF('statusProcess').hide(); if(args.estatus){PF('mdlMotivoCancel').hide();PF('modalSurtimiento').hide();}"
                                                     update=":mainForm:tblSurtimientos" > 
                                        <p:confirm header="Confirmación" message="Realmente desea cancelar la orden de mezcla ?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </div>
                            </div>
                        </div>
                    </h:form>
                </p:dialog>
                
                <p:dialog widgetVar="mdlReport" width="820px" height="600px"
                          closeOnEscape="false" modal="true"                          
                          style="font-size:xx-small !important;" >
                    <h:form id="formPDF">
                        <p:media value="/Reportes" player="pdf" width="800px" height="600px" cache="false" />
                    </h:form>
                    <p:ajax event="close" listener="#{sesionMB.freeBytesFromSession()}"/>
                </p:dialog>
                               

                <p:dialog header="Resultados de la validación"
                          widgetVar="mdlResValidaciones"
                          closeOnEscape="true"
                          closable="true" height="600px"
                          width="90%" 
                          modal="true" 
                          style="font-size:xx-small !important; " >
                    <h:form id="formAlerts">
                        <p:messages id="validaMsgres" class="validaMsg" globalOnly="true" closable="true" >
                            <p:autoUpdate />
                        </p:messages>
                        <h:outputLabel value="#{validacionSolucionMB.alertasDTO.codigo}" style="font-weight: bold!important; color:black!important;" />
                        &nbsp;&nbsp;
                        <h:outputLabel value="#{validacionSolucionMB.alertasDTO.descripcion}" style="font-weight: bold!important; color:black!important;" />
                        <br/>
                        <p:dataTable emptyMessage=" " rows="10" 
                                     paginatorTemplate=" {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                                     currentPageReportTemplate=" "
                                     paginator="true" reflow="true"
                                     paginatorPosition="bottom" widgetVar="tblAlertaFarmaco" 
                                     value="#{validacionSolucionMB.alertasDTO.listaAlertaFarmacovigilancia}" var="item" 
                                     lazy="true" id="tblAlertaFarmaco" scrollable="true" scrollWidth="100%" scrollHeight="350"
                                     style="margin-bottom:5px;" >
                            
                            <f:facet name="header">
                                <h:outputLabel value="Alertas de Farmacovigilancia" style="font-weight: bold!important; color:white!important;" />
                            </f:facet>
                            
                            <p:column style="text-align: left !important; width: 5%;" headerText="Número">
                                <h:outputText value="#{item.numero}"/>
                            </p:column>

                            <p:column style="text-align: left !important; width: 25%;" headerText="Factor Uno">
                                <h:outputText value="#{item.factor1}" />
                            </p:column>                            

                            <p:column style="text-align: left !important; width: 25%;" headerText="Factor Dos">
                                <h:outputText value="#{item.factor2}" />
                            </p:column>
                            <p:column style="text-align: left !important; width: 5%;" headerText="Riesgo">
                                <h:outputLabel styleClass="#{item.riesgo eq 'Alto' ? 'riesgoAlto' : item.riesgo eq 'Medio' ? 'riesgoMedio' : item.riesgo eq 'Bajo' ? 'riesgoBajo' : null}" value="#{item.riesgo}"  />
                            </p:column>
                            <p:column style="text-align: left !important; width: 10%;" headerText="Tipo">
                                <h:outputText value="#{item.tipo}" />
                            </p:column>
                            <p:column style="text-align: left !important; width: 10%;" headerText="Origen">
                                <h:outputText value="#{item.origen}" />
                            </p:column>
                            <p:column style="text-align: left !important; width: 10%;" headerText="Clasificación">
                                <h:outputText value="#{item.clasificacion}" />
                            </p:column>
                            <p:column style="text-align: left !important; width: 10%;"  headerText="Motivo">
                                <h:outputText value="#{item.motivo}"  class="" />
                            </p:column>
                        </p:dataTable>
                        <br />
                        <p:dataTable emptyMessage=" " rows="10"
                                     paginatorTemplate=" {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                                     currentPageReportTemplate=" "
                                     paginator="true"  reflow="true"                                       
                                     paginatorPosition="bottom" widgetVar="tblAlertaFarmaco" 
                                     value="#{validacionSolucionMB.alertasDTO.validacionNoCumplidas}" var="item" 
                                     lazy="true" id="tblValidacionNoCumplida" scrollable="true" scrollWidth="100%" scrollHeight="350"
                                     style="margin-bottom:5px; text-align: center;" > 
                            
                            <f:facet name="header" >
                                <h:outputLabel value="Validaciones no Cumplidas" style="font-weight: bold!important; color:white!important;" />
                            </f:facet>

                            <p:column style="text-align: left !important; width: 5%;" headerText="Código">
                                <h:outputText value="#{item.codigo}"/>
                            </p:column>

                            <p:column style="text-align: left !important; width: 80%;" headerText="Descripción">
                                <h:outputText value="#{item.descripcion}"/>
                            </p:column>                            
                        </p:dataTable>
                        
                        <br /><br /><br />
                        
                        <p:dataTable emptyMessage=" " rows="10"
                                     paginatorTemplate=" {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                                     currentPageReportTemplate=" "
                                     paginator="true"  reflow="true"                                       
                                     paginatorPosition="bottom" widgetVar="tblAlertaProtocolos" 
                                     value="#{validacionSolucionMB.alertasDTO.listaProtocolos}" var="item" 
                                     lazy="true" id="tblAlertaProtocolos" scrollable="true" scrollWidth="100%" scrollHeight="350"                                    
                                     rendered="#{validacionSolucionMB.isOncologica}" >
                             <p:ajax event="rowDblselect" oncomplete="PF('modalDetalleProtocolo').show();" 
                                    update=":formDetalleProtocolo" listener="#{validacionSolucionMB.obtenerDetalle}"/>
                            <f:facet name="header">
                                <h:outputLabel value="Alertas de Protocolo" style="font-weight: bold!important; color:white!important;" />
                            </f:facet> 
                            <p:column style="text-align: left;"  headerText="Protocolo"  width="70px;">
                                <h:outputText value="#{item.claveProtocolo}"  />
                            </p:column>

                            <p:column style="text-align: left !important; "  headerText="Diagnóstico"  width="270px;" >
                                <h:outputText value="#{item.diagnostico}"    />
                            </p:column>                            

                            <p:column style="text-align: left;"  headerText="Clave"  width="120px;" >
                                <h:outputText value="#{item.claveMedicamento}" />
                            </p:column>
                            <p:column style="text-align: left;"  headerText="Descripción"  width="370px;" >
                                <h:outputText value="#{item.nombreMedicamento}"  />
                            </p:column>
                            <p:column style="text-align: left;"  headerText="Dosis"  width="90px;" >
                                <h:outputText value="#{item.dosis}" />
                            </p:column>
                            <p:column style="text-align: left;"  headerText="Frec"  width="70px;" >
                                <h:outputText value="#{item.frecuencia}"  />
                            </p:column>
                            <p:column style="text-align: left;"  headerText="Cilcos"  width="50px;" >
                                <h:outputText value="#{item.ciclos}"  />
                            </p:column>
                            <p:column style="text-align: left;"  headerText="Estab"  width="50px;" >
                                <h:outputText value="#{item.estabilidad}" />
                            </p:column>
                            <p:column style="text-align: left;"  headerText="#{msg['cenmez.areaCorp']}"  width="50px;" >
                                <h:outputText value="#{item.area}" />
                            </p:column>
                            <p:column style="text-align: left;"  headerText="Peso"  width="50px;" >
                                <h:outputText value="#{item.peso}" />
                            </p:column>
                             <p:column style="text-align: left;"  headerText="Acciones"  width="80px;" >
                                 
                                 <p:commandLink title="Medicación correcta" rendered="#{item.valido}">
                                     <i class="fa fa-check-square iconMusAzul" />
                                 </p:commandLink>   
                                <p:commandLink title="Ver detalle"  actionListener="#{validacionSolucionMB.obtenerDetalle(item)}" update=":formDetalleProtocolo"
                                               onclick="PF('statusProcess').show();" oncomplete="PF('statusProcess').hide();PF('modalDetalleProtocolo').show();" >
                                    <i class="fa fa-pencil-square-o iconMusAzul" />                                    
                                </p:commandLink> 
                             </p:column>
                        </p:dataTable>
                        
                        <p:commandButton value="Cerrar" style="margin-right: 10px;float: right;"  
                                         oncomplete="PF('mdlResValidaciones').hide();" />
                        
                        <p:commandButton value="Confirmar Validación"  styleClass="btnMusAzul" 
                                         icon="fa fa-check-circle" style="margin-right: 10px;float: right;"
                                         onclick="PF('statusProcess').show()"
                                         oncomplete="PF('statusProcess').hide(); if (args.estatus) {PF('mdlReport').show(); PF('mdlResValidaciones').hide(); PF('modalSurtimiento').hide();}"
                                         actionListener="#{validacionSolucionMB.continuarValidacionSolucion}"                                          
                                         update=":mainForm:tblSurtimientos , :mainForm:validaMsg , :formPDF " > 
                            <p:confirm header="Confirmación" message="Desea validar la Orden de Preparación ?" icon="ui-icon-alert" />
                        </p:commandButton>
                        
                        <p:commandButton value="Rechazar" styleClass="btnMusOrange" icon="fa fa-times-circle" 
                                         onclick="PF('statusProcess').hide();" 
                                         oncomplete="PF('statusProcess').hide(); if (args.estatus) { PF('mdlResValidaciones').hide(); PF('modalSurtimiento').hide();}"
                                         actionListener="#{validacionSolucionMB.rechazarValidacionSolucion}" 
                                         style="margin-right: 10px;float: right;" 
                                         update=":mainForm:tblSurtimientos , :mainForm:validaMsg "
                                         rendered="false"   > 
                            <p:confirm header="Confirmación" message="Desea rechazar la Solución ?" icon="ui-icon-alert" />
                        </p:commandButton>                       
                        
                        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                        </p:confirmDialog>
                    </h:form>
                </p:dialog>
                
                <p:dialog header="DETALLE DE PROTOCOLO"
                          widgetVar="modalDetalleProtocolo"
                          closeOnEscape="true"
                          width="60%" 
                          modal="true" 
                          resizable="false"
                          style="font-size:xx-small !important; " >

                    <h:form id="formDetalleProtocolo" >
                        <p:dataTable emptyMessage="No se encontraron registros" rows="10"
                                     paginatorTemplate=" {CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                                     currentPageReportTemplate=" "
                                     paginator="true"  reflow="true"                                       
                                     paginatorPosition="bottom" widgetVar="tblDetallePro" 
                                     value="#{validacionSolucionMB.listaDetalleProtocolos}" var="item" 
                                     lazy="true" id="tblDetallePro" scrollable="true" scrollWidth="100%" scrollHeight="350"
                                     style="margin-bottom:5px; text-align: center;" >                          

                            <p:column style="text-align: left;"  headerText="Nombre"  width="20%">
                                <h:outputText value="#{item.nombre}" class="" />
                            </p:column>

                            <p:column style="text-align: left !important; "  headerText="Indicada"  width="25%" >
                                <h:outputText value="#{item.indicada}"   class="" />
                            </p:column>                                                         
                            
                            <p:column style="text-align: left !important; "  headerText="Comentarios"  width="40%" >
                                 <h:outputText value="#{item.causa}"   class="" />
                            </p:column> 
                            
                            <p:column style="text-align: left !important; "  headerText="Prescrita"  width="25%" >
                                 <h:outputText value="#{item.prescrita}"   class="" />
                            </p:column> 
                        </p:dataTable>
                    </h:form>
                </p:dialog>    
                
                <p:dialog header="ALERTA" id="idAlert"
                          widgetVar="modalAlertaAutorizacion"
                          closeOnEscape="false"  resizable="false"
                          closable="false" styleClass="dlgAutoritation"
                          modal="true" style="align-content: center" >
                    <h:form id="formAlert">
                        <p:messages id="msgAuthorization" globalOnly="false" showDetail="false" closable="true" />
                        <div class="panelAlertYellow" style="height: 40px" align="center" >
                            <h:outputText value="#{validacionSolucionMB.msjAlert}"  escape="false" />
                        </div>
                        <br/>
                        <div align="center">
                            <h:outputText value="RESPONSABLE"  class="textoNegrita" />
                        </div>                        
                        <div class="ui-g">
                            <div class="ui-g-12">
                                <div class="ui-g-12 ui-md-6 ui-lg-1">
                                    <p:outputLabel style="margin-right: 10px;" value="Nombre:" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-4" style="width: 470px !important;">
                                    <p:inputText  value="#{validacionSolucionMB.nombreCompleto}"  size="55" readonly="true"   ></p:inputText>
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-1" style="width: 90px !important; border: #000 1 solid !important;">
                                    <p:commandButton value="Agregar" 
                                         styleClass="btnMusAzul"  rendered="false"
                                         icon="fa fa-plus"
                                         style="margin-right: 10px;float: right;" />
                                </div>
                                <div class="ui-g-12 ui-md-6 ui-lg-2" style="width: 90px !important;">
                                    <p:commandButton value="Editar" rendered="false" 
                                         styleClass="btnMusAzul" 
                                         icon="fa fa-pencil"                                          
                                         style="margin-right: 10px;float: right;" />
                                </div>
                            </div>
                        </div>  
                        <br/>
                        <div align="center">
                            <h:outputText value="AUTORIZADOR"  class="textoNegrita" />
                        </div>                        
                        <div class="ui-g">
                            <div class="ui-g-12">
                                <div class="ui-g-12 ui-md-8 ui-lg-1">
                                    <p:outputLabel style="margin-right: 10px;" value="Usuario:" />
                                </div>
                                <div class="ui-g-12 ui-md-8 ui-lg-3">
                                    <p:inputText value="#{validacionSolucionMB.userResponsable}"  size="15"   > </p:inputText>
                                </div>
                                <div class="ui-g-12 ui-md-8 ui-lg-1" style="width: 80px !important;">
                                    <p:outputLabel style="margin-right:0px;" value="Contraseña:" />
                                </div>
                                <div class="ui-g-12 ui-md-8 ui-lg-4" style="width: 250px !important;">
                                    <p:inputText type="password"   value="#{validacionSolucionMB.passResponsable}"  size="15"   > </p:inputText>
                                </div>
                                <div class="ui-g-12 ui-md-8 ui-lg-1">
                                    <p:commandButton value="Autorizar" 
                                        styleClass="btnMusVerde" 
                                        icon="fa fa-check" 
                                        onclick="PF('statusProcess').show()" update=":formSurtimientoDetail:tblInsumos,:formSurtimientoDetail:msgValidaRegistro,:formAlert"
                                        actionListener="#{validacionSolucionMB.Authorization}"
                                        style="margin-right: 10px;float: right;" >
                                        <p:confirm header="Confirmación" message="¿Realmente desea autorizar el surtimiento ?" icon="ui-icon-alert" />
                                    </p:commandButton>
                                </div>
                            </div>
                        </div>  
                        <br/>
                        <p:commandButton value="Negar" rendered="false"
                                 styleClass="btnMusAzul" 
                                 icon="fa fa-check-circle"                        
                                 style="margin-right: 10px;float: right; width: 80px;"
                                onclick="PF('statusProcess').show()"
                                 />

                            <p:commandButton value="Cancelar"
                                 
                                 icon="fa fa-times-circle"
                                 onclick="PF('statusProcess').show()"
                                 actionListener="#{validacionSolucionMB.CancelAuthorization}"
                                 style="margin-right: 10px;float: right;" />  
                    </h:form>
                </p:dialog>
                
                <p:dialog header="ADVERTENCIA" id="idWarning"
                          widgetVar="modalWarning"
                          closeOnEscape="false"  resizable="false"
                          closable="false" 
                          modal="true" style="align-content: center" >
                    <h:form id="formWarning">
                        <div style="height: 50px" align="center" >
                            <h:outputText id="msjWarning" value="#{validacionSolucionMB.msjWarning}" escape="false" />
                        </div>
                        <hr/>
                        <p:commandButton value="Cerrar" icon="fa fa-times-circle" onclick="PF('modalWarning').hide()"
                                 style="margin-right: 10px;float: right;" />  
                    </h:form>
                </p:dialog>
                
                
                <p:dialog header="AGREGAR PACIENTE"
                          widgetVar="modalAgregarPaciente"
                          closeOnEscape="true"
                          closable="true"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          width="450px" 
                          style="font-size:xx-small !important; " >

                    <h:form id="formAgregarPaciente" >
                        <p:messages id="msgModalAddUsuario" globalOnly="false" showDetail="false" closable="true" />

                        <p:outputLabel value="Tipo de paciente :" style="display: inline-block;width: 180px;"
                                       rendered="false" />
                        <p:selectOneMenu id="tipoPaciente" 
                                         value="#{validacionSolucionMB.paciente.idTipoPaciente}"
                                         autoWidth="false"
                                         style="width: 152px;"
                                         rendered="false" >
                            <f:selectItems value="#{validacionSolucionMB.listaTipoPacientes}"
                                           var="tipoPaciente"
                                           itemValue="#{tipoPaciente.idCatalogoGeneral}"
                                           itemLabel="#{tipoPaciente.nombreCatalogo}"/>
                        </p:selectOneMenu>
                        <br/>
                        <p:outputLabel value="Clave de Paciente :" style="display: inline-block;width: 180px;margin-bottom: 10px;" for="txtPacClavePaciente" />
                        <p:inputText id="txtPacClavePaciente" value="#{validacionSolucionMB.paciente.claveDerechohabiencia}" required="true" />
                        <br/>
                        <p:outputLabel value="Nombre :" style="display: inline-block;width: 180px;margin-bottom: 10px;" for="txtPacNombrePaciente" />
                        <p:inputText id="txtPacNombrePaciente" value="#{validacionSolucionMB.paciente.nombreCompleto}" required="true"/>
                        <br/>
                        <p:outputLabel value="Apellido Paterno :" style="display: inline-block;width: 180px;margin-bottom: 10px;" for="txtPacApePatPaciente" />
                        <p:inputText id="txtPacApePatPaciente" value="#{validacionSolucionMB.paciente.apellidoPaterno}" required="true"/>
                        <br/>
                        <p:outputLabel value="Apellido Materno :" style="display: inline-block;width: 180px;margin-bottom: 10px;"/>
                        <p:inputText value="#{validacionSolucionMB.paciente.apellidoMaterno}"/>
                        <br/>
                        <p:outputLabel value="Sexo :" style="display: inline-block;width: 180px;margin-bottom: 10px;" for="txtPacSexoPaciente" />
                        <p:selectOneButton id="txtPacSexoPaciente" value="#{validacionSolucionMB.paciente.sexo}">
                            <f:selectItem itemLabel="Masculino" itemValue="M" />
                            <f:selectItem itemLabel="Femenino" itemValue="F" />
                        </p:selectOneButton>
                        <br/>
                        <p:outputLabel value="Fecha Nacimiento :" style="display: inline-block;width: 180px;margin-bottom: 10px;" for="txtFechaInicio" />
                        <p:calendar id="txtFechaInicio" 
                                    required="true" 
                                    value="#{validacionSolucionMB.paciente.fechaNacimiento}" 
                                    showOn="button" 
                                    locale="es_MX" 
                                    navigator="true" 
                                    yearRange="c-100:c"
                                    pattern="dd/MM/yyyy"
                                    maxdate="#{validacionSolucionMB.fechaActual}"
                                    pages="1" 
                                    mask="true" />
                        <br/>                       
<!--                        <br/>
                        <br/>-->
                        <p:selectCheckboxMenu id="turno"
                                              label="Turnos"
                                              value="#{validacionSolucionMB.listaIdTurnos}" 
                                              rendered="false"
                                              >
                            <f:selectItems value="#{validacionSolucionMB.listaTurnos}"
                                           var="turno"
                                           rendered="false"
                                           itemValue="#{turno.idTurno.toString()}"
                                           itemLabel="#{turno.nombre}"/>
                        </p:selectCheckboxMenu>
                        <br/>
                        <br/>
                        <p:commandButton title="Guardar paciente" value="Agregar" 
                                         onclick="PF('statusProcess').show();"
                                         actionListener="#{validacionSolucionMB.agregarPaciente}"
                                         oncomplete="PF('statusProcess').hide();if(!args.error){PF('modalAgregarPaciente').hide()};"
                                         update=":formSurtimientoDetail:msgValidaRegistro msgModalAddUsuario" />

                        <p:commandButton title="Agregar" value="Cancelar" 
                                         oncomplete="PF('modalAgregarPaciente').hide();"
                                         />

                        <p:confirmDialog global="true" 
                                         showEffect="fade" 
                                         hideEffect="fade">
                            <p:commandButton value="Si" 
                                             type="button" 
                                             styleClass="ui-confirmdialog-yes" 
                                             icon="ui-icon-check" />
                            <p:commandButton value="No" 
                                             type="button" 
                                             styleClass="ui-confirmdialog-no" 
                                             icon="ui-icon-close" />
                        </p:confirmDialog>

                    </h:form>
                </p:dialog>

                <p:dialog header="AGREGAR MÉDICO"
                          widgetVar="modalAgregarMedico"
                          closeOnEscape="true"
                          closable="true"
                          modal="true" 
                          resizable="false"
                          responsive="true"
                          style="font-size:xx-small !important; " >

                    <h:form id="formAgregarMedico" >
                        <p:messages id="msgModalAddMedico" globalOnly="false" showDetail="false" closable="true" />
                        <p:panelGrid columns="2" >
                            <p:outputLabel value="Nombre" for="txtNombre" />
                            <p:inputText id="txtNombre" style="width: 300px !important;"  label="Nombre" 
                                         maxlength="20"
                                         required="true" 
                                         value="#{validacionSolucionMB.medicoExtended.nombre}"  >
                            </p:inputText>

                            <p:outputLabel value="Apellido Paterno" for="txtNombrePaterno" />
                            <p:inputText id="txtNombrePaterno" style="width: 300px !important;"   maxlength="20"
                                         label="Apellido Paterno"  
                                         required="true" 
                                         value="#{validacionSolucionMB.medicoExtended.apellidoPaterno}"  >
                            </p:inputText>

                            <p:outputLabel value="Apellido Materno" />
                            <p:inputText id="txtApellidoMaterno" style="width: 300px !important;" label="Apellido Materno" maxlength="20"
                                         value="#{validacionSolucionMB.medicoExtended.apellidoMaterno}"   >
                            </p:inputText>

                            <p:outputLabel value="Cedula Profesional:" for="cedProf" />
                            <p:inputText id="cedProf" style="width: 200px !important;" value="#{validacionSolucionMB.medicoExtended.cedProfesional}"
                                         required="true" />

                            <p:outputLabel value="Cedula Especialidad:" />
                            <p:inputText id="cedEsp"  style="width: 200px !important;" value="#{validacionSolucionMB.medicoExtended.cedEspecialidad}"/>

                            <p:outputLabel value="Turnos:" rendered="false" />
                            <p:selectCheckboxMenu id="turnoMedico"
                                                  label="Turnos"
                                                  class="sOneMenu"
                                                  rendered="false"
                                                  value="#{validacionSolucionMB.listaIdTurnos}" 
                                                  >
                                <f:selectItems value="#{validacionSolucionMB.listaTurnos}"
                                               var="turno"
                                               itemValue="#{turno.idTurno.toString()}"
                                               itemLabel="#{turno.nombre}"/>
                            </p:selectCheckboxMenu>

                        </p:panelGrid>
                        <br/>                                                         

                        <p:commandButton id="btnSave1"
                                         actionListener="#{validacionSolucionMB.agregarMedicos}"
                                         styleClass="btnMusAzul" 
                                         value="Guardar" 
                                         style="float: right;"
                                         onclick="PF('statusProcess').show();"
                                         oncomplete="PF('statusProcess').hide();if(!args.errorModalMedicos){PF('modalAgregarMedico').hide();}"
                                         update=":formSurtimientoDetail:msgValidaRegistro msgModalAddMedico" />
                                         />


                    </h:form>
                </p:dialog>
                
                
            </ui:define>
        </ui:composition>
    </h:body>

</html>
