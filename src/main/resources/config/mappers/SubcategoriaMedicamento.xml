<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="mx.mc.mapper.SubcategoriaMedicamentoMapper">
    
    <select id="obtenerLista" resultType="mx.mc.model.SubcategoriaMedicamento" parameterType="mx.mc.model.SubcategoriaMedicamento">
        SELECT  idSubcategoriaMedicamento, nombreSubcategoriaMedicamento 
        FROM subcategoriaMedicamento
        WHERE 1=1
        <if test=" idCategoriaMedicamento != null ">
            AND idCategoriaMedicamento = #{ idCategoriaMedicamento , jdbcType = INTEGER }
        </if>
    </select>
    
    <select id="obtenerSubPorNombre" resultType="mx.mc.model.SubcategoriaMedicamento" parameterType="Map">
        SELECT  idSubcategoriaMedicamento, nombreSubcategoriaMedicamento 
        FROM subcategoriaMedicamento
        WHERE 1=1
        <if test=" idCategoriaMedicamento != null ">
            AND idCategoriaMedicamento = #{ idCategoriaMedicamento , jdbcType = INTEGER }
        </if>
        <if test=" nombreSubcategoriaMedicamento != null ">
            AND nombreSubcategoriaMedicamento = #{ nombreSubcategoriaMedicamento}
        </if>
    </select>
    
    <select id="obtenerPorIdSubcategoriaMedicamento" resultType="mx.mc.model.SubcategoriaMedicamento" parameterType="Map">
        SELECT  idSubcategoriaMedicamento, nombreSubcategoriaMedicamento 
        FROM subcategoriaMedicamento
        WHERE 1=1
        <if test=" idSubCategoriaMedicamento != null ">
            AND idSubcategoriaMedicamento = #{ idSubCategoriaMedicamento , jdbcType = INTEGER }
        </if>
    </select>
    
   
     
    <select id="obtenerPorIdSubcategoriaMedicamentos" resultType="mx.mc.model.SubcategoriaMedicamento" parameterType="Map">
    SELECT  sm.idSubcategoriaMedicamento, sm.nombreSubcategoriaMedicamento 
        FROM subcategoriaMedicamento sm
        inner join medicamento m on m.idSubcategoria = sm.idSubcategoriaMedicamento
        where 1 = 1    
        <if test=" idMedicamento != null ">
           and  m.idMedicamento = #{ idMedicamento , jdbcType = VARCHAR }
        </if>
    </select>
      
    
    
</mapper>

