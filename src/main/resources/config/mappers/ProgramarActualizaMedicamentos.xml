<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="mx.mc.mapper.ProgramarAtualMedicamentosMapper" >
    
     <insert id="insertar" parameterType="mx.mc.model.ProgramarActualizaMedicamentos" >
        INSERT INTO programarActualizaMedicamentos (
            <if test=" idProgramarActualizaMedicamentos != null ">idProgramarActualizaMedicamentos</if>  
            <if test=" fechaProgramada != null ">, fechaProgramada</if>
            <if test=" nota != null ">, nota</if>
            <if test=" estatus != null ">, estatus</if>
            <if test=" insertFecha != null ">, insertFecha</if>
            <if test=" insertIdUsuario != null ">, insertIdUsuario</if>
            ) VALUES (
            <if test=" idProgramarActualizaMedicamentos != null ">#{ idProgramarActualizaMedicamentos , jdbcType = VARCHAR }</if>
            <if test=" fechaProgramada != null ">, #{ fechaProgramada, jdbcType = TIMESTAMP }</if>
            <if test=" nota != null ">, #{ nota, jdbcType = VARCHAR }</if>
            <if test=" estatus != null ">, #{ estatus, jdbcType = INTEGER }</if>
            <if test=" insertFecha != null ">, #{ insertFecha, jdbcType = TIMESTAMP }</if>
            <if test=" insertIdUsuario != null ">, #{ insertIdUsuario, jdbcType = VARCHAR }</if>
            )
     </insert>
     
    <select id="obtenerFechasProgramadas" resultType="mx.mc.model.ProgramarActualizaMedicamentos" parameterType="Map" >
        SELECT idProgramarActualizaMedicamentos, fechaProgramada, nota, estatus, insertFecha, insertIdUsuario
            FROM programarActualizaMedicamentos order by insertFecha
    </select>
    
    <update id="cancelarFechaProgramada" parameterType="Map">
        UPDATE programarActualizaMedicamentos 
        <set>
            estatus = 4
        </set>
          WHERE 
            idProgramarActualizaMedicamentos = #{idProgramarActualizaMedicamentos, jdbcType = VARCHAR}
    </update>
    
</mapper>