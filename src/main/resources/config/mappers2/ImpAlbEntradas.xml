<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.seidor.ulises.mapper.ImpAlbEntradasMapper" >
    <select id="obtener" resultType="com.seidor.ulises.model.ImpAlbEntradas" parameterType="com.seidor.ulises.model.ImpAlbEntradas" >
        SELECT id,
            albaran,
            documento,
            tipoMovimientoCliente,
            proveedor,
            observaciones,
            tratado,
            error,
            fechaTratado,
            version,
            prioridad,
            urgencia,
            orden,
            centro,
            tipoFlujo,
            tipoAlmacen,
            fechaRecepcion,
            codProveedor,
            fechaCreacion,
            clasificaciones,
            valoresClasificaciones,
            matricula,
            zonaVisualizacion,
            checkListDescarga,
            codCliente,
            cliente,
            documentoOrigen,
            condicionAgrupa,
            propietario,
            pedidoCliente
        FROM impAlbEntradas
        WHERE 1=1
        <if test=" albaran != null ">
            AND albaran = #{ albaran , jdbcType = VARCHAR }
        </if>
        <if test=" documento != null ">
            AND documento = #{ documento , jdbcType = VARCHAR }
        </if>
        <if test=" tipoMovimientoCliente != null ">
            AND tipoMovimientoCliente = #{ tipoMovimientoCliente , jdbcType = VARCHAR }
        </if>
        <if test=" proveedor != null ">
            AND proveedor = #{ proveedor , jdbcType = VARCHAR }
        </if>
        <if test=" observaciones != null ">
            AND observaciones = #{ observaciones , jdbcType = VARCHAR }
        </if>
        <if test=" tratado != null ">
            AND tratado = #{ tratado , jdbcType = VARCHAR }
        </if>
        <if test=" error != null ">
            AND error = #{ error , jdbcType = VARCHAR }
        </if>
        <if test=" fechaTratado != null ">
            AND fechaTratado = #{ fechaTratado , jdbcType = TIMESTAMP }
        </if>
        <if test=" version != null ">
            AND version = #{ version , jdbcType = INTEGER }
        </if>
        <if test=" prioridad != null ">
            AND prioridad = #{ prioridad , jdbcType = INTEGER }
        </if>
        <if test=" urgencia != null ">
            AND urgencia = #{ urgencia , jdbcType = INTEGER }
        </if>
        <if test=" orden != null ">
            AND orden = #{ orden , jdbcType = INTEGER }
        </if>
        <if test=" centro != null ">
            AND centro = #{ centro , jdbcType = VARCHAR }
        </if>
        <if test=" tipoFlujo != null ">
            AND tipoFlujo = #{ tipoFlujo , jdbcType = VARCHAR }
        </if>
        <if test=" tipoAlmacen != null ">
            AND tipoAlmacen = #{ tipoAlmacen , jdbcType = VARCHAR }
        </if>
        <if test=" fechaRecepcion != null ">
            AND fechaRecepcion = #{ fechaRecepcion , jdbcType = VARCHAR }
        </if>
        <if test=" codProveedor != null ">
            AND codProveedor = #{ codProveedor , jdbcType = VARCHAR }
        </if>
        <if test=" fechaCreacion != null ">
            AND fechaCreacion = #{ fechaCreacion , jdbcType = TIMESTAMP }
        </if>
        <if test=" clasificaciones != null ">
            AND clasificaciones = #{ clasificaciones , jdbcType = VARCHAR }
        </if>
        <if test=" valoresClasificaciones != null ">
            AND valoresClasificaciones = #{ valoresClasificaciones , jdbcType = VARCHAR }
        </if>
        <if test=" matricula != null ">
            AND matricula = #{ matricula , jdbcType = VARCHAR }
        </if>
        <if test=" zonaVisualizacion != null ">
            AND zonaVisualizacion = #{ zonaVisualizacion , jdbcType = VARCHAR }
        </if>
        <if test=" checkListDescarga != null ">
            AND checkListDescarga = #{ checkListDescarga , jdbcType = VARCHAR }
        </if>
        <if test=" codCliente != null ">
            AND codCliente = #{ codCliente , jdbcType = VARCHAR }
        </if>
        <if test=" cliente != null ">
            AND cliente = #{ cliente , jdbcType = VARCHAR }
        </if>
        <if test=" documentoOrigen != null ">
            AND documentoOrigen = #{ documentoOrigen , jdbcType = VARCHAR }
        </if>
        <if test=" condicionAgrupa != null ">
            AND condicionAgrupa = #{ condicionAgrupa , jdbcType = VARCHAR }
        </if>
        <if test=" propietario != null ">
            AND propietario = #{ propietario , jdbcType = VARCHAR }
        </if>
        <if test=" pedidoCliente != null ">
            AND pedidoCliente = #{ pedidoCliente , jdbcType = VARCHAR }
        </if>
        LIMIT 0, 1
    </select>

    <select id="obtenerLista" resultType="com.seidor.ulises.model.ImpArticulos" parameterType="com.seidor.ulises.model.ImpArticulos" >
        SELECT id,
            albaran,
            documento,
            tipoMovimientoCliente,
            proveedor,
            observaciones,
            tratado,
            error,
            fechaTratado,
            version,
            prioridad,
            urgencia,
            orden,
            centro,
            tipoFlujo,
            tipoAlmacen,
            fechaRecepcion,
            codProveedor,
            fechaCreacion,
            clasificaciones,
            valoresClasificaciones,
            matricula,
            zonaVisualizacion,
            checkListDescarga,
            codCliente,
            cliente,
            documentoOrigen,
            condicionAgrupa,
            propietario,
            pedidoCliente
        FROM impAlbEntradas
        WHERE 1=1
        <if test=" albaran != null ">
            AND albaran = #{ albaran , jdbcType = VARCHAR }
        </if>
        <if test=" documento != null ">
            AND documento = #{ documento , jdbcType = VARCHAR }
        </if>
        <if test=" tipoMovimientoCliente != null ">
            AND tipoMovimientoCliente = #{ tipoMovimientoCliente , jdbcType = VARCHAR }
        </if>
        <if test=" proveedor != null ">
            AND proveedor = #{ proveedor , jdbcType = VARCHAR }
        </if>
        <if test=" observaciones != null ">
            AND observaciones = #{ observaciones , jdbcType = VARCHAR }
        </if>
        <if test=" tratado != null ">
            AND tratado = #{ tratado , jdbcType = VARCHAR }
        </if>
        <if test=" error != null ">
            AND error = #{ error , jdbcType = VARCHAR }
        </if>
        <if test=" fechaTratado != null ">
            AND fechaTratado = #{ fechaTratado , jdbcType = TIMESTAMP }
        </if>
        <if test=" version != null ">
            AND version = #{ version , jdbcType = INTEGER }
        </if>
        <if test=" prioridad != null ">
            AND prioridad = #{ prioridad , jdbcType = INTEGER }
        </if>
        <if test=" urgencia != null ">
            AND urgencia = #{ urgencia , jdbcType = INTEGER }
        </if>
        <if test=" orden != null ">
            AND orden = #{ orden , jdbcType = INTEGER }
        </if>
        <if test=" centro != null ">
            AND centro = #{ centro , jdbcType = VARCHAR }
        </if>
        <if test=" tipoFlujo != null ">
            AND tipoFlujo = #{ tipoFlujo , jdbcType = VARCHAR }
        </if>
        <if test=" tipoAlmacen != null ">
            AND tipoAlmacen = #{ tipoAlmacen , jdbcType = VARCHAR }
        </if>
        <if test=" fechaRecepcion != null ">
            AND fechaRecepcion = #{ fechaRecepcion , jdbcType = VARCHAR }
        </if>
        <if test=" codProveedor != null ">
            AND codProveedor = #{ codProveedor , jdbcType = VARCHAR }
        </if>
        <if test=" fechaCreacion != null ">
            AND fechaCreacion = #{ fechaCreacion , jdbcType = TIMESTAMP }
        </if>
        <if test=" clasificaciones != null ">
            AND clasificaciones = #{ clasificaciones , jdbcType = VARCHAR }
        </if>
        <if test=" valoresClasificaciones != null ">
            AND valoresClasificaciones = #{ valoresClasificaciones , jdbcType = VARCHAR }
        </if>
        <if test=" matricula != null ">
            AND matricula = #{ matricula , jdbcType = VARCHAR }
        </if>
        <if test=" zonaVisualizacion != null ">
            AND zonaVisualizacion = #{ zonaVisualizacion , jdbcType = VARCHAR }
        </if>
        <if test=" checkListDescarga != null ">
            AND checkListDescarga = #{ checkListDescarga , jdbcType = VARCHAR }
        </if>
        <if test=" codCliente != null ">
            AND codCliente = #{ codCliente , jdbcType = VARCHAR }
        </if>
        <if test=" cliente != null ">
            AND cliente = #{ cliente , jdbcType = VARCHAR }
        </if>
        <if test=" documentoOrigen != null ">
            AND documentoOrigen = #{ documentoOrigen , jdbcType = VARCHAR }
        </if>
        <if test=" condicionAgrupa != null ">
            AND condicionAgrupa = #{ condicionAgrupa , jdbcType = VARCHAR }
        </if>
        <if test=" propietario != null ">
            AND propietario = #{ propietario , jdbcType = VARCHAR }
        </if>
        <if test=" pedidoCliente != null ">
            AND pedidoCliente = #{ pedidoCliente , jdbcType = VARCHAR }
        </if>
    </select>

    <insert id="insertar" parameterType="com.seidor.ulises.model.ImpAlbEntradas" >
        INSERT INTO impAlbEntradas (
            albaran,
            documento,
            tipoMovimientoCliente,
            proveedor,
            observaciones,
            tratado,
            error,
            fechaTratado,
            version,
            prioridad,
            urgencia,
            orden,
            centro,
            tipoFlujo,
            tipoAlmacen,
            fechaRecepcion,
            codProveedor,
            fechaCreacion,
            clasificaciones,
            valoresClasificaciones,
            matricula,
            zonaVisualizacion,
            checkListDescarga,
            codCliente,
            cliente,
            documentoOrigen,
            condicionAgrupa,
            propietario,
            pedidoCliente
        ) VALUES (
            #{ albaran , jdbcType = VARCHAR }
            , #{ documento , jdbcType = VARCHAR }
            , #{ tipoMovimientoCliente , jdbcType = VARCHAR }
            , #{ proveedor , jdbcType = VARCHAR }
            , #{ observaciones , jdbcType = VARCHAR }
            , #{ tratado , jdbcType = VARCHAR }
            , #{ error , jdbcType = VARCHAR }
            , #{ fechaTratado , jdbcType = TIMESTAMP }
            , #{ version , jdbcType = INTEGER }
            , #{ prioridad , jdbcType = INTEGER }
            , #{ urgencia , jdbcType = INTEGER }
            , #{ orden , jdbcType = INTEGER }
            , #{ centro , jdbcType = VARCHAR }
            , #{ tipoFlujo , jdbcType = VARCHAR }
            , #{ tipoAlmacen , jdbcType = VARCHAR }
            , #{ fechaRecepcion , jdbcType = VARCHAR }
            , #{ codProveedor , jdbcType = VARCHAR }
            , #{ fechaCreacion , jdbcType = TIMESTAMP }
            , #{ clasificaciones , jdbcType = VARCHAR }
            , #{ valoresClasificaciones , jdbcType = VARCHAR }
            , #{ matricula , jdbcType = VARCHAR }
            , #{ zonaVisualizacion , jdbcType = VARCHAR }
            , #{ checkListDescarga , jdbcType = VARCHAR }
            , #{ codCliente , jdbcType = VARCHAR }
            , #{ cliente , jdbcType = VARCHAR }
            , #{ documentoOrigen , jdbcType = VARCHAR }
            , #{ condicionAgrupa , jdbcType = VARCHAR }
            , #{ propietario , jdbcType = VARCHAR }
            , #{ pedidoCliente , jdbcType = VARCHAR }
        )
    </insert>

    <insert id="registraImpAlbEntradasList" parameterType="java.util.List" useGeneratedKeys="false" >
        INSERT INTO impAlbEntradas (
            albaran,
            documento,
            tipoMovimientoCliente,
            proveedor,
            observaciones,
            tratado,
            error,
            fechaTratado,
            version,
            prioridad,
            urgencia,
            orden,
            centro,
            tipoFlujo,
            tipoAlmacen,
            fechaRecepcion,
            codProveedor,
            fechaCreacion,
            clasificaciones,
            valoresClasificaciones,
            matricula,
            zonaVisualizacion,
            checkListDescarga,
            codCliente,
            cliente,
            documentoOrigen,
            condicionAgrupa,
            propietario,
            pedidoCliente
        ) VALUES
        <foreach collection="list" item="item" separator="," index="index">  
        (
            #{ item.albaran , jdbcType = VARCHAR }
            , #{ item.documento , jdbcType = VARCHAR }
            , #{ item.tipoMovimientoCliente , jdbcType = VARCHAR }
            , #{ item.proveedor , jdbcType = VARCHAR }
            , #{ item.observaciones , jdbcType = VARCHAR }
            , #{ item.tratado , jdbcType = VARCHAR }
            , #{ item.error , jdbcType = VARCHAR }
            , #{ item.fechaTratado , jdbcType = TIMESTAMP }
            , #{ item.version , jdbcType = INTEGER }
            , #{ item.prioridad , jdbcType = INTEGER }
            , #{ item.urgencia , jdbcType = INTEGER }
            , #{ item.orden , jdbcType = INTEGER }
            , #{ item.centro , jdbcType = VARCHAR }
            , #{ item.tipoFlujo , jdbcType = VARCHAR }
            , #{ item.tipoAlmacen , jdbcType = VARCHAR }
            , #{ item.fechaRecepcion , jdbcType = VARCHAR }
            , #{ item.codProveedor , jdbcType = VARCHAR }
            , #{ item.fechaCreacion , jdbcType = TIMESTAMP }
            , #{ item.clasificaciones , jdbcType = VARCHAR }
            , #{ item.valoresClasificaciones , jdbcType = VARCHAR }
            , #{ item.matricula , jdbcType = VARCHAR }
            , #{ item.zonaVisualizacion , jdbcType = VARCHAR }
            , #{ item.checkListDescarga , jdbcType = VARCHAR }
            , #{ item.codCliente , jdbcType = VARCHAR }
            , #{ item.cliente , jdbcType = VARCHAR }
            , #{ item.documentoOrigen , jdbcType = VARCHAR }
            , #{ item.condicionAgrupa , jdbcType = VARCHAR }
            , #{ item.propietario , jdbcType = VARCHAR }
            , #{ item.pedidoCliente , jdbcType = VARCHAR }
        )
        </foreach>
    </insert>
</mapper>